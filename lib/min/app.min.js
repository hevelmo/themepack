function Loader(e,t,i,n,o,s,r,a,l,c,u){this.canvas=t,this.ctx=e,this.x=i,this.y=n,this.radius=o,this.color=s,u&&(this.root=u),l&&(this.callback=l),c&&(this.callbackCheck=c),this.tailLength=r,this.start=-.5,this.end=1.5,this.currentStart=this.start,this.currentEnd=this.start,this.waitFrames=5,this.waitIterator=0,this.totalIterations=60,this.alpha=1,this.startIterator=0,this.endIterator=0,this.totalMoved={x:0,y:0},this.state={loaded:!1,debug:!1,complete:!1},a&&(this.state.debug=!0,this.debugVars=["startIterator","endIterator","currentStart","currentEnd","totalIterations","tailLength","x","y","radius","color","waitFrames","waitIterator"]),this.hidden=!1,this.clickIterator=0,this.clickIteratorTotal=30,this[this.callback]||console.log('specified callback "'+this.callback+'" not found.'),this[this.callback+"Setup"]?this[this.callback+"Setup"]():console.log('specified setup function "'+this.callback+'Setup" not found.')}function loadInfoBox(){function e(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof e.visible&&("undefined"==typeof e.isHidden?e.visible=!0:e.visible=!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}return e.prototype=new google.maps.OverlayView,e.prototype.createInfoBoxDiv_=function(){var e,t,i,n=this,o=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},s=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),n.enableEventPropagation_||o(e)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(i=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-i.left-i.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],o));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",s),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},e.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},e.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},e.prototype.panBox_=function(e){var t,i,n=0,o=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),i=t.getBounds();var s=t.getDiv(),r=s.offsetWidth,a=s.offsetHeight,l=this.pixelOffset_.width,c=this.pixelOffset_.height,u=this.div_.offsetWidth,d=this.div_.offsetHeight,h=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);f.x<-l+h?n=f.x+l-h:f.x+u+l+h>r&&(n=f.x+u+l+h-r),this.alignBottom_?f.y<-c+p+d?o=f.y+c-p-d:f.y+c+p>a&&(o=f.y+c+p-a):f.y<-c+p?o=f.y+c-p:f.y+d+c+p>a&&(o=f.y+d+c+p-a),(0!==n||0!==o)&&(t.getCenter(),t.panBy(n,o))}},e.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},e.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},i=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=i.ownerDocument.defaultView.getComputedStyle(i,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&i.currentStyle&&(t.top=parseInt(i.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(i.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(i.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(i.currentStyle.borderRightWidth,10)||0),t},e.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},e.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},e.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.visible&&(this.isHidden_=!e.visible),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},e.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},e.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},e.prototype.getContent=function(){return this.content_},e.prototype.getPosition=function(){return this.position_},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.getVisible=function(){var e;return e="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},e.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},e.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},e.prototype.open=function(e,t){var i=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){i.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},e.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},e}function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}function loadOverlappingMarkerSpiderfier(){var e={}.hasOwnProperty,t=[].slice;this.OverlappingMarkerSpiderfier=function(){function i(t,i){var o,s,r,a,l,c;this.map=t,null==i&&(i={});for(s in i)e.call(i,s)&&(r=i[s],this[s]=r);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},c=["dragend","zoom_changed","maptypeid_changed"],a=0,l=c.length;l>a;a++)o=c[a],n.addListener(this.map,o,function(e){return function(){return e.unspiderfy()}}(this))}var n,o,s,r,a,l,c,u,d,h,p;for(l=i.prototype,p=[i,l],d=0,h=p.length;h>d;d++)u=p[d],u.VERSION="0.3.3";return o=google.maps,n=o.event,a=o.MapTypeId,c=2*Math.PI,l.keepSpiderfied=!1,l.markersWontHide=!1,l.markersWontMove=!1,l.nearbyDistance=20,l.circleSpiralSwitchover=9,l.circleFootSeparation=23,l.circleStartAngle=c/12,l.spiralFootSeparation=26,l.spiralLengthStart=11,l.spiralLengthFactor=4,l.spiderfiedZIndex=1e3,l.usualLegZIndex=10,l.highlightedLegZIndex=20,l.event="click",l.minZoomLevel=!1,l.legWeight=1.5,l.legColors={usual:{},highlighted:{}},r=l.legColors.usual,s=l.legColors.highlighted,r[a.HYBRID]=r[a.SATELLITE]="#fff",s[a.HYBRID]=s[a.SATELLITE]="#f00",r[a.TERRAIN]=r[a.ROADMAP]="#444",s[a.TERRAIN]=s[a.ROADMAP]="#f00",l.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},l.addMarker=function(e){var t;return null!=e._oms?this:(e._oms=!0,t=[n.addListener(e,this.event,function(t){return function(i){return t.spiderListener(e,i)}}(this))],this.markersWontHide||t.push(n.addListener(e,"visible_changed",function(t){return function(){return t.markerChangeListener(e,!1)}}(this))),this.markersWontMove||t.push(n.addListener(e,"position_changed",function(t){return function(){return t.markerChangeListener(e,!0)}}(this))),this.markerListenerRefs.push(t),this.markers.push(e),this)},l.markerChangeListener=function(e,t){return null==e._omsData||!t&&e.getVisible()||null!=this.spiderfying||null!=this.unspiderfying?void 0:this.unspiderfy(t?e:null)},l.getMarkers=function(){return this.markers.slice(0)},l.removeMarker=function(e){var t,i,o,s,r;if(null!=e._omsData&&this.unspiderfy(),t=this.arrIndexOf(this.markers,e),0>t)return this;for(o=this.markerListenerRefs.splice(t,1)[0],s=0,r=o.length;r>s;s++)i=o[s],n.removeListener(i);return delete e._oms,this.markers.splice(t,1),this},l.clearMarkers=function(){var e,t,i,o,s,r,a,l,c;for(this.unspiderfy(),c=this.markers,e=s=0,a=c.length;a>s;e=++s){for(o=c[e],i=this.markerListenerRefs[e],r=0,l=i.length;l>r;r++)t=i[r],n.removeListener(t);delete o._oms}return this.initMarkerArrays(),this},l.addListener=function(e,t){var i;return(null!=(i=this.listeners)[e]?i[e]:i[e]=[]).push(t),this},l.removeListener=function(e,t){var i;return i=this.arrIndexOf(this.listeners[e],t),0>i||this.listeners[e].splice(i,1),this},l.clearListeners=function(e){return this.listeners[e]=[],this},l.trigger=function(){var e,i,n,o,s,r,a,l;for(i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],a=null!=(r=this.listeners[i])?r:[],l=[],o=0,s=a.length;s>o;o++)n=a[o],l.push(n.apply(null,e));return l},l.generatePtsCircle=function(e,t){var i,n,s,r,a,l,u;for(s=this.circleFootSeparation*(2+e),a=s/c,n=c/e,u=[],r=l=0;e>=0?e>l:l>e;r=e>=0?++l:--l)i=this.circleStartAngle+r*n,u.push(new o.Point(t.x+a*Math.cos(i),t.y+a*Math.sin(i)));return u},l.generatePtsSpiral=function(e,t){var i,n,s,r,a,l;for(s=this.spiralLengthStart,i=0,l=[],n=a=0;e>=0?e>a:a>e;n=e>=0?++a:--a)i+=this.spiralFootSeparation/s+5e-4*n,r=new o.Point(t.x+s*Math.cos(i),t.y+s*Math.sin(i)),s+=c*this.spiralLengthFactor/i,l.push(r);return l},l.spiderListener=function(e,t){var i,n,o,s,r,a,c,u,d,h,p,f,m;if(a=null!=e._omsData,a&&this.keepSpiderfied||("mouseover"===this.event?(i=this,n=function(){return i.unspiderfy()},window.clearTimeout(l.timeout),l.timeout=setTimeout(n,3e3)):this.unspiderfy()),a||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",e,t);for(u=[],d=[],c=this.nearbyDistance,h=c*c,r=this.llToPt(e.position),m=this.markers,p=0,f=m.length;f>p;p++)o=m[p],null!=o.map&&o.getVisible()&&(s=this.llToPt(o.position),this.ptDistanceSq(s,r)<h?u.push({marker:o,markerPt:s}):d.push(o));return 1===u.length?this.trigger("click",e,t):this.spiderfy(u,d)},l.markersNearMarker=function(e,t){var i,n,o,s,r,a,l,c,u,d,h;if(null==t&&(t=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(r=this.nearbyDistance,a=r*r,o=this.llToPt(e.position),s=[],u=this.markers,l=0,c=u.length;c>l&&(i=u[l],!(i!==e&&null!=i.map&&i.getVisible()&&(n=this.llToPt(null!=(d=null!=(h=i._omsData)?h.usualPosition:void 0)?d:i.position),this.ptDistanceSq(n,o)<a&&(s.push(i),t))));l++);return s},l.markersNearAnyOtherMarker=function(){var e,t,i,n,o,s,r,a,l,c,u,d,h,p,f,m,g,_,v,y,b;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(c=this.nearbyDistance,u=c*c,l=function(){var e,t,i,o,s,r;for(i=this.markers,r=[],e=0,t=i.length;t>e;e++)n=i[e],r.push({pt:this.llToPt(null!=(o=null!=(s=n._omsData)?s.usualPosition:void 0)?o:n.position),willSpiderfy:!1});return r}.call(this),_=this.markers,t=d=0,f=_.length;f>d;t=++d)if(o=_[t],null!=o.map&&o.getVisible()&&(s=l[t],!s.willSpiderfy))for(v=this.markers,i=h=0,m=v.length;m>h;i=++h)if(r=v[i],i!==t&&null!=r.map&&r.getVisible()&&(a=l[i],(!(t>i)||a.willSpiderfy)&&this.ptDistanceSq(s.pt,a.pt)<u)){s.willSpiderfy=a.willSpiderfy=!0;break}for(y=this.markers,b=[],e=p=0,g=y.length;g>p;e=++p)n=y[e],l[e].willSpiderfy&&b.push(n);return b},l.makeHighlightListenerFuncs=function(e){return{highlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.highlighted[t.map.mapTypeId],zIndex:t.highlightedLegZIndex})}}(this),unhighlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.usual[t.map.mapTypeId],zIndex:t.usualLegZIndex})}}(this)}},l.spiderfy=function(e,t){var i,s,r,a,l,c,u,d,h,p,f;return this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel?!1:(this.spiderfying=!0,p=e.length,i=this.ptAverage(function(){var t,i,n;for(n=[],t=0,i=e.length;i>t;t++)d=e[t],n.push(d.markerPt);return n}()),a=p>=this.circleSpiralSwitchover?this.generatePtsSpiral(p,i).reverse():this.generatePtsCircle(p,i),f=function(){var t,i,d;for(d=[],t=0,i=a.length;i>t;t++)r=a[t],s=this.ptToLl(r),h=this.minExtract(e,function(e){return function(t){return e.ptDistanceSq(t.markerPt,r)}}(this)),u=h.marker,c=new o.Polyline({map:this.map,path:[u.position,s],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),u._omsData={usualPosition:u.position,leg:c},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.makeHighlightListenerFuncs(u),u._omsData.hightlightListeners={highlight:n.addListener(u,"mouseover",l.highlight),unhighlight:n.addListener(u,"mouseout",l.unhighlight)}),u.setPosition(s),u.setZIndex(Math.round(this.spiderfiedZIndex+r.y)),d.push(u);return d}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",f,t))},l.unspiderfy=function(e){var t,i,o,s,r,a,l;if(null==e&&(e=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,s=[],o=[],l=this.markers,r=0,a=l.length;a>r;r++)i=l[r],null!=i._omsData?(i._omsData.leg.setMap(null),i!==e&&i.setPosition(i._omsData.usualPosition),i.setZIndex(null),t=i._omsData.hightlightListeners,null!=t&&(n.removeListener(t.highlight),n.removeListener(t.unhighlight)),delete i._omsData,s.push(i)):o.push(i);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",s,o),this},l.ptDistanceSq=function(e,t){var i,n;return i=e.x-t.x,n=e.y-t.y,i*i+n*n},l.ptAverage=function(e){var t,i,n,s,r,a;for(n=s=0,r=0,a=e.length;a>r;r++)i=e[r],n+=i.x,s+=i.y;return t=e.length,new o.Point(n/t,s/t)},l.llToPt=function(e){return this.projHelper.getProjection().fromLatLngToDivPixel(e)},l.ptToLl=function(e){return this.projHelper.getProjection().fromDivPixelToLatLng(e)},l.minExtract=function(e,t){var i,n,o,s,r,a,l;for(o=a=0,l=e.length;l>a;o=++a)s=e[o],r=t(s),("undefined"==typeof i||null===i||n>r)&&(n=r,i=o);return e.splice(i,1)[0]},l.arrIndexOf=function(e,t){var i,n,o,s;if(null!=e.indexOf)return e.indexOf(t);for(i=o=0,s=e.length;s>o;i=++o)if(n=e[i],n===t)return i;return-1},i.ProjHelper=function(e){return this.setMap(e)},i.ProjHelper.prototype=new o.OverlayView,i.ProjHelper.prototype.draw=function(){},i}()}function loadRichMarker(){function e(e){var t=e||{};this.d=this.c=p,void 0==e.visible&&(e.visible=h),void 0==e.shadow&&(e.shadow="7px -3px 5px rgba(88,88,88,0.7)"),void 0==e.anchor&&(e.anchor=f.BOTTOM),this.setValues(t)}function t(e,t){var i=document.createElement("DIV");if(i.innerHTML=t,1==i.childNodes.length)return i.removeChild(i.firstChild);for(var n=document.createDocumentFragment();i.firstChild;)n.appendChild(i.firstChild);return n}function i(e,t){if(t)for(var i;i=t.firstChild;)t.removeChild(i)}function n(e,t){if(e.c){var i="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==t&&(i="-moz-grabbing"),"dragready"==t&&(i="-moz-grab")):("dragging"==t||"dragready"==t)&&(i="move"),"draggable"==t&&(i="pointer"),e.a.style.cursor!=i&&(e.a.style.cursor=i)}}function o(e,t){if(e.getDraggable()&&!e.d){e.d=h;var i=e.getMap();e.m=i.get("draggable"),i.set("draggable",p),e.h=t.clientX,e.i=t.clientY,n(e,"dragready"),e.a.style.MozUserSelect="none",e.a.style.KhtmlUserSelect="none",e.a.style.WebkitUserSelect="none",e.a.unselectable="on",e.a.onselectstart=function(){return p},c(e),google.maps.event.trigger(e,"dragstart")}}function s(e){e.getDraggable()&&e.d&&(e.d=p,e.getMap().set("draggable",e.m),e.h=e.i=e.m=null,e.a.style.MozUserSelect="",e.a.style.KhtmlUserSelect="",e.a.style.WebkitUserSelect="",e.a.unselectable="off",e.a.onselectstart=function(){},u(e),n(e,"draggable"),google.maps.event.trigger(e,"dragend"),e.draw())}function r(e,t){if(e.getDraggable()&&e.d){var i=e.h-t.clientX,o=e.i-t.clientY;e.h=t.clientX,e.i=t.clientY,i=parseInt(e.a.style.left,10)-i,o=parseInt(e.a.style.top,10)-o,e.a.style.left=i+"px",e.a.style.top=o+"px";var r=d(e);e.setPosition(e.getProjection().fromDivPixelToLatLng(new google.maps.Point(i-r.width,o-r.height))),n(e,"dragging"),google.maps.event.trigger(e,"drag")}else s(e)}function a(e){e.f&&(google.maps.event.removeListener(e.f),delete e.f),n(e,"")}function l(e,t){t&&(e.f=google.maps.event.addDomListener(t,"mousedown",function(t){o(e,t)}),n(e,"draggable"))}function c(e){e.a.setCapture?(e.a.setCapture(h),e.e=[google.maps.event.addDomListener(e.a,"mousemove",function(t){r(e,t)},h),google.maps.event.addDomListener(e.a,"mouseup",function(){s(e),e.a.releaseCapture()},h)]):e.e=[google.maps.event.addDomListener(window,"mousemove",function(t){r(e,t)},h),google.maps.event.addDomListener(window,"mouseup",function(){s(e)},h)]}function u(e){if(e.e){for(var t,i=0;t=e.e[i];i++)google.maps.event.removeListener(t);e.e.length=0}}function d(e){var t=e.l();if("object"==typeof t)return t;var i=new google.maps.Size(0,0);if(!e.b)return i;var n=e.b.offsetWidth;switch(e=e.b.offsetHeight,t){case f.TOP:i.width=-n/2;break;case f.TOP_RIGHT:i.width=-n;break;case f.LEFT:i.height=-e/2;break;case f.MIDDLE:i.width=-n/2,i.height=-e/2;break;case f.RIGHT:i.width=-n,i.height=-e/2;break;case f.BOTTOM_LEFT:i.height=-e;break;case f.BOTTOM:i.width=-n/2,i.height=-e;break;case f.BOTTOM_RIGHT:i.width=-n,i.height=-e}return i}var h=!0,p=!1;e.prototype=new google.maps.OverlayView,window.RichMarker=e,e.prototype.getVisible=function(){return this.get("visible")},e.prototype.getVisible=e.prototype.getVisible,e.prototype.setVisible=function(e){this.set("visible",e)},e.prototype.setVisible=e.prototype.setVisible,e.prototype.s=function(){this.c&&(this.a.style.display=this.getVisible()?"":"none",this.draw())},e.prototype.visible_changed=e.prototype.s,e.prototype.setFlat=function(e){this.set("flat",!!e)},e.prototype.setFlat=e.prototype.setFlat,e.prototype.getFlat=function(){return this.get("flat")},e.prototype.getFlat=e.prototype.getFlat,e.prototype.p=function(){return this.get("width")},e.prototype.getWidth=e.prototype.p,e.prototype.o=function(){return this.get("height")},e.prototype.getHeight=e.prototype.o,e.prototype.setShadow=function(e){this.set("shadow",e),this.g()},e.prototype.setShadow=e.prototype.setShadow,e.prototype.getShadow=function(){return this.get("shadow")},e.prototype.getShadow=e.prototype.getShadow,e.prototype.g=function(){this.c&&(this.a.style.boxShadow=this.a.style.webkitBoxShadow=this.a.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},e.prototype.flat_changed=e.prototype.g,e.prototype.setZIndex=function(e){this.set("zIndex",e)},e.prototype.setZIndex=e.prototype.setZIndex,e.prototype.getZIndex=function(){return this.get("zIndex")},e.prototype.getZIndex=e.prototype.getZIndex,e.prototype.t=function(){this.getZIndex()&&this.c&&(this.a.style.zIndex=this.getZIndex())},e.prototype.zIndex_changed=e.prototype.t,e.prototype.getDraggable=function(){return this.get("draggable")},e.prototype.getDraggable=e.prototype.getDraggable,e.prototype.setDraggable=function(e){this.set("draggable",!!e)},e.prototype.setDraggable=e.prototype.setDraggable,e.prototype.k=function(){this.c&&(this.getDraggable()?l(this,this.a):a(this))},e.prototype.draggable_changed=e.prototype.k,e.prototype.getPosition=function(){return this.get("position")},e.prototype.getPosition=e.prototype.getPosition,e.prototype.setPosition=function(e){this.set("position",e)},e.prototype.setPosition=e.prototype.setPosition,e.prototype.q=function(){this.draw()},e.prototype.position_changed=e.prototype.q,e.prototype.l=function(){return this.get("anchor")},e.prototype.getAnchor=e.prototype.l,e.prototype.r=function(e){this.set("anchor",e)},e.prototype.setAnchor=e.prototype.r,e.prototype.n=function(){this.draw()},e.prototype.anchor_changed=e.prototype.n,e.prototype.setContent=function(e){this.set("content",e)},e.prototype.setContent=e.prototype.setContent,e.prototype.getContent=function(){return this.get("content")},e.prototype.getContent=e.prototype.getContent,e.prototype.j=function(){if(this.b){i(this,this.b);var e=this.getContent();if(e){"string"==typeof e&&(e=e.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),e=t(this,e)),this.b.appendChild(e);var n=this;e=this.b.getElementsByTagName("IMG");for(var o,s=0;o=e[s];s++)google.maps.event.addDomListener(o,"mousedown",function(e){n.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=p)}),google.maps.event.addDomListener(o,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.c&&this.draw()}},e.prototype.content_changed=e.prototype.j,e.prototype.onAdd=function(){if(this.a||(this.a=document.createElement("DIV"),this.a.style.position="absolute"),this.getZIndex()&&(this.a.style.zIndex=this.getZIndex()),this.a.style.display=this.getVisible()?"":"none",!this.b){this.b=document.createElement("DIV"),this.a.appendChild(this.b);var e=this;google.maps.event.addDomListener(this.b,"click",function(t){t.preventDefault(),google.maps.event.trigger(e,"click")}),google.maps.event.addDomListener(this.b,"mouseover",function(){google.maps.event.trigger(e,"mouseover")}),google.maps.event.addDomListener(this.b,"mouseout",function(){google.maps.event.trigger(e,"mouseout")})}this.c=h,this.j(),this.g(),this.k();var t=this.getPanes();t&&t.overlayImage.appendChild(this.a),google.maps.event.trigger(this,"ready")},e.prototype.onAdd=e.prototype.onAdd,e.prototype.draw=function(){if(this.c&&!this.d){var e=this.getProjection();if(e){var t=this.get("position");e=e.fromLatLngToDivPixel(t),t=d(this),this.a.style.top=e.y+t.height+"px",this.a.style.left=e.x+t.width+"px",e=this.b.offsetHeight,t=this.b.offsetWidth,t!=this.get("width")&&this.set("width",t),e!=this.get("height")&&this.set("height",e)}}},e.prototype.draw=e.prototype.draw,e.prototype.onRemove=function(){this.a&&this.a.parentNode&&this.a.parentNode.removeChild(this.a),a(this)},e.prototype.onRemove=e.prototype.onRemove;var f={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=f}!function(e,t){function i(e){var t=e.length,i=ue.type(e);return ue.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=Se[e]={};return ue.each(e.match(he)||[],function(e,i){t[i]=!0}),t}function o(e,i,n,o){if(ue.acceptData(e)){var s,r,a=ue.expando,l=e.nodeType,c=l?ue.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(o||c[u].data)||n!==t||"string"!=typeof i)return u||(u=l?e[a]=te.pop()||ue.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof i||"function"==typeof i)&&(o?c[u]=ue.extend(c[u],i):c[u].data=ue.extend(c[u].data,i)),r=c[u],o||(r.data||(r.data={}),r=r.data),n!==t&&(r[ue.camelCase(i)]=n),"string"==typeof i?(s=r[i],null==s&&(s=r[ue.camelCase(i)])):s=r,s}}function s(e,t,i){if(ue.acceptData(e)){var n,o,s=e.nodeType,r=s?ue.cache:e,l=s?e[ue.expando]:ue.expando;if(r[l]){if(t&&(n=i?r[l]:r[l].data)){ue.isArray(t)?t=t.concat(ue.map(t,ue.camelCase)):t in n?t=[t]:(t=ue.camelCase(t),t=t in n?[t]:t.split(" ")),o=t.length;for(;o--;)delete n[t[o]];if(i?!a(n):!ue.isEmptyObject(n))return}(i||(delete r[l].data,a(r[l])))&&(s?ue.cleanData([e],!0):ue.support.deleteExpando||r!=r.window?delete r[l]:r[l]=null)}}}function r(e,i,n){if(n===t&&1===e.nodeType){var o="data-"+i.replace($e,"-$1").toLowerCase();if(n=e.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ke.test(n)?ue.parseJSON(n):n}catch(s){}ue.data(e,i,n)}else n=t}return n}function a(e){var t;for(t in e)if(("data"!==t||!ue.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return X.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,i){if(ue.isFunction(t))return ue.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ue.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(Re.test(t))return ue.filter(t,e,i);t=ue.filter(t,e)}return ue.grep(e,function(e){return ue.inArray(e,t)>=0!==i})}function p(e){var t=Ye.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){return ue.nodeName(e,"table")&&ue.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ue.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=ot.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var i,n=0;null!=(i=e[n]);n++)ue._data(i,"globalEval",!t||ue._data(t[n],"globalEval"))}function v(e,t){if(1===t.nodeType&&ue.hasData(e)){var i,n,o,s=ue._data(e),r=ue._data(t,s),a=s.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)ue.event.add(t,i,a[i][n])}r.data&&(r.data=ue.extend({},r.data))}}function y(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ue.support.noCloneEvent&&t[ue.expando]){o=ue._data(t);for(n in o.events)ue.removeEvent(t,n,o.handle);t.removeAttribute(ue.expando)}"script"===i&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.support.html5Clone&&e.innerHTML&&!ue.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function b(e,i){var n,o,s=0,r=typeof e.getElementsByTagName!==G?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(i||"*"):t;if(!r)for(r=[],n=e.childNodes||e;null!=(o=n[s]);s++)!i||ue.nodeName(o,i)?r.push(o):ue.merge(r,b(o,i));return i===t||i&&ue.nodeName(e,i)?ue.merge([e],r):r}function w(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,o=Ct.length;o--;)if(t=Ct[o]+i,t in e)return t;return n}function T(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)}function C(e,t){for(var i,n,o,s=[],r=0,a=e.length;a>r;r++)n=e[r],n.style&&(s[r]=ue._data(n,"olddisplay"),i=n.style.display,t?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&T(n)&&(s[r]=ue._data(n,"olddisplay",E(n.nodeName)))):s[r]||(o=T(n),(i&&"none"!==i||!o)&&ue._data(n,"olddisplay",o?i:ue.css(n,"display"))));for(r=0;a>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[r]||"":"none"));return e}function S(e,t,i){var n=_t.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function k(e,t,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,r=0;4>s;s+=2)"margin"===i&&(r+=ue.css(e,i+Tt[s],!0,o)),n?("content"===i&&(r-=ue.css(e,"padding"+Tt[s],!0,o)),"margin"!==i&&(r-=ue.css(e,"border"+Tt[s]+"Width",!0,o))):(r+=ue.css(e,"padding"+Tt[s],!0,o),"padding"!==i&&(r+=ue.css(e,"border"+Tt[s]+"Width",!0,o)));return r}function $(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=ut(e),r=ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,s);if(0>=o||null==o){if(o=dt(e,t,s),(0>o||null==o)&&(o=e.style[t]),vt.test(o))return o;n=r&&(ue.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+k(e,t,i||(r?"border":"content"),n,s)+"px"}function E(e){var t=X,i=bt[e];return i||(i=D(e,t),"none"!==i&&i||(ct=(ct||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ct[0].contentWindow||ct[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=D(e,t),ct.detach()),bt[e]=i),i}function D(e,t){var i=ue(t.createElement(e)).appendTo(t.body),n=ue.css(i[0],"display");return i.remove(),n}function M(e,t,i,n){var o;if(ue.isArray(t))ue.each(t,function(t,o){i||kt.test(e)?n(e,o):M(e+"["+("object"==typeof o?t:"")+"]",o,i,n);
});else if(i||"object"!==ue.type(t))n(e,t);else for(o in t)M(e+"["+o+"]",t[o],i,n)}function A(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,s=t.toLowerCase().match(he)||[];if(ue.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function O(e,i,n,o){function s(l){var c;return r[l]=!0,ue.each(e[l]||[],function(e,l){var u=l(i,n,o);return"string"!=typeof u||a||r[u]?a?!(c=u):t:(i.dataTypes.unshift(u),s(u),!1)}),c}var r={},a=e===Wt;return s(i.dataTypes[0])||!r["*"]&&s("*")}function j(e,i){var n,o,s=ue.ajaxSettings.flatOptions||{};for(o in i)i[o]!==t&&((s[o]?e:n||(n={}))[o]=i[o]);return n&&ue.extend(!0,e,n),e}function P(e,i,n){for(var o,s,r,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),s===t&&(s=e.mimeType||i.getResponseHeader("Content-Type"));if(s)for(a in l)if(l[a]&&l[a].test(s)){c.unshift(a);break}if(c[0]in n)r=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==c[0]&&c.unshift(r),n[r]):t}function I(e,t,i,n){var o,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=c[l+" "+s]||c["* "+s],!r)for(o in c)if(a=o.split(" "),a[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[o]:c[o]!==!0&&(s=a[0],u.unshift(a[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function L(){try{return new e.XMLHttpRequest}catch(t){}}function N(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function F(){return setTimeout(function(){Kt=t}),Kt=ue.now()}function z(e,t,i){for(var n,o=(oi[t]||[]).concat(oi["*"]),s=0,r=o.length;r>s;s++)if(n=o[s].call(i,t,e))return n}function H(e,t,i){var n,o,s=0,r=ni.length,a=ue.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Kt||F(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,s=1-n,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(s);return a.notifyWith(e,[c,s,i]),1>s&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Kt||F(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ue.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(B(u,c.opts.specialEasing);r>s;s++)if(n=ni[s].call(c,e,u,c.opts))return n;return ue.map(u,z,c),ue.isFunction(c.opts.start)&&c.opts.start.call(e,c),ue.fx.timer(ue.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(e,t){var i,n,o,s,r;for(i in e)if(n=ue.camelCase(i),o=t[n],s=e[i],ue.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),r=ue.cssHooks[n],r&&"expand"in r){s=r.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=o)}else t[n]=o}function R(e,t,i){var n,o,s,r,a,l,c=this,u={},d=e.style,h=e.nodeType&&T(e),p=ue._data(e,"fxshow");i.queue||(a=ue._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ue.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ue.css(e,"display")&&"none"===ue.css(e,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],ei.exec(o)){if(delete t[n],s=s||"toggle"===o,o===(h?"hide":"show"))continue;u[n]=p&&p[n]||ue.style(e,n)}if(!ue.isEmptyObject(u)){p?"hidden"in p&&(h=p.hidden):p=ue._data(e,"fxshow",{}),s&&(p.hidden=!h),h?ue(e).show():c.done(function(){ue(e).hide()}),c.done(function(){var t;ue._removeData(e,"fxshow");for(t in u)ue.style(e,t,u[t])});for(n in u)r=z(h?p[n]:0,n,c),n in p||(p[n]=r.start,h&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function W(e,t,i,n,o){return new W.prototype.init(e,t,i,n,o)}function V(e,t){var i,n={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i=Tt[o],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function q(e){return ue.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y,U,G=typeof t,Q=e.location,X=e.document,J=X.documentElement,K=e.jQuery,Z=e.$,ee={},te=[],ie="1.10.2",ne=te.concat,oe=te.push,se=te.slice,re=te.indexOf,ae=ee.toString,le=ee.hasOwnProperty,ce=ie.trim,ue=function(e,t){return new ue.fn.init(e,t,U)},de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,_e=/(?:^|:|,)(?:\s*\[)+/g,ve=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ye=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,be=/^-ms-/,we=/-([\da-z])/gi,xe=function(e,t){return t.toUpperCase()},Te=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(Ce(),ue.ready())},Ce=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",Te,!1),e.removeEventListener("load",Te,!1)):(X.detachEvent("onreadystatechange",Te),e.detachEvent("onload",Te))};ue.fn=ue.prototype={jquery:ie,constructor:ue,init:function(e,i,n){var o,s;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:fe.exec(e),!o||!o[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(o[1]){if(i=i instanceof ue?i[0]:i,ue.merge(this,ue.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:X,!0)),me.test(o[1])&&ue.isPlainObject(i))for(o in i)ue.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}if(s=X.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return n.find(e);this.length=1,this[0]=s}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))},selector:"",length:0,toArray:function(){return se.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ue.each(this,e,t)},ready:function(e){return ue.ready.promise().done(e),this},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(ue.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:oe,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var e,i,n,o,s,r,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ue.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(s=arguments[l]))for(o in s)e=a[o],n=s[o],a!==n&&(u&&n&&(ue.isPlainObject(n)||(i=ue.isArray(n)))?(i?(i=!1,r=e&&ue.isArray(e)?e:[]):r=e&&ue.isPlainObject(e)?e:{},a[o]=ue.extend(u,r,n)):n!==t&&(a[o]=n));return a},ue.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ue&&(e.$=Z),t&&e.jQuery===ue&&(e.jQuery=K),ue},isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){if(e===!0?!--ue.readyWait:!ue.isReady){if(!X.body)return setTimeout(ue.ready);ue.isReady=!0,e!==!0&&--ue.readyWait>0||(Y.resolveWith(X,[ue]),ue.fn.trigger&&ue(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray||function(e){return"array"===ue.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[ae.call(e)]||"object":typeof e},isPlainObject:function(e){var i;if(!e||"object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ue.support.ownLast)for(i in e)return le.call(e,i);for(i in e);return i===t||le.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||X;var n=me.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=ue.buildFragment([e],t,o),o&&ue(o).remove(),ue.merge([],n.childNodes))},parseJSON:function(i){return e.JSON&&e.JSON.parse?e.JSON.parse(i):null===i?i:"string"==typeof i&&(i=ue.trim(i),i&&ge.test(i.replace(ve,"@").replace(ye,"]").replace(_e,"")))?Function("return "+i)():(ue.error("Invalid JSON: "+i),t)},parseXML:function(i){var n,o;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(o=new DOMParser,n=o.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&ue.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(be,"ms-").replace(we,xe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,s=0,r=e.length,a=i(e);if(n){if(a)for(;r>s&&(o=t.apply(e[s],n),o!==!1);s++);else for(s in e)if(o=t.apply(e[s],n),o===!1)break}else if(a)for(;r>s&&(o=t.call(e[s],s,e[s]),o!==!1);s++);else for(s in e)if(o=t.call(e[s],s,e[s]),o===!1)break;return e},trim:ce&&!ce.call("\ufeff ")?function(e){return null==e?"":ce.call(e)}:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ue.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(re)return re.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,o=e.length,s=0;if("number"==typeof n)for(;n>s;s++)e[o++]=i[s];else for(;i[s]!==t;)e[o++]=i[s++];return e.length=o,e},grep:function(e,t,i){var n,o=[],s=0,r=e.length;for(i=!!i;r>s;s++)n=!!t(e[s],s),i!==n&&o.push(e[s]);return o},map:function(e,t,n){var o,s=0,r=e.length,a=i(e),l=[];if(a)for(;r>s;s++)o=t(e[s],s,n),null!=o&&(l[l.length]=o);else for(s in e)o=t(e[s],s,n),null!=o&&(l[l.length]=o);return ne.apply([],l)},guid:1,proxy:function(e,i){var n,o,s;return"string"==typeof i&&(s=e[i],i=e,e=s),ue.isFunction(e)?(n=se.call(arguments,2),o=function(){return e.apply(i||this,n.concat(se.call(arguments)))},o.guid=e.guid=e.guid||ue.guid++,o):t},access:function(e,i,n,o,s,r,a){var l=0,c=e.length,u=null==n;if("object"===ue.type(n)){s=!0;for(l in n)ue.access(e,i,l,n[l],!0,r,a)}else if(o!==t&&(s=!0,ue.isFunction(o)||(a=!0),u&&(a?(i.call(e,o),i=null):(u=i,i=function(e,t,i){return u.call(ue(e),i)})),i))for(;c>l;l++)i(e[l],n,a?o:o.call(e[l],l,i(e[l],n)));return s?e:u?i.call(e):c?i(e[0],n):r},now:function(){return(new Date).getTime()},swap:function(e,t,i,n){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];o=i.apply(e,n||[]);for(s in t)e.style[s]=r[s];return o}}),ue.ready.promise=function(t){if(!Y)if(Y=ue.Deferred(),"complete"===X.readyState)setTimeout(ue.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",Te,!1),e.addEventListener("load",Te,!1);else{X.attachEvent("onreadystatechange",Te),e.attachEvent("onload",Te);var i=!1;try{i=null==e.frameElement&&X.documentElement}catch(n){}i&&i.doScroll&&function o(){if(!ue.isReady){try{i.doScroll("left")}catch(e){return setTimeout(o,50)}Ce(),ue.ready()}}()}return Y.promise(t)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()}),U=ue(X),function(e,t){function i(e,t,i,n){var o,s,r,a,l,c,u,d,f,m;if((t?t.ownerDocument||t:H)!==O&&A(t),t=t||O,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(P&&!n){if(o=ye.exec(e))if(r=o[1]){if(9===a){if(s=t.getElementById(r),!s||!s.parentNode)return i;if(s.id===r)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(r))&&F(t,s)&&s.id===r)return i.push(s),i}else{if(o[2])return ee.apply(i,t.getElementsByTagName(e)),i;if((r=o[3])&&T.getElementsByClassName&&t.getElementsByClassName)return ee.apply(i,t.getElementsByClassName(r)),i}if(T.qsa&&(!I||!I.test(e))){if(d=u=z,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(u=t.getAttribute("id"))?d=u.replace(xe,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+p(c[l]);f=pe.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return ee.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{u||t.removeAttribute("id")}}}return w(e.replace(ce,"$1"),t,i,n)}function n(){function e(i,n){return t.push(i+=" ")>S.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function o(e){return e[z]=!0,e}function s(e){var t=O.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)S.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function c(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return o(function(t){return t=+t,o(function(i,n){for(var o,s=e([],i.length,t),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function d(){}function h(e,t){var n,o,s,r,a,l,c,u=V[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=S.preFilter;a;){(!n||(o=de.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=he.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(ce," ")}),a=a.slice(n.length));for(r in S.filter)!(o=_e[r].exec(a))||c[r]&&!(o=c[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?i.error(e):V(e,l).slice(0)}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,o=i&&"parentNode"===n,s=R++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s)}:function(t,i,r){var a,l,c,u=B+" "+s;if(r){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(c=t[z]||(t[z]={}),(l=c[n])&&l[0]===u){if((a=l[1])===!0||a===C)return a===!0}else if(l=c[n]=[u],l[1]=e(t,i,r)||C,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function g(e,t,i,n,o){for(var s,r=[],a=0,l=e.length,c=null!=t;l>a;a++)(s=e[a])&&(!i||i(s,n,o))&&(r.push(s),c&&t.push(a));return r}function _(e,t,i,n,s,r){return n&&!n[z]&&(n=_(n)),s&&!s[z]&&(s=_(s,r)),o(function(o,r,a,l){var c,u,d,h=[],p=[],f=r.length,m=o||b(t||"*",a.nodeType?[a]:a,[]),_=!e||!o&&t?m:g(m,h,e,a,l),v=i?s||(o?e:f||n)?[]:r:_;if(i&&i(_,v,a,l),n)for(c=g(v,p),n(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(_[p[u]]=d));if(o){if(s||e){if(s){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(_[u]=d);s(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=s?ie.call(o,d):h[u])>-1&&(o[c]=!(r[c]=d))}}else v=g(v===r?v.splice(f,v.length):v),s?s(null,r,v,l):ee.apply(r,v)})}function v(e){for(var t,i,n,o=e.length,s=S.relative[e[0].type],r=s||S.relative[" "],a=s?1:0,l=f(function(e){return e===t},r,!0),c=f(function(e){return ie.call(t,e)>-1},r,!0),u=[function(e,i,n){return!s&&(n||i!==D)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];o>a;a++)if(i=S.relative[e[a].type])u=[f(m(u),i)];else{if(i=S.filter[e[a].type].apply(null,e[a].matches),i[z]){for(n=++a;o>n&&!S.relative[e[n].type];n++);return _(a>1&&m(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ce,"$1"),i,n>a&&v(e.slice(a,n)),o>n&&v(e=e.slice(n)),o>n&&p(e))}u.push(i)}return m(u)}function y(e,t){var n=0,s=t.length>0,r=e.length>0,a=function(o,a,l,c,u){var d,h,p,f=[],m=0,_="0",v=o&&[],y=null!=u,b=D,w=o||r&&S.find.TAG("*",u&&a.parentNode||a),x=B+=null==b?1:Math.random()||.1;for(y&&(D=a!==O&&a,C=n);null!=(d=w[_]);_++){if(r&&d){for(h=0;p=e[h++];)if(p(d,a,l)){c.push(d);break}y&&(B=x,C=++n)}s&&((d=!p&&d)&&m--,o&&v.push(d))}if(m+=_,s&&_!==m){for(h=0;p=t[h++];)p(v,f,a,l);if(o){if(m>0)for(;_--;)v[_]||f[_]||(f[_]=K.call(c));f=g(f)}ee.apply(c,f),y&&!o&&f.length>0&&m+t.length>1&&i.uniqueSort(c)}return y&&(B=x,D=b),v};return s?o(a):a}function b(e,t,n){for(var o=0,s=t.length;s>o;o++)i(e,t[o],n);return n}function w(e,t,i,n){var o,s,r,a,l,c=h(e);if(!n&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&T.getById&&9===t.nodeType&&P&&S.relative[s[1].type]){if(t=(S.find.ID(r.matches[0].replace(Te,Ce),t)||[])[0],!t)return i;e=e.slice(s.shift().value.length)}for(o=_e.needsContext.test(e)?0:s.length;o--&&(r=s[o],!S.relative[a=r.type]);)if((l=S.find[a])&&(n=l(r.matches[0].replace(Te,Ce),pe.test(s[0].type)&&t.parentNode||t))){if(s.splice(o,1),e=n.length&&p(s),!e)return ee.apply(i,n),i;break}}return E(e,c)(n,t,!P,i,pe.test(e)),i}var x,T,C,S,k,$,E,D,M,A,O,j,P,I,L,N,F,z="sizzle"+-new Date,H=e.document,B=0,R=0,W=n(),V=n(),q=n(),Y=!1,U=function(e,t){return e===t?(Y=!0,0):0},G=typeof t,Q=1<<31,X={}.hasOwnProperty,J=[],K=J.pop,Z=J.push,ee=J.push,te=J.slice,ie=J.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=se.replace("w","w#"),ae="\\["+oe+"*("+se+")"+oe+"*(?:([*^$|!~]?=)"+oe+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+re+")|)|)"+oe+"*\\]",le=":("+se+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ae.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),de=RegExp("^"+oe+"*,"+oe+"*"),he=RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),pe=RegExp(oe+"*[+~]"),fe=RegExp("="+oe+"*([^\\]'\"]*)"+oe+"*\\]","g"),me=RegExp(le),ge=RegExp("^"+re+"$"),_e={ID:RegExp("^#("+se+")"),CLASS:RegExp("^\\.("+se+")"),TAG:RegExp("^("+se.replace("w","w*")+")"),ATTR:RegExp("^"+ae),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:RegExp("^(?:"+ne+")$","i"),needsContext:RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,xe=/'|\\/g,Te=RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),Ce=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{ee.apply(J=te.call(H.childNodes),H.childNodes),J[H.childNodes.length].nodeType}catch(Se){ee={apply:J.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}$=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=i.support={},A=i.setDocument=function(e){var i=e?e.ownerDocument||e:H,n=i.defaultView;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,j=i.documentElement,P=!$(i),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){A()}),T.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=s(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=s(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=s(function(e){return j.appendChild(e).id=z,!i.getElementsByName||!i.getElementsByName(z).length}),T.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==G&&P){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},S.filter.ID=function(e){var t=e.replace(Te,Ce);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(Te,Ce);return function(e){var i=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return i&&i.value===t}}),S.find.TAG=T.getElementsByTagName?function(e,i){return typeof i.getElementsByTagName!==G?i.getElementsByTagName(e):t}:function(e,t){var i,n=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},S.find.CLASS=T.getElementsByClassName&&function(e,i){return typeof i.getElementsByClassName!==G&&P?i.getElementsByClassName(e):t},L=[],I=[],(T.qsa=ve.test(i.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||I.push("\\["+oe+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||I.push(":checked")}),s(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&I.push("[*^$]="+oe+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(T.matchesSelector=ve.test(N=j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&s(function(e){T.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),L.push("!=",le)}),I=I.length&&RegExp(I.join("|")),L=L.length&&RegExp(L.join("|")),F=ve.test(j.contains)||j.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=j.compareDocumentPosition?function(e,t){if(e===t)return Y=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===i||F(H,e)?-1:t===i||F(H,t)?1:M?ie.call(M,e)-ie.call(M,t):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,o=0,s=e.parentNode,r=t.parentNode,l=[e],c=[t];if(e===t)return Y=!0,0;if(!s||!r)return e===i?-1:t===i?1:s?-1:r?1:M?ie.call(M,e)-ie.call(M,t):0;if(s===r)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===H?-1:c[o]===H?1:0},i):O},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==O&&A(e),t=t.replace(fe,"='$1']"),!(!T.matchesSelector||!P||L&&L.test(t)||I&&I.test(t)))try{var n=N.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return i(t,O,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==O&&A(e),F(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==O&&A(e);var n=S.attrHandle[i.toLowerCase()],o=n&&X.call(S.attrHandle,i.toLowerCase())?n(e,i,!P):t;return o===t?T.attributes||!P?e.getAttribute(i):(o=e.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,o=0;if(Y=!T.detectDuplicates,M=!T.sortStable&&e.slice(0),e.sort(U),Y){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return e},k=i.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n];n++)i+=k(t);return i},S=i.selectors={cacheLength:50,createPseudo:o,match:_e,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Te,Ce),e[3]=(e[4]||e[5]||"").replace(Te,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return _e.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&me.test(n)&&(i=h(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Te,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=RegExp("(^|"+oe+")"+e+"("+oe+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(o){var s=i.attr(o,e);return null==s?"!="===t:t?(s+="","="===t?s===n:"!="===t?s!==n:"^="===t?n&&0===s.indexOf(n):"*="===t?n&&s.indexOf(n)>-1:"$="===t?n&&s.slice(-n.length)===n:"~="===t?(" "+s+" ").indexOf(n)>-1:"|="===t?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,o){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,h,p,f,m=s!==r?"nextSibling":"previousSibling",g=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&v){for(u=g[z]||(g[z]={}),c=u[e]||[],p=c[0]===B&&c[1],h=c[0]===B&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[B,p,h];break}}else if(v&&(c=(t[z]||(t[z]={}))[e])&&c[0]===B)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++h||(v&&((d[z]||(d[z]={}))[e]=[B,h]),d!==t)););return h-=o,h===n||0===h%n&&h/n>=0}}},PSEUDO:function(e,t){var n,s=S.pseudos[e]||S.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return s[z]?s(t):s.length>1?(n=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,i){for(var n,o=s(e,t),r=o.length;r--;)n=ie.call(e,o[r]),e[n]=!(i[n]=o[r])}):function(e){return s(e,0,n)}):s}},pseudos:{not:o(function(e){var t=[],i=[],n=E(e.replace(ce,"$1"));return n[z]?o(function(e,t,i,o){for(var s,r=n(e,null,o,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))}):function(e,o,s){return t[0]=e,n(t,null,s,i),!i.pop()}}),has:o(function(e){return function(t){return i(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:o(function(e){return ge.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(Te,Ce).toLowerCase(),function(t){var i;do if(i=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return we.test(e.nodeName)},input:function(e){return be.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;t>++n;)e.push(n);return e})}},S.pseudos.nth=S.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=c(x);d.prototype=S.filters=S.pseudos,S.setFilters=new d,E=i.compile=function(e,t){var i,n=[],o=[],s=q[e+" "];if(!s){for(t||(t=h(e)),i=t.length;i--;)s=v(t[i]),s[z]?n.push(s):o.push(s);s=q(e,y(o,n))}return s},T.sortStable=z.split("").sort(U).join("")===z,T.detectDuplicates=Y,A(),T.sortDetached=s(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,i,n){return n?t:e.getAttribute(i,"type"===i.toLowerCase()?1:2)}),T.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,i,n){return n||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(ne,function(e,i,n){var o;return n?t:(o=e.getAttributeNode(i))&&o.specified?o.value:e[i]===!0?i.toLowerCase():null}),ue.find=i,ue.expr=i.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=i.uniqueSort,ue.text=i.getText,ue.isXMLDoc=i.isXML,ue.contains=i.contains}(e);var Se={};ue.Callbacks=function(e){e="string"==typeof e?Se[e]||n(e):ue.extend({},e);var i,o,s,r,a,l,c=[],u=!e.once&&[],d=function(t){for(o=e.memory&&t,s=!0,a=l||0,l=0,r=c.length,i=!0;c&&r>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}i=!1,c&&(u?u.length&&d(u.shift()):o?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function n(t){ue.each(t,function(t,i){var o=ue.type(i);"function"===o?e.unique&&h.has(i)||c.push(i):i&&i.length&&"string"!==o&&n(i)})}(arguments),i?r=c.length:o&&(l=t,d(o))}return this},remove:function(){return c&&ue.each(arguments,function(e,t){for(var n;(n=ue.inArray(t,c,n))>-1;)c.splice(n,1),i&&(r>=n&&r--,a>=n&&a--)}),this},has:function(e){return e?ue.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],r=0,this},disable:function(){return c=u=o=t,this},disabled:function(){return!c},lock:function(){return u=t,o||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||s&&!u||(t=t||[],t=[e,t.slice?t.slice():t],i?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(i){ue.each(t,function(t,s){var r=s[0],a=ue.isFunction(e[t])&&e[t];o[s[1]](function(){
var e=a&&a.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,n):n}},o={};return n.pipe=n.then,ue.each(t,function(e,s){var r=s[2],a=s[3];n[s[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=r.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,s=se.call(arguments),r=s.length,a=1!==r||e&&ue.isFunction(e.promise)?r:0,l=1===a?e:ue.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?se.call(arguments):o,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=Array(r),i=Array(r),n=Array(r);r>o;o++)s[o]&&ue.isFunction(s[o].promise)?s[o].promise().done(c(o,n,s)).fail(l.reject).progress(c(o,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}}),ue.support=function(t){var i,n,o,s,r,a,l,c,u,d=X.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*")||[],n=d.getElementsByTagName("a")[0],!n||!n.style||!i.length)return t;s=X.createElement("select"),a=s.appendChild(X.createElement("option")),o=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(n.getAttribute("style")),t.hrefNormalized="/a"===n.getAttribute("href"),t.opacity=/^0.5/.test(n.style.opacity),t.cssFloat=!!n.style.cssFloat,t.checkOn=!!o.value,t.optSelected=a.selected,t.enctype=!!X.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=X.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),r=X.createDocumentFragment(),r.appendChild(o),t.appendChecked=o.checked,t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ue(t))break;return t.ownLast="0"!==u,ue(function(){var i,n,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=X.getElementsByTagName("body")[0];r&&(i=X.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,n=d.appendChild(X.createElement("div")),n.style.cssText=d.style.cssText=s,n.style.marginRight=n.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof d.style.zoom!==G&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(i),i=d=o=n=null)}),i=s=r=a=n=o=null,t}({});var ke=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,$e=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ue.cache[e[ue.expando]]:e[ue.expando],!!e&&!a(e)},data:function(e,t,i){return o(e,t,i)},removeData:function(e,t){return s(e,t)},_data:function(e,t,i){return o(e,t,i,!0)},_removeData:function(e,t){return s(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ue.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ue.fn.extend({data:function(e,i){var n,o,s=null,a=0,l=this[0];if(e===t){if(this.length&&(s=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(n=l.attributes;n.length>a;a++)o=n[a].name,0===o.indexOf("data-")&&(o=ue.camelCase(o.slice(5)),r(l,o,s[o]));ue._data(l,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){ue.data(this,e)}):arguments.length>1?this.each(function(){ue.data(this,e,i)}):l?r(l,e,ue.data(l,e)):null},removeData:function(e){return this.each(function(){ue.removeData(this,e)})}}),ue.extend({queue:function(e,i,n){var o;return e?(i=(i||"fx")+"queue",o=ue._data(e,i),n&&(!o||ue.isArray(n)?o=ue._data(e,i,ue.makeArray(n)):o.push(n)),o||[]):t},dequeue:function(e,t){t=t||"fx";var i=ue.queue(e,t),n=i.length,o=i.shift(),s=ue._queueHooks(e,t),r=function(){ue.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete s.stop,o.call(e,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ue._data(e,i)||ue._data(e,i,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(e,t+"queue"),ue._removeData(e,i)})})}}),ue.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),n>arguments.length?ue.queue(this[0],e):i===t?this:this.each(function(){var t=ue.queue(this,e,i);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},delay:function(e,t){return e=ue.fx?ue.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,o=1,s=ue.Deferred(),r=this,a=this.length,l=function(){--o||s.resolveWith(r,[r])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=ue._data(r[a],e+"queueHooks"),n&&n.empty&&(o++,n.empty.add(l));return l(),s.promise(i)}});var Ee,De,Me=/[\t\r\n\f]/g,Ae=/\r/g,Oe=/^(?:input|select|textarea|button|object)$/i,je=/^(?:a|area)$/i,Pe=/^(?:checked|selected)$/i,Ie=ue.support.getSetAttribute,Le=ue.support.input;ue.fn.extend({attr:function(e,t){return ue.access(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})},prop:function(e,t){return ue.access(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ue.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,o,s,r=0,a=this.length,l="string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(he)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Me," "):" ")){for(s=0;o=t[s++];)0>n.indexOf(" "+o+" ")&&(n+=o+" ");i.className=ue.trim(n)}return this},removeClass:function(e){var t,i,n,o,s,r=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(he)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Me," "):"")){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");i.className=e?ue.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(i){ue(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,o=ue(this),s=e.match(he)||[];t=s[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(i===G||"boolean"===i)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Me," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,o,s=this[0];return arguments.length?(o=ue.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=o?e.call(this,i,ue(this).val()):e,null==s?s="":"number"==typeof s?s+="":ue.isArray(s)&&(s=ue.map(s,function(e){return null==e?"":e+""})),n=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,s,"value")!==t||(this.value=s))})):s?(n=ue.valHooks[s.type]||ue.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(s,"value"))!==t?i:(i=s.value,"string"==typeof i?i.replace(Ae,""):null==i?"":i)):void 0}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,s="select-one"===e.type||0>o,r=s?null:[],a=s?o+1:n.length,l=0>o?a:s?o:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==o||(ue.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ue.nodeName(i.parentNode,"optgroup"))){if(t=ue(i).val(),s)return t;r.push(t)}return r},set:function(e,t){for(var i,n,o=e.options,s=ue.makeArray(t),r=o.length;r--;)n=o[r],(n.selected=ue.inArray(ue(n).val(),s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}},attr:function(e,i,n){var o,s,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===G?ue.prop(e,i,n):(1===r&&ue.isXMLDoc(e)||(i=i.toLowerCase(),o=ue.attrHooks[i]||(ue.expr.match.bool.test(i)?De:Ee)),n===t?o&&"get"in o&&null!==(s=o.get(e,i))?s:(s=ue.find.attr(e,i),null==s?t:s):null!==n?o&&"set"in o&&(s=o.set(e,n,i))!==t?s:(e.setAttribute(i,n+""),n):(ue.removeAttr(e,i),t)):void 0},removeAttr:function(e,t){var i,n,o=0,s=t&&t.match(he);if(s&&1===e.nodeType)for(;i=s[o++];)n=ue.propFix[i]||i,ue.expr.match.bool.test(i)?Le&&Ie||!Pe.test(i)?e[n]=!1:e[ue.camelCase("default-"+i)]=e[n]=!1:ue.attr(e,i,""),e.removeAttribute(Ie?i:n)},attrHooks:{type:{set:function(e,t){if(!ue.support.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var o,s,r,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(r=1!==a||!ue.isXMLDoc(e),r&&(i=ue.propFix[i]||i,s=ue.propHooks[i]),n!==t?s&&"set"in s&&(o=s.set(e,n,i))!==t?o:e[i]=n:s&&"get"in s&&null!==(o=s.get(e,i))?o:e[i]):void 0},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):Oe.test(e.nodeName)||je.test(e.nodeName)&&e.href?0:-1}}}}),De={set:function(e,t,i){return t===!1?ue.removeAttr(e,i):Le&&Ie||!Pe.test(i)?e.setAttribute(!Ie&&ue.propFix[i]||i,i):e[ue.camelCase("default-"+i)]=e[i]=!0,i}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,i){var n=ue.expr.attrHandle[i]||ue.find.attr;ue.expr.attrHandle[i]=Le&&Ie||!Pe.test(i)?function(e,i,o){var s=ue.expr.attrHandle[i],r=o?t:(ue.expr.attrHandle[i]=t)!=n(e,i,o)?i.toLowerCase():null;return ue.expr.attrHandle[i]=s,r}:function(e,i,n){return n?t:e[ue.camelCase("default-"+i)]?i.toLowerCase():null}}),Le&&Ie||(ue.attrHooks.value={set:function(e,i,n){return ue.nodeName(e,"input")?(e.defaultValue=i,t):Ee&&Ee.set(e,i,n)}}),Ie||(Ee={set:function(e,i,n){var o=e.getAttributeNode(n);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(n)),o.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(e,i,n){var o;return n?t:(o=e.getAttributeNode(i))&&""!==o.value?o.value:null},ue.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&n.specified?n.value:t},set:Ee.set},ue.attrHooks.contenteditable={set:function(e,t,i){Ee.set(e,""===t?!1:t,i)}},ue.each(["width","height"],function(e,i){ue.attrHooks[i]={set:function(e,n){return""===n?(e.setAttribute(i,"auto"),n):t}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(e,t){ue.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,i){return ue.isArray(i)?e.checked=ue.inArray(ue(e).val(),i)>=0:t}},ue.support.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ne=/^(?:input|select|textarea)$/i,Fe=/^key/,ze=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,Be=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(e,i,n,o,s){var r,a,l,c,u,d,h,p,f,m,g,_=ue._data(e);if(_){for(n.handler&&(c=n,n=c.handler,s=c.selector),n.guid||(n.guid=ue.guid++),(a=_.events)||(a=_.events={}),(d=_.handle)||(d=_.handle=function(e){return typeof ue===G||e&&ue.event.triggered===e.type?t:ue.event.dispatch.apply(d.elem,arguments)},d.elem=e),i=(i||"").match(he)||[""],l=i.length;l--;)r=Be.exec(i[l])||[],f=g=r[1],m=(r[2]||"").split(".").sort(),f&&(u=ue.event.special[f]||{},f=(s?u.delegateType:u.bindType)||f,u=ue.event.special[f]||{},h=ue.extend({type:f,origType:g,data:o,handler:n,guid:n.guid,selector:s,needsContext:s&&ue.expr.match.needsContext.test(s),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,o,m,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,h):p.push(h),ue.event.global[f]=!0);e=null}},remove:function(e,t,i,n,o){var s,r,a,l,c,u,d,h,p,f,m,g=ue.hasData(e)&&ue._data(e);if(g&&(u=g.events)){for(t=(t||"").match(he)||[""],c=t.length;c--;)if(a=Be.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ue.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)r=h[s],!o&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(h.splice(s,1),r.selector&&h.delegateCount--,d.remove&&d.remove.call(e,r));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||ue.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(e,p+t[c],i,n,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(e,"events"))}},trigger:function(i,n,o,s){var r,a,l,c,u,d,h,p=[o||X],f=le.call(i,"type")?i.type:i,m=le.call(i,"namespace")?i.namespace.split("."):[];if(l=d=o=o||X,3!==o.nodeType&&8!==o.nodeType&&!He.test(f+ue.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,i=i[ue.expando]?i:new ue.Event(f,"object"==typeof i&&i),i.isTrigger=s?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=o),n=null==n?[i]:ue.makeArray(n,[i]),u=ue.event.special[f]||{},s||!u.trigger||u.trigger.apply(o,n)!==!1)){if(!s&&!u.noBubble&&!ue.isWindow(o)){for(c=u.delegateType||f,He.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(o.ownerDocument||X)&&p.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=p[h++])&&!i.isPropagationStopped();)i.type=h>1?c:u.bindType||f,r=(ue._data(l,"events")||{})[i.type]&&ue._data(l,"handle"),r&&r.apply(l,n),r=a&&l[a],r&&ue.acceptData(l)&&r.apply&&r.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!s&&!i.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),n)===!1)&&ue.acceptData(o)&&a&&o[f]&&!ue.isWindow(o)){d=o[a],d&&(o[a]=null),ue.event.triggered=f;try{o[f]()}catch(g){}ue.event.triggered=t,d&&(o[a]=d)}return i.result}},dispatch:function(e){e=ue.event.fix(e);var i,n,o,s,r,a=[],l=se.call(arguments),c=(ue._data(this,"events")||{})[e.type]||[],u=ue.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ue.event.handlers.call(this,e,c),i=0;(s=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,r=0;(o=s.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,n=((ue.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l),n!==t&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,o,s,r,a=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(s=[],r=0;l>r;r++)o=i[r],n=o.selector+" ",s[n]===t&&(s[n]=o.needsContext?ue(n,this).index(c)>=0:ue.find(n,this,null,[c]).length),s[n]&&s.push(o);s.length&&a.push({elem:c,handlers:s})}return i.length>l&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(e){if(e[ue.expando])return e;var t,i,n,o=e.type,s=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=ze.test(o)?this.mouseHooks:Fe.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new ue.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=s.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,o,s,r=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(o=e.target.ownerDocument||X,s=o.documentElement,n=o.body,e.pageX=i.clientX+(s&&s.scrollLeft||n&&n.scrollLeft||0)-(s&&s.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||n&&n.scrollTop||0)-(s&&s.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=ue.extend(new ue.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ue.event.trigger(o,null,t):ue.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},ue.removeEvent=X.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===G&&(e[n]=null),e.detachEvent(n,i))},ue.Event=function(e,i){return this instanceof ue.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,i&&ue.extend(this,i),this.timeStamp=e&&e.timeStamp||ue.now(),this[ue.expando]=!0,t):new ue.Event(e,i)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,s=e.handleObj;return(!o||o!==n&&!ue.contains(n,o))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return ue.nodeName(this,"form")?!1:(ue.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=ue.nodeName(i,"input")||ue.nodeName(i,"button")?i.form:t;n&&!ue._data(n,"submitBubbles")&&(ue.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ue._data(n,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ue.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ue.nodeName(this,"form")?!1:(ue.event.remove(this,"._submit"),t)}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return Ne.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,e,!0)})),!1):(ue.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ne.test(t.nodeName)&&!ue._data(t,"changeBubbles")&&(ue.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ue.event.simulate("change",this.parentNode,e,!0)}),ue._data(t,"changeBubbles",!0))}),t)},handle:function(e){var i=e.target;return this!==i||e.isSimulated||e.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return ue.event.remove(this,"._change"),!Ne.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){ue.event.simulate(t,e.target,ue.event.fix(e),!0)};ue.event.special[t]={setup:function(){0===i++&&X.addEventListener(e,n,!0)},teardown:function(){0===--i&&X.removeEventListener(e,n,!0)}}}),ue.fn.extend({on:function(e,i,n,o,s){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(r in e)this.on(r,i,n,e[r],s);return this}if(null==n&&null==o?(o=i,n=i=t):null==o&&("string"==typeof i?(o=n,n=t):(o=n,n=i,i=t)),o===!1)o=c;else if(!o)return this;return 1===s&&(a=o,o=function(e){return ue().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ue.guid++)),this.each(function(){ue.event.add(this,e,o,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var o,s;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ue(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(s in e)this.off(s,i,e[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=c),this.each(function(){ue.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,i){var n=this[0];return n?ue.event.trigger(e,i,n,!0):t}});var Re=/^.[^:#\[\.,]*$/,We=/^(?:parents|prev(?:Until|All))/,Ve=ue.expr.match.needsContext,qe={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;o>t;t++)if(ue.contains(n[t],this))return!0}));for(t=0;o>t;t++)ue.find(e,n[t],i);return i=this.pushStack(o>1?ue.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t,i=ue(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(ue.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(h(this,e||[],!0))},filter:function(e){return this.pushStack(h(this,e||[],!1))},is:function(e){return!!h(this,"string"==typeof e&&Ve.test(e)?ue(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,o=this.length,s=[],r=Ve.test(e)||"string"!=typeof e?ue(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(11>i.nodeType&&(r?r.index(i)>-1:1===i.nodeType&&ue.find.matchesSelector(i,e))){i=s.push(i);break}return this.pushStack(s.length>1?ue.unique(s):s)},index:function(e){return e?"string"==typeof e?ue.inArray(this[0],ue(e)):ue.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?ue(e,t):ue.makeArray(e&&e.nodeType?[e]:e),n=ue.merge(this.get(),i);return this.pushStack(ue.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ue.dir(e,"parentNode",i)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ue.dir(e,"nextSibling")},prevAll:function(e){return ue.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ue.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ue.dir(e,"previousSibling",i)},siblings:function(e){return ue.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ue.sibling(e.firstChild)},contents:function(e){return ue.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(i,n){var o=ue.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ue.filter(n,o)),this.length>1&&(qe[e]||(o=ue.unique(o)),We.test(e)&&(o=o.reverse())),this.pushStack(o)}}),ue.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ue.find.matchesSelector(n,e)?[n]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var o=[],s=e[i];s&&9!==s.nodeType&&(n===t||1!==s.nodeType||!ue(s).is(n));)1===s.nodeType&&o.push(s),s=s[i];return o},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ue=/ jQuery\d+="(?:null|\d+)"/g,Ge=RegExp("<(?:"+Ye+")[\\s/>]","i"),Qe=/^\s+/,Xe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Je=/<([\w:]+)/,Ke=/<tbody/i,Ze=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^$|\/(?:java|ecma)script/i,ot=/^true\/(.*)/,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},at=p(X),lt=at.appendChild(X.createElement("div"));rt.optgroup=rt.option,rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td,ue.fn.extend({text:function(e){return ue.access(this,function(e){return e===t?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?ue.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||ue.cleanData(b(i)),i.parentNode&&(t&&ue.contains(i.ownerDocument,i)&&_(b(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ue.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ue.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return ue.access(this,function(e){var i=this[0]||{},n=0,o=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Ue,""):t;if(!("string"!=typeof e||et.test(e)||!ue.support.htmlSerialize&&Ge.test(e)||!ue.support.leadingWhitespace&&Qe.test(e)||rt[(Je.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Xe,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(ue.cleanData(b(i,!1)),i.innerHTML=e);i=0}catch(s){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ue.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],o=e[t++];o&&(n&&n.parentNode!==o&&(n=this.nextSibling),ue(this).remove(),o.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=ne.apply([],e);var n,o,s,r,a,l,c=0,u=this.length,d=this,h=u-1,p=e[0],f=ue.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ue.support.checkClone)&&it.test(p))return this.each(function(n){var o=d.eq(n);f&&(e[0]=p.call(this,n,o.html())),o.domManip(e,t,i)});if(u&&(l=ue.buildFragment(e,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(r=ue.map(b(l,"script"),m),s=r.length;u>c;c++)o=l,c!==h&&(o=ue.clone(o,!0,!0),s&&ue.merge(r,b(o,"script"))),t.call(this[c],o,c);if(s)for(a=r[r.length-1].ownerDocument,ue.map(r,g),c=0;s>c;c++)o=r[c],nt.test(o.type||"")&&!ue._data(o,"globalEval")&&ue.contains(a,o)&&(o.src?ue._evalUrl(o.src):ue.globalEval((o.text||o.textContent||o.innerHTML||"").replace(st,"")));l=n=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var i,n=0,o=[],s=ue(e),r=s.length-1;r>=n;n++)i=n===r?this:this.clone(!0),ue(s[n])[t](i),oe.apply(o,i.get());return this.pushStack(o)}}),ue.extend({clone:function(e,t,i){var n,o,s,r,a,l=ue.contains(e.ownerDocument,e);if(ue.support.html5Clone||ue.isXMLDoc(e)||!Ge.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(s=lt.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(n=b(s),a=b(e),r=0;null!=(o=a[r]);++r)n[r]&&y(o,n[r]);if(t)if(i)for(a=a||b(e),
n=n||b(s),r=0;null!=(o=a[r]);r++)v(o,n[r]);else v(e,s);return n=b(s,"script"),n.length>0&&_(n,!l&&b(e,"script")),n=a=o=null,s},buildFragment:function(e,t,i,n){for(var o,s,r,a,l,c,u,d=e.length,h=p(t),f=[],m=0;d>m;m++)if(s=e[m],s||0===s)if("object"===ue.type(s))ue.merge(f,s.nodeType?[s]:s);else if(Ze.test(s)){for(a=a||h.appendChild(t.createElement("div")),l=(Je.exec(s)||["",""])[1].toLowerCase(),u=rt[l]||rt._default,a.innerHTML=u[1]+s.replace(Xe,"<$1></$2>")+u[2],o=u[0];o--;)a=a.lastChild;if(!ue.support.leadingWhitespace&&Qe.test(s)&&f.push(t.createTextNode(Qe.exec(s)[0])),!ue.support.tbody)for(s="table"!==l||Ke.test(s)?"<table>"!==u[1]||Ke.test(s)?0:a:a.firstChild,o=s&&s.childNodes.length;o--;)ue.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ue.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else f.push(t.createTextNode(s));for(a&&h.removeChild(a),ue.support.appendChecked||ue.grep(b(f,"input"),w),m=0;s=f[m++];)if((!n||-1===ue.inArray(s,n))&&(r=ue.contains(s.ownerDocument,s),a=b(h.appendChild(s),"script"),r&&_(a),i))for(o=0;s=a[o++];)nt.test(s.type||"")&&i.push(s);return a=null,h},cleanData:function(e,t){for(var i,n,o,s,r=0,a=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(i=e[r]);r++)if((t||ue.acceptData(i))&&(o=i[a],s=o&&l[o])){if(s.events)for(n in s.events)u[n]?ue.event.remove(i,n):ue.removeEvent(i,n,s.handle);l[o]&&(delete l[o],c?delete i[a]:typeof i.removeAttribute!==G?i.removeAttribute(a):i[a]=null,te.push(o))}},_evalUrl:function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(e){if(ue.isFunction(e))return this.each(function(t){ue(this).wrapAll(e.call(this,t))});if(this[0]){var t=ue(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(i){ue(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var ct,ut,dt,ht=/alpha\([^)]*\)/i,pt=/opacity\s*=\s*([^)]*)/,ft=/^(top|right|bottom|left)$/,mt=/^(none|table(?!-c[ea]).+)/,gt=/^margin/,_t=RegExp("^("+de+")(.*)$","i"),vt=RegExp("^("+de+")(?!px)[a-z%]+$","i"),yt=RegExp("^([+-])=("+de+")","i"),bt={BODY:"block"},wt={position:"absolute",visibility:"hidden",display:"block"},xt={letterSpacing:0,fontWeight:400},Tt=["Top","Right","Bottom","Left"],Ct=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(e,i){return ue.access(this,function(e,i,n){var o,s,r={},a=0;if(ue.isArray(i)){for(s=ut(e),o=i.length;o>a;a++)r[i[a]]=ue.css(e,i[a],!1,s);return r}return n!==t?ue.style(e,i,n):ue.css(e,i)},e,i,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){T(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=dt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,a,l=ue.camelCase(i),c=e.style;if(i=ue.cssProps[l]||(ue.cssProps[l]=x(c,l)),a=ue.cssHooks[i]||ue.cssHooks[l],n===t)return a&&"get"in a&&(s=a.get(e,!1,o))!==t?s:c[i];if(r=typeof n,"string"===r&&(s=yt.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(ue.css(e,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||ue.cssNumber[l]||(n+="px"),ue.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,o))===t)))try{c[i]=n}catch(u){}}},css:function(e,i,n,o){var s,r,a,l=ue.camelCase(i);return i=ue.cssProps[l]||(ue.cssProps[l]=x(e.style,l)),a=ue.cssHooks[i]||ue.cssHooks[l],a&&"get"in a&&(r=a.get(e,!0,n)),r===t&&(r=dt(e,i,o)),"normal"===r&&i in xt&&(r=xt[i]),""===n||n?(s=parseFloat(r),n===!0||ue.isNumeric(s)?s||0:r):r}}),e.getComputedStyle?(ut=function(t){return e.getComputedStyle(t,null)},dt=function(e,i,n){var o,s,r,a=n||ut(e),l=a?a.getPropertyValue(i)||a[i]:t,c=e.style;return a&&(""!==l||ue.contains(e.ownerDocument,e)||(l=ue.style(e,i)),vt.test(l)&&gt.test(i)&&(o=c.width,s=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=o,c.minWidth=s,c.maxWidth=r)),l}):X.documentElement.currentStyle&&(ut=function(e){return e.currentStyle},dt=function(e,i,n){var o,s,r,a=n||ut(e),l=a?a[i]:t,c=e.style;return null==l&&c&&c[i]&&(l=c[i]),vt.test(l)&&!ft.test(i)&&(o=c.left,s=e.runtimeStyle,r=s&&s.left,r&&(s.left=e.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=o,r&&(s.left=r)),""===l?"auto":l}),ue.each(["height","width"],function(e,i){ue.cssHooks[i]={get:function(e,n,o){return n?0===e.offsetWidth&&mt.test(ue.css(e,"display"))?ue.swap(e,wt,function(){return $(e,i,o)}):$(e,i,o):t},set:function(e,t,n){var o=n&&ut(e);return S(e,t,n?k(e,i,n,ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,o),o):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(e,t){return pt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=ue.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ue.trim(s.replace(ht,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ht.test(s)?s.replace(ht,o):s+" "+o)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(e,i){return i?ue.swap(e,{display:"inline-block"},dt,[e,"marginRight"]):t}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(e,i){ue.cssHooks[i]={get:function(e,n){return n?(n=dt(e,i),vt.test(n)?ue(e).position()[i]+"px":n):t}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!ue.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ue.css(e,"display"))},ue.expr.filters.visible=function(e){return!ue.expr.filters.hidden(e)}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+Tt[n]+t]=s[n]||s[n-2]||s[0];return o}},gt.test(e)||(ue.cssHooks[e+t].set=S)});var St=/%20/g,kt=/\[\]$/,$t=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&Dt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var i=ue(this).val();return null==i?null:ue.isArray(i)?ue.map(i,function(e){return{name:t.name,value:e.replace($t,"\r\n")}}):{name:t.name,value:i.replace($t,"\r\n")}}).get()}}),ue.param=function(e,i){var n,o=[],s=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){s(this.name,this.value)});else for(n in e)M(n,e[n],i,s);return o.join("&").replace(St,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Mt,At,Ot=ue.now(),jt=/\?/,Pt=/#.*$/,It=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,zt=/^\/\//,Ht=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bt=ue.fn.load,Rt={},Wt={},Vt="*/".concat("*");try{At=Q.href}catch(qt){At=X.createElement("a"),At.href="",At=At.href}Mt=Ht.exec(At.toLowerCase())||[],ue.fn.load=function(e,i,n){if("string"!=typeof e&&Bt)return Bt.apply(this,arguments);var o,s,r,a=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),ue.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(r="POST"),a.length>0&&ue.ajax({url:e,type:r,dataType:"html",data:i}).done(function(e){s=arguments,a.html(o?ue("<div>").append(ue.parseHTML(e)).find(o):e)}).complete(n&&function(e,t){a.each(n,s||[e.responseText,t,e])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At,type:"GET",isLocal:Nt.test(Mt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,ue.ajaxSettings),t):j(ue.ajaxSettings,e)},ajaxPrefilter:A(Rt),ajaxTransport:A(Wt),ajax:function(e,i){function n(e,i,n,o){var s,d,v,y,w,T=i;2!==b&&(b=2,l&&clearTimeout(l),u=t,a=o||"",x.readyState=e>0?4:0,s=e>=200&&300>e||304===e,n&&(y=P(h,x,n)),y=I(h,y,x,s),s?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ue.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(ue.etag[r]=w)),204===e||"HEAD"===h.type?T="nocontent":304===e?T="notmodified":(T=y.state,d=y.data,v=y.error,s=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),x.status=e,x.statusText=(i||T)+"",s?m.resolveWith(p,[d,T,x]):m.rejectWith(p,[x,T,v]),x.statusCode(_),_=t,c&&f.trigger(s?"ajaxSuccess":"ajaxError",[x,h,s?d:v]),g.fireWith(p,[x,T]),c&&(f.trigger("ajaxComplete",[x,h]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var o,s,r,a,l,c,u,d,h=ue.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?ue(p):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),_=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Lt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)_[t]=[_[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),n(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||At)+"").replace(Pt,"").replace(zt,Mt[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=ue.trim(h.dataType||"*").toLowerCase().match(he)||[""],null==h.crossDomain&&(o=Ht.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===Mt[1]&&o[2]===Mt[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Mt[3]||("http:"===Mt[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ue.param(h.data,h.traditional)),O(Rt,h,i,x),2===b)return x;c=h.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ft.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(jt.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=It.test(r)?r.replace(It,"$1_="+Ot++):r+(jt.test(r)?"&":"?")+"_="+Ot++)),h.ifModified&&(ue.lastModified[r]&&x.setRequestHeader("If-Modified-Since",ue.lastModified[r]),ue.etag[r]&&x.setRequestHeader("If-None-Match",ue.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Vt+"; q=0.01":""):h.accepts["*"]);for(s in h.headers)x.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===b))return x.abort();w="abort";for(s in{success:1,error:1,complete:1})x[s](h[s]);if(u=O(Wt,h,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,u.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return x},getJSON:function(e,t,i){return ue.get(e,t,i,"json")},getScript:function(e,i){return ue.get(e,t,i,"script")}}),ue.each(["get","post"],function(e,i){ue[i]=function(e,n,o,s){return ue.isFunction(n)&&(s=s||o,o=n,n=t),ue.ajax({url:e,type:i,dataType:s,data:n,success:o})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=X.head||ue("head")[0]||X.documentElement;return{send:function(t,o){i=X.createElement("script"),i.async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var Yt=[],Ut=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||ue.expando+"_"+Ot++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(i,n,o){var s,r,a,l=i.jsonp!==!1&&(Ut.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(s=i.jsonpCallback=ue.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Ut,"$1"+s):i.jsonp!==!1&&(i.url+=(jt.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||ue.error(s+" was not called"),a[0]},i.dataTypes[0]="json",r=e[s],e[s]=function(){a=arguments},o.always(function(){e[s]=r,i[s]&&(i.jsonpCallback=n.jsonpCallback,Yt.push(s)),a&&ue.isFunction(r)&&r(a[0]),a=r=t}),"script"):t});var Gt,Qt,Xt=0,Jt=e.ActiveXObject&&function(){var e;for(e in Gt)Gt[e](t,!0)};ue.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&L()||N()}:L,Qt=ue.ajaxSettings.xhr(),ue.support.cors=!!Qt&&"withCredentials"in Qt,Qt=ue.support.ajax=!!Qt,Qt&&ue.ajaxTransport(function(i){if(!i.crossDomain||ue.support.cors){var n;return{send:function(o,s){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,o){var a,c,u,d;try{if(n&&(o||4===l.readyState))if(n=t,r&&(l.onreadystatechange=ue.noop,Jt&&delete Gt[r]),o)4!==l.readyState&&l.abort();else{d={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){o||s(-1,p)}d&&s(a,u,d,c)},i.async?4===l.readyState?setTimeout(n):(r=++Xt,Jt&&(Gt||(Gt={},ue(e).unload(Jt)),Gt[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}}});var Kt,Zt,ei=/^(?:toggle|show|hide)$/,ti=RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),ii=/queueHooks$/,ni=[R],oi={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=ti.exec(t),s=o&&o[3]||(ue.cssNumber[e]?"":"px"),r=(ue.cssNumber[e]||"px"!==s&&+n)&&ti.exec(ue.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==s){s=s||r[3],o=o||[],r=+n||1;do a=a||".5",r/=a,ue.style(i.elem,e,r+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(r=i.start=+r||+n||0,i.unit=s,i.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),i}]};ue.Animation=ue.extend(H,{tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;o>n;n++)i=e[n],oi[i]=oi[i]||[],oi[i].unshift(t)},prefilter:function(e,t){t?ni.unshift(e):ni.push(e)}}),ue.Tween=W,W.prototype={constructor:W,init:function(e,t,i,n,o,s){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(ue.cssNumber[i]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,i=W.propHooks[this.prop];return this.pos=t=this.options.duration?ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ue.cssProps[e.prop]]||ue.cssHooks[e.prop])?ue.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.each(["toggle","show","hide"],function(e,t){var i=ue.fn[t];ue.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(V(t,!0),e,n,o)}}),ue.fn.extend({fadeTo:function(e,t,i,n){return this.filter(T).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=ue.isEmptyObject(e),s=ue.speed(t,i,n),r=function(){var t=H(this,ue.extend({},e),s);(o||ue._data(this,"finish"))&&t.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(e,i,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=ue.timers,r=ue._data(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&ii.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&ue.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ue._data(this),n=i[e+"queue"],o=i[e+"queueHooks"],s=ue.timers,r=n?n.length:0;for(i.finish=!0,ue.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;r>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ue.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ue.speed=function(e,t,i){var n=e&&"object"==typeof e?ue.extend({},e):{complete:i||!i&&t||ue.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ue.isFunction(t)&&t};return n.duration=ue.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ue.fx.speeds?ue.fx.speeds[n.duration]:ue.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ue.isFunction(n.old)&&n.old.call(this),n.queue&&ue.dequeue(this,n.queue)},n},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ue.timers=[],ue.fx=W.prototype.init,ue.fx.tick=function(){var e,i=ue.timers,n=0;for(Kt=ue.now();i.length>n;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||ue.fx.stop(),Kt=t},ue.fx.timer=function(e){e()&&ue.timers.push(e)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){Zt||(Zt=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(Zt),Zt=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length}),ue.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var i,n,o={top:0,left:0},s=this[0],r=s&&s.ownerDocument;return r?(i=r.documentElement,ue.contains(i,s)?(typeof s.getBoundingClientRect!==G&&(o=s.getBoundingClientRect()),n=q(r),{top:o.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):o):void 0},ue.offset={setOffset:function(e,t,i){var n=ue.css(e,"position");"static"===n&&(e.style.position="relative");var o,s,r=ue(e),a=r.offset(),l=ue.css(e,"top"),c=ue.css(e,"left"),u=("absolute"===n||"fixed"===n)&&ue.inArray("auto",[l,c])>-1,d={},h={};u?(h=r.position(),o=h.top,s=h.left):(o=parseFloat(l)||0,s=parseFloat(c)||0),ue.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+s),"using"in t?t.using.call(e,d):r.css(d)}},ue.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ue.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(i=e.offset()),i.top+=ue.css(e[0],"borderTopWidth",!0),i.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ue.css(n,"marginTop",!0),left:t.left-i.left-ue.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J;e&&!ue.nodeName(e,"html")&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||J})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);ue.fn[e]=function(o){return ue.access(this,function(e,o,s){var r=q(e);return s===t?r?i in r?r[i]:r.document.documentElement[o]:e[o]:(r?r.scrollTo(n?ue(r).scrollLeft():s,n?s:ue(r).scrollTop()):e[o]=s,t)},e,o,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(e,i){ue.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,o){ue.fn[o]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||s===!0?"margin":"border");return ue.access(this,function(i,n,o){var s;return ue.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+e],s["scroll"+e],i.body["offset"+e],s["offset"+e],s["client"+e])):o===t?ue.css(i,n,a):ue.style(i,n,o,a)},i,r?o:t,r,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(e.jQuery=e.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),function(e,t){"use strict";var i=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!i.TweenLite){var n,o,s,r,a,l=function(e){var t,n=e.split("."),o=i;for(t=0;t<n.length;t++)o[n[t]]=o=o[n[t]]||{};return o},c=l("com.greensock"),u=1e-10,d=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},h=function(){},p=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),f={},m=function(n,o,s,r){this.sc=f[n]?f[n].sc:[],f[n]=this,this.gsClass=null,this.func=s;var a=[];this.check=function(c){for(var u,d,h,p,g=o.length,_=g;--g>-1;)(u=f[o[g]]||new m(o[g],[])).gsClass?(a[g]=u.gsClass,_--):c&&u.sc.push(this);if(0===_&&s)for(d=("com.greensock."+n).split("."),h=d.pop(),p=l(d.join("."))[h]=this.gsClass=s.apply(s,a),r&&(i[h]=p,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return p}):n===t&&"undefined"!=typeof module&&module.exports&&(module.exports=p)),g=0;g<this.sc.length;g++)this.sc[g].check()},this.check(!0)},g=e._gsDefine=function(e,t,i,n){return new m(e,t,i,n)},_=c._class=function(e,t,i){return t=t||function(){},g(e,[],function(){return t},i),t};g.globals=i;var v=[0,0,1,1],y=[],b=_("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?v.concat(t):v},!0),w=b.map={},x=b.register=function(e,t,i,n){for(var o,s,r,a,l=t.split(","),u=l.length,d=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(s=l[u],o=n?_("easing."+s,null,!0):c.easing[s]||{},r=d.length;--r>-1;)a=d[r],w[s+"."+a]=w[a+s]=o[a]=e.getRatio?e:e[a]||new e};for(s=b.prototype,s._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],o=n.length;--o>-1;)s=n[o]+",Power"+o,x(new b(null,null,1,o),s,"easeOut",!0),x(new b(null,null,2,o),s,"easeIn"+(0===o?",easeNone":"")),x(new b(null,null,3,o),s,"easeInOut");w.linear=c.easing.Linear.easeIn,w.swing=c.easing.Quad.easeInOut;var T=_("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});s=T.prototype,s.addEventListener=function(e,t,i,n,o){o=o||0;var s,l,c=this._listeners[e],u=0;for(null==c&&(this._listeners[e]=c=[]),l=c.length;--l>-1;)s=c[l],s.c===t&&s.s===i?c.splice(l,1):0===u&&s.pr<o&&(u=l+1);c.splice(u,0,{c:t,s:i,up:n,pr:o}),this!==r||a||r.wake()},s.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},s.dispatchEvent=function(e){var t,i,n,o=this._listeners[e];if(o)for(t=o.length,i=this._eventTarget;--t>-1;)n=o[t],n&&(n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i))};var C=e.requestAnimationFrame,S=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},$=k();for(n=["ms","moz","webkit","o"],o=n.length;--o>-1&&!C;)C=e[n[o]+"RequestAnimationFrame"],S=e[n[o]+"CancelAnimationFrame"]||e[n[o]+"CancelRequestAnimationFrame"];_("Ticker",function(e,t){var i,n,o,s,l,c=this,d=k(),p=t!==!1&&C,f=500,m=33,g="tick",_=function(e){var t,r,a=k()-$;a>f&&(d+=a-m),$+=a,c.time=($-d)/1e3,t=c.time-l,(!i||t>0||e===!0)&&(c.frame++,l+=t+(t>=s?.004:s-t),r=!0),e!==!0&&(o=n(_)),r&&c.dispatchEvent(g)};T.call(c),c.time=c.frame=0,c.tick=function(){_(!0)},c.lagSmoothing=function(e,t){f=e||1/u,m=Math.min(t,f,0)},c.sleep=function(){null!=o&&(p&&S?S(o):clearTimeout(o),n=h,o=null,c===r&&(a=!1))},c.wake=function(){null!==o?c.sleep():c.frame>10&&($=k()-f+5),n=0===i?h:p&&C?C:function(e){return setTimeout(e,1e3*(l-c.time)+1|0)},c===r&&(a=!0),_(2)},c.fps=function(e){return arguments.length?(i=e,s=1/(i||60),l=this.time+s,void c.wake()):i},c.useRAF=function(e){return arguments.length?(c.sleep(),p=e,void c.fps(i)):p},c.fps(e),setTimeout(function(){p&&c.frame<5&&c.useRAF(!1)},1500)}),s=c.Ticker.prototype=new c.events.EventDispatcher,s.constructor=c.Ticker;var E=_("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,W){a||r.wake();var i=this.vars.useFrames?R:W;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});r=E.ticker=new c.Ticker,s=E.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var D=function(){a&&k()-$>2e3&&r.wake(),setTimeout(D,2e3)};D(),s.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},s.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},s.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},s.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},s.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&e<i+this.totalDuration()/this._timeScale},s._enabled=function(e,t){return a||r.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},s._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},s._callback=function(e){var t=this.vars;t[e].apply(t[e+"Scope"]||t.callbackScope||this,t[e+"Params"]||y)},s.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,o[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},s.totalTime=function(e,t,i){if(a||r.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,o=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?n-e:e)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(this.render(e,t,!1),P.length&&q())}return this},s.progress=s.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},s.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},s.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||u,
this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(e){if(!arguments.length)return this._paused;var t,i,n=this._timeline;return e!=this._paused&&n&&(a||e||r.wake(),t=n.rawTime(),i=t-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&this.render(n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,!0,!0)),this._gc&&!e&&this._enabled(!0,!1),this};var M=_("core.SimpleTimeline",function(e){E.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});s=M.prototype=new E,s.constructor=M,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(e,t){var i,n;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(n=e._startTime;i&&i._startTime>n;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(e,t,i){var n,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;o;)n=o._next,(o._active||e>=o._startTime&&!o._paused)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,i):o.render((e-o._startTime)*o._timeScale,t,i)),o=n},s.rawTime=function(){return a||r.wake(),this._totalTime};var A=_("TweenLite",function(t,i,n){if(E.call(this,i,n),this.render=A.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:A.selector(t)||t;var o,s,r,a=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?B[A.defaultOverwrite]:"number"==typeof l?l>>0:B[l],(a||t instanceof Array||t.push&&p(t))&&"number"!=typeof t[0])for(this._targets=r=d(t),this._propLookup=[],this._siblings=[],o=0;o<r.length;o++)s=r[o],s?"string"!=typeof s?s.length&&s!==e&&s[0]&&(s[0]===e||s[0].nodeType&&s[0].style&&!s.nodeType)?(r.splice(o--,1),this._targets=r=r.concat(d(s))):(this._siblings[o]=Y(s,this,!1),1===l&&this._siblings[o].length>1&&G(s,this,null,1,this._siblings[o])):(s=r[o--]=A.selector(s),"string"==typeof s&&r.splice(o+1,1)):r.splice(o--,1);else this._propLookup={},this._siblings=Y(t,this,!1),1===l&&this._siblings.length>1&&G(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-u,this.render(-this._delay))},!0),O=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},j=function(e,t){var i,n={};for(i in e)H[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!N[i]||N[i]&&N[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n};s=A.prototype=new E,s.constructor=A,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,A.version="1.17.0",A.defaultEase=s._ease=new b(null,null,1,1),A.defaultOverwrite="auto",A.ticker=r,A.autoSleep=120,A.lagSmoothing=function(e,t){r.lagSmoothing(e,t)},A.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(A.selector=i,i(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var P=[],I={},L=A._internals={isArray:p,isSelector:O,lazyTweens:P},N=A._plugins={},F=L.tweenLookup={},z=0,H=L.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1},B={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},R=E._rootFramesTimeline=new M,W=E._rootTimeline=new M,V=30,q=L.lazyRender=function(){var e,t=P.length;for(I={};--t>-1;)e=P[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);P.length=0};W._startTime=r.time,R._startTime=r.frame,W._active=R._active=!0,setTimeout(q,1),E._updateRoot=A.render=function(){var e,t,i;if(P.length&&q(),W.render((r.time-W._startTime)*W._timeScale,!1,!1),R.render((r.frame-R._startTime)*R._timeScale,!1,!1),P.length&&q(),r.frame>=V){V=r.frame+(parseInt(A.autoSleep,10)||120);for(i in F){for(t=F[i].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete F[i]}if(i=W._first,(!i||i._paused)&&A.autoSleep&&!R._first&&1===r._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||r.sleep()}}},r.addEventListener("tick",E._updateRoot);var Y=function(e,t,i){var n,o,s=e._gsTweenID;if(F[s||(e._gsTweenID=s="t"+z++)]||(F[s]={target:e,tweens:[]}),t&&(n=F[s].tweens,n[o=n.length]=t,i))for(;--o>-1;)n[o]===t&&n.splice(o,1);return F[s].tweens},U=function(e,t,i,n){var o,s,r=e.vars.onOverwrite;return r&&(o=r(e,t,i,n)),r=A.onOverwrite,r&&(s=r(e,t,i,n)),o!==!1&&s!==!1},G=function(e,t,i,n,o){var s,r,a,l;if(1===n||n>=4){for(l=o.length,s=0;l>s;s++)if((a=o[s])!==t)a._gc||a._kill(null,e,t)&&(r=!0);else if(5===n)break;return r}var c,d=t._startTime+u,h=[],p=0,f=0===t._duration;for(s=o.length;--s>-1;)(a=o[s])===t||a._gc||a._paused||(a._timeline!==t._timeline?(c=c||Q(t,0,f),0===Q(a,c,f)&&(h[p++]=a)):a._startTime<=d&&a._startTime+a.totalDuration()/a._timeScale>d&&((f||!a._initted)&&d-a._startTime<=2e-10||(h[p++]=a)));for(s=p;--s>-1;)if(a=h[s],2===n&&a._kill(i,e,t)&&(r=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!U(a,t))continue;a._enabled(!1,!1)&&(r=!0)}return r},Q=function(e,t,i){for(var n=e._timeline,o=n._timeScale,s=e._startTime;n._timeline;){if(s+=n._startTime,o*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=o,s>t?s-t:i&&s===t||!e._initted&&2*u>s-t?u:(s+=e.totalDuration()/e._timeScale/o)>t+u?0:s-t-u};s._init=function(){var e,t,i,n,o,s=this.vars,r=this._overwrittenProps,a=this._duration,l=!!s.immediateRender,c=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={};for(n in s.startAt)o[n]=s.startAt[n];if(o.overwrite=!1,o.immediateRender=!0,o.lazy=l&&s.lazy!==!1,o.startAt=o.delay=null,this._startAt=A.to(this.target,0,o),l)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(s.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in s)H[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&s.lazy!==!1,i.immediateRender=l,this._startAt=A.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof b?c:"function"==typeof c?new b(c,s.easeParams):w[c]||A.defaultEase:A.defaultEase,s.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],r?r[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,r);if(t&&A._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(t,i,n,o){var s,r,a,l,c,u;if(null==t)return!1;I[t._gsTweenID]&&q(),this.vars.css||t.style&&t!==e&&t.nodeType&&N.css&&this.vars.autoCSS!==!1&&j(this.vars,t);for(s in this.vars){if(u=this.vars[s],H[s])u&&(u instanceof Array||u.push&&p(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[s]=u=this._swapSelfInParams(u,this));else if(N[s]&&(l=new N[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:l._priority},r=l._overwriteProps.length;--r>-1;)i[l._overwriteProps[r]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[s]=c={_next:this._firstPT,t:t,p:s,f:"function"==typeof t[s],n:s,pg:!1,pr:0},c.s=c.f?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),c.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-c.s||0;c&&c._next&&(c._next._prev=c)}return o&&this._kill(o,t)?this._initProps(t,i,n,o):this._overwrite>1&&this._firstPT&&n.length>1&&G(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(I[t._gsTweenID]=!0),a)},s.render=function(e,t,i){var n,o,s,r,a=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>c||c===u&&"isPause"!==this.data)&&c!==e&&(i=!0,c>u&&(o="onReverseComplete")),this._rawPrevTime=r=!t||e||c===e?e:u);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&c>0)&&(o="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(c!==u||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=r=!t||e||c===e?e:u)),this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var d=e/l,h=this._easeType,p=this._easePower;(1===h||3===h&&d>=.5)&&(d=1-d),3===h&&(d*=2),1===p?d*=d:2===p?d*=d*d:3===p?d*=d*d*d:4===p&&(d*=d*d*d*d),1===h?this.ratio=1-d:2===h?this.ratio=d:.5>e/l?this.ratio=d/2:this.ratio=1-d/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=c,P.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&e>=0&&(this._active=!0),0===a&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&e!==-1e-4&&this._startAt.render(e,t,i),t||(this._time!==a||n)&&this._callback("onUpdate")),o&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===l&&this._rawPrevTime===u&&r!==u&&(this._rawPrevTime=0))}},s._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:A.selector(t)||t;var n,o,s,r,a,l,c,u,d,h=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((p(t)||O(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;a=this._propLookup,o=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(a){if(c=e||a,u=e!==o&&"all"!==o&&e!==a&&("object"!=typeof e||!e._tempKill),i&&(A.onOverwrite||this.vars.onOverwrite)){for(s in c)a[s]&&(d||(d=[]),d.push(s));if((d||!e)&&!U(this,i,t,d))return!1}for(s in c)(r=a[s])&&(h&&(r.f?r.t[r.p](r.s):r.t[r.p]=r.s,l=!0),r.pg&&r.t._kill(c)&&(l=!0),r.pg&&0!==r.t._overwriteProps.length||(r._prev?r._prev._next=r._next:r===this._firstPT&&(this._firstPT=r._next),r._next&&(r._next._prev=r._prev),r._next=r._prev=null),delete a[s]),u&&(o[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},s.invalidate=function(){return this._notifyPluginsOfEnabled&&A._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],E.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-u,this.render(-this._delay)),this},s._enabled=function(e,t){if(a||r.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=Y(n[i],this,!0);else this._siblings=Y(this.target,this,!0)}return E.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?A._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},A.to=function(e,t,i){return new A(e,t,i)},A.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new A(e,t,i)},A.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new A(e,t,n)},A.delayedCall=function(e,t,i,n,o){return new A(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},A.set=function(e,t){return new A(e,0,t)},A.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:A.selector(e)||e;var i,n,o,s;if((p(e)||O(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(A.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(s=n[i],o=i;--o>-1;)s===n[o]&&n.splice(i,1)}else for(n=Y(e).concat(),i=n.length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n},A.killTweensOf=A.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=A.getTweensOf(e,t),o=n.length;--o>-1;)n[o]._kill(i,e)};var X=_("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=X.prototype},!0);if(s=X.prototype,X.version="1.10.1",X.API=2,s._firstPT=null,s._addTween=function(e,t,i,n,o,s){var r,a;return null!=n&&(r="number"==typeof n||"="!==n.charAt(1)?Number(n)-Number(i):parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:e,p:t,s:i,c:r,f:"function"==typeof e[t],n:o||t,r:s},a._next&&(a._next._prev=a),a):void 0},s.setRatio=function(e){for(var t,i=this._firstPT,n=1e-6;i;)t=i.c*e+i.s,i.r?t=Math.round(t):n>t&&t>-n&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},s._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},A._onPluginEvent=function(e,t){var i,n,o,s,r,a=t._firstPT;if("_onInitAllProps"===e){for(;a;){for(r=a._next,n=o;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:s)?a._prev._next=a:o=a,(a._next=n)?n._prev=a:s=a,a=r}a=t._firstPT=o}for(;a;)a.pg&&"function"==typeof a.t[e]&&a.t[e]()&&(i=!0),a=a._next;return i},X.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===X.API&&(N[(new e[t])._propName]=e[t]);return!0},g.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,o=e.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},r=_("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){X.call(this,i,n),this._overwriteProps=o||[]},e.global===!0),a=r.prototype=new X(i);a.constructor=r,r.API=e.API;for(t in s)"function"==typeof e[t]&&(a[s[t]]=e[t]);return r.version=e.version,X.activate([r]),r},n=e._gsQueue){for(o=0;o<n.length;o++)n[o]();for(s in f)f[s].func||e.console.log("GSAP encountered missing dependency: com.greensock."+s)}a=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,o=this.vars;for(n in o)i=o[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(o[n]=this._swapSelfInParams(i));l(o.tweens)&&this.add(o.tweens,0,o.align,o.stagger)},o=1e-10,s=i._internals,r=n._internals={},a=s.isSelector,l=s.isArray,c=s.lazyTweens,u=s.lazyRender,d=[],h=_gsScope._gsDefine.globals,p=function(e){var t,i={};for(t in e)i[t]=e[t];return i},f=r.pauseCallback=function(e,t,i,n){var s,r=e._timeline,a=r._totalTime,l=e._startTime,c=e._rawPrevTime<0||0===e._rawPrevTime&&r._reversed,u=c?0:o,h=c?o:0;if(t||!this._forcingPlayhead){for(r.pause(l),s=e._prev;s&&s._startTime===l;)s._rawPrevTime=h,s=s._prev;for(s=e._next;s&&s._startTime===l;)s._rawPrevTime=u,s=s._next;t&&t.apply(n||r.vars.callbackScope||r,i||d),(this._forcingPlayhead||!r._paused)&&r.seek(a)}},m=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},g=n.prototype=new t;return n.version="1.17.0",g.constructor=n,g.kill()._gc=g._forcingPlayhead=!1,g.to=function(e,t,n,o){var s=n.repeat&&h.TweenMax||i;return t?this.add(new s(e,t,n),o):this.set(e,n,o)},g.from=function(e,t,n,o){return this.add((n.repeat&&h.TweenMax||i).from(e,t,n),o)},g.fromTo=function(e,t,n,o,s){var r=o.repeat&&h.TweenMax||i;return t?this.add(r.fromTo(e,t,n,o),s):this.set(e,o,s)},g.staggerTo=function(e,t,o,s,r,l,c,u){var d,h=new n({onComplete:l,onCompleteParams:c,callbackScope:u,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=i.selector(e)||e),e=e||[],a(e)&&(e=m(e)),s=s||0,0>s&&(e=m(e),e.reverse(),s*=-1),d=0;d<e.length;d++)o.startAt&&(o.startAt=p(o.startAt)),h.to(e[d],t,p(o),d*s);return this.add(h,r)},g.staggerFrom=function(e,t,i,n,o,s,r,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,o,s,r,a)},g.staggerFromTo=function(e,t,i,n,o,s,r,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,o,s,r,a,l)},g.call=function(e,t,n,o){return this.add(i.delayedCall(0,e,t,n),o)},g.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var o,s,r=new n(e),a=r._timeline;for(null==t&&(t=!0),a._remove(r,!0),r._startTime=0,r._rawPrevTime=r._time=r._totalTime=a._time,o=a._first;o;)s=o._next,t&&o instanceof i&&o.target===o.vars.onComplete||r.add(o,o._startTime-o._delay),o=s;return a.add(r,0),r},g.add=function(o,s,r,a){var c,u,d,h,p,f;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,o)),!(o instanceof e)){if(o instanceof Array||o&&o.push&&l(o)){for(r=r||"normal",a=a||0,c=s,u=o.length,d=0;u>d;d++)l(h=o[d])&&(h=new n({tweens:h})),this.add(h,c),"string"!=typeof h&&"function"!=typeof h&&("sequence"===r?c=h._startTime+h.totalDuration()/h._timeScale:"start"===r&&(h._startTime-=h.delay())),c+=a;return this._uncache(!0)}if("string"==typeof o)return this.addLabel(o,s);if("function"!=typeof o)throw"Cannot add "+o+" into the timeline; it is not a tween, timeline, function, or string.";o=i.delayedCall(0,o)}if(t.prototype.add.call(this,o,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>o._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&l(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},g._remove=function(e,i){t.prototype._remove.call(this,e,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},g.insert=g.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},g.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},g.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},g.addPause=function(e,t,n,o){var s=i.delayedCall(0,f,["{self}",t,n,o],this);return s.data="isPause",this.add(s,e)},g.removeLabel=function(e){return delete this._labels[e],this},g.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},g._parseTimeOrLabel=function(t,i,n,o){var s;if(o instanceof e&&o.timeline===this)this.remove(o);else if(o&&(o instanceof Array||o.push&&l(o)))for(s=o.length;--s>-1;)o[s]instanceof e&&o[s].timeline===this&&this.remove(o[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(s=t.indexOf("="),-1===s)return null==this._labels[t]?n?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,n):this.duration()}return Number(t)+i},g.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(e,t){return this.play(e,t)},g.gotoAndStop=function(e,t){return this.pause(e,t)},g.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,s,r,a,l,d=this._dirty?this.totalDuration():this._totalDuration,h=this._time,p=this._startTime,f=this._timeScale,m=this._paused;if(e>=d)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(s=!0,a="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>o&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:o,e=d+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==h||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(a="onReverseComplete",s=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=s=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:o,0===e&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;e=0,this._initted||(l=!0)}else this._totalTime=this._time=this._rawPrevTime=e;if(this._time!==h&&this._first||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&e>0&&(this._active=!0),0===h&&this.vars.onStart&&0!==this._time&&(t||this._callback("onStart")),this._time>=h)for(n=this._first;n&&(r=n._next,!this._paused||m);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=r;else for(n=this._last;n&&(r=n._prev,!this._paused||m);)(n._active||n._startTime<=h&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=r;this._onUpdate&&(t||(c.length&&u(),this._callback("onUpdate"))),a&&(this._gc||(p===this._startTime||f!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(s&&(c.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a)))}},g._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},g.getChildren=function(e,t,n,o){o=o||-9999999999;for(var s=[],r=this._first,a=0;r;)r._startTime<o||(r instanceof i?t!==!1&&(s[a++]=r):(n!==!1&&(s[a++]=r),e!==!1&&(s=s.concat(r.getChildren(!0,t,n)),a=s.length))),r=r._next;return s},g.getTweensOf=function(e,t){var n,o,s=this._gc,r=[],a=0;for(s&&this._enabled(!0,!0),n=i.getTweensOf(e),o=n.length;--o>-1;)(n[o].timeline===this||t&&this._contains(n[o]))&&(r[a++]=n[o]);return s&&this._enabled(!1,!0),r},g.recent=function(){return this._recent},g._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},g.shiftChildren=function(e,t,i){i=i||0;for(var n,o=this._first,s=this._labels;o;)o._startTime>=i&&(o._startTime+=e),o=o._next;if(t)for(n in s)s[n]>=i&&(s[n]+=e);return this._uncache(!0)},g._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,o=!1;--n>-1;)i[n]._kill(e,t)&&(o=!0);return o},g.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},g._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},g.totalTime=function(){this._forcingPlayhead=!0;var t=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},g.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,o=this._last,s=999999999999;o;)t=o._prev,o._dirty&&o.totalDuration(),o._startTime>s&&this._sortChildren&&!o._paused?this.add(o,o._startTime-o._delay):s=o._startTime,o._startTime<0&&!o._paused&&(n-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale),this.shiftChildren(-o._startTime,!1,-9999999999),s=0),i=o._startTime+o._totalDuration/o._timeScale,i>n&&(n=i),o=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},g.paused=function(t){if(!t)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return e.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=t())}("TimelineLite"),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,function(){"use strict";var e=function(){o.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};e.version="2.0.5",window.addEventListener("mousewheel",function(){});var t="data-scrollmagic-pin-spacer";e.Controller=function(n){var s,r,a="ScrollMagic.Controller",l="FORWARD",c="REVERSE",u="PAUSED",d=i.defaults,h=this,p=o.extend({},d,n),f=[],m=!1,g=0,_=u,v=!0,y=0,b=!0,w=function(){for(var t in p)d.hasOwnProperty(t)||(M(2,'WARNING: Unknown option "'+t+'"'),delete p[t]);if(p.container=o.get.elements(p.container)[0],!p.container)throw M(1,"ERROR creating object "+a+": No valid scroll container supplied"),a+" init failed.";v=p.container===window||p.container===document.body||!document.body.contains(p.container),v&&(p.container=window),y=C(),p.container.addEventListener("resize",E),p.container.addEventListener("scroll",E),p.refreshInterval=parseInt(p.refreshInterval)||d.refreshInterval,x(),M(3,"added new "+a+" controller (v"+e.version+")")},x=function(){p.refreshInterval>0&&(r=window.setTimeout(D,p.refreshInterval))},T=function(){return p.vertical?o.get.scrollTop(p.container):o.get.scrollLeft(p.container)},C=function(){return p.vertical?o.get.height(p.container):o.get.width(p.container)},S=this._setScrollPos=function(e){p.vertical?v?window.scrollTo(o.get.scrollLeft(),e):p.container.scrollTop=e:v?window.scrollTo(e,o.get.scrollTop()):p.container.scrollLeft=e},k=function(){if(b&&m){var e=o.type.Array(m)?m:f.slice(0);m=!1;var t=g;g=h.scrollPos();var i=g-t;0!==i&&(_=i>0?l:c),_===c&&e.reverse(),e.forEach(function(t,i){M(3,"updating Scene "+(i+1)+"/"+e.length+" ("+f.length+" total)"),t.update(!0)}),0===e.length&&p.loglevel>=3&&M(3,"updating 0 Scenes (nothing added to controller)")}},$=function(){s=o.rAF(k)},E=function(e){M(3,"event fired causing an update:",e.type),"resize"==e.type&&(y=C(),_=u),m!==!0&&(m=!0,$())},D=function(){if(!v&&y!=C()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){e=document.createEvent("Event"),e.initEvent("resize",!1,!1)}p.container.dispatchEvent(e)}f.forEach(function(e){e.refresh()}),x()},M=this._log=function(e){p.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this._options=p;var A=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t};return this.addScene=function(t){if(o.type.Array(t))t.forEach(function(e){h.addScene(e)});else if(t instanceof e.Scene){if(t.controller()!==h)t.addTo(h);else if(f.indexOf(t)<0){f.push(t),f=A(f),t.on("shift.controller_sort",function(){f=A(f)});for(var i in p.globalSceneOptions)t[i]&&t[i].call(t,p.globalSceneOptions[i]);M(3,"adding Scene (now "+f.length+" total)")}}else M(1,"ERROR: invalid argument supplied for '.addScene()'");return h},this.removeScene=function(e){if(o.type.Array(e))e.forEach(function(e){h.removeScene(e)});else{var t=f.indexOf(e);t>-1&&(e.off("shift.controller_sort"),f.splice(t,1),M(3,"removing Scene (now "+f.length+" left)"),e.remove())}return h},this.updateScene=function(t,i){
return o.type.Array(t)?t.forEach(function(e){h.updateScene(e,i)}):i?t.update(!0):m!==!0&&t instanceof e.Scene&&(m=m||[],-1==m.indexOf(t)&&m.push(t),m=A(m),$()),h},this.update=function(e){return E({type:"resize"}),e&&k(),h},this.scrollTo=function(i,n){if(o.type.Number(i))S.call(p.container,i,n);else if(i instanceof e.Scene)i.controller()===h?h.scrollTo(i.scrollOffset(),n):M(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",i);else if(o.type.Function(i))S=i;else{var s=o.get.elements(i)[0];if(s){for(;s.parentNode.hasAttribute(t);)s=s.parentNode;var r=p.vertical?"top":"left",a=o.get.offset(p.container),l=o.get.offset(s);v||(a[r]-=h.scrollPos()),h.scrollTo(l[r]-a[r],n)}else M(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",i)}return h},this.scrollPos=function(e){return arguments.length?(o.type.Function(e)?T=e:M(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),h):T.call(h)},this.info=function(e){var t={size:y,vertical:p.vertical,scrollPos:g,scrollDirection:_,container:p.container,isDocument:v};return arguments.length?void 0!==t[e]?t[e]:void M(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(p.loglevel!=e&&(p.loglevel=e),h):p.loglevel},this.enabled=function(e){return arguments.length?(b!=e&&(b=!!e,h.updateScene(f,!0)),h):b},this.destroy=function(e){window.clearTimeout(r);for(var t=f.length;t--;)f[t].destroy(e);return p.container.removeEventListener("resize",E),p.container.removeEventListener("scroll",E),o.cAF(s),M(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},w(),h};var i={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){i.defaults[e]=t},e.Controller.extend=function(t){var i=this;e.Controller=function(){return i.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Controller,i),e.Controller.prototype=i.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(i){var s,r,a="ScrollMagic.Scene",l="BEFORE",c="DURING",u="AFTER",d=n.defaults,h=this,p=o.extend({},d,i),f=l,m=0,g={start:0,end:0},_=0,v=!0,y=function(){for(var e in p)d.hasOwnProperty(e)||(w(2,'WARNING: Unknown option "'+e+'"'),delete p[e]);for(var t in d)D(t);$()},b={};this.on=function(e,t){return o.type.Function(t)?(e=e.trim().split(" "),e.forEach(function(e){var i=e.split("."),n=i[0],o=i[1];"*"!=n&&(b[n]||(b[n]=[]),b[n].push({namespace:o||"",callback:t}))})):w(1,"ERROR when calling '.on()': Supplied callback for '"+e+"' is not a valid function!"),h},this.off=function(e,t){return e?(e=e.trim().split(" "),e.forEach(function(e){var i=e.split("."),n=i[0],o=i[1]||"",s="*"===n?Object.keys(b):[n];s.forEach(function(e){for(var i=b[e]||[],n=i.length;n--;){var s=i[n];!s||o!==s.namespace&&"*"!==o||t&&t!=s.callback||i.splice(n,1)}i.length||delete b[e]})}),h):(w(1,"ERROR: Invalid event name supplied."),h)},this.trigger=function(t,i){if(t){var n=t.trim().split("."),o=n[0],s=n[1],r=b[o];w(3,"event fired:",o,i?"->":"",i||""),r&&r.forEach(function(t){s&&s!==t.namespace||t.callback.call(h,new e.Event(o,t.namespace,h,i))})}else w(1,"ERROR: Invalid event name supplied.");return h},h.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?C():"reverse"===e.what&&h.update())}).on("shift.internal",function(){x(),h.update()});var w=this._log=function(e){p.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this.addTo=function(t){return t instanceof e.Controller?r!=t&&(r&&r.removeScene(h),r=t,$(),T(!0),C(!0),x(),r.info("container").addEventListener("resize",S),t.addScene(h),h.trigger("add",{controller:r}),w(3,"added "+a+" to controller"),h.update()):w(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),h},this.enabled=function(e){return arguments.length?(v!=e&&(v=!!e,h.update(!0)),h):v},this.remove=function(){if(r){r.info("container").removeEventListener("resize",S);var e=r;r=void 0,e.removeScene(h),h.trigger("remove"),w(3,"removed "+a+" from controller")}return h},this.destroy=function(e){return h.trigger("destroy",{reset:e}),h.remove(),h.off("*.*"),w(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},this.update=function(e){if(r)if(e)if(r.enabled()&&v){var t,i=r.info("scrollPos");t=p.duration>0?(i-g.start)/(g.end-g.start):i>=g.start?1:0,h.trigger("update",{startPos:g.start,endPos:g.end,scrollPos:i}),h.progress(t)}else M&&f===c&&O(!0);else r.updateScene(h,!1);return h},this.refresh=function(){return T(),C(),h},this.progress=function(e){if(arguments.length){var t=!1,i=f,n=r?r.info("scrollDirection"):"PAUSED",o=p.reverse||e>=m;if(0===p.duration?(t=m!=e,m=1>e&&o?0:1,f=0===m?l:c):0>e&&f!==l&&o?(m=0,f=l,t=!0):e>=0&&1>e&&o?(m=e,f=c,t=!0):e>=1&&f!==u?(m=1,f=u,t=!0):f!==c||o||O(),t){var s={progress:m,state:f,scrollDirection:n},a=f!=i,d=function(e){h.trigger(e,s)};a&&i!==c&&(d("enter"),d(i===l?"start":"end")),d("progress"),a&&f!==c&&(d(f===l?"start":"end"),d("leave"))}return h}return m};var x=function(){g={start:_+p.offset},r&&p.triggerElement&&(g.start-=r.info("size")*p.triggerHook),g.end=g.start+p.duration},T=function(e){if(s){var t="duration";E(t,s.call(h))&&!e&&(h.trigger("change",{what:t,newval:p[t]}),h.trigger("shift",{reason:t}))}},C=function(e){var i=0,n=p.triggerElement;if(r&&n){for(var s=r.info(),a=o.get.offset(s.container),l=s.vertical?"top":"left";n.parentNode.hasAttribute(t);)n=n.parentNode;var c=o.get.offset(n);s.isDocument||(a[l]-=r.scrollPos()),i=c[l]-a[l]}var u=i!=_;_=i,u&&!e&&h.trigger("shift",{reason:"triggerElementPosition"})},S=function(){p.triggerHook>0&&h.trigger("shift",{reason:"containerResize"})},k=o.extend(n.validate,{duration:function(e){if(o.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return r?r.info("size")*t:0}}if(o.type.Function(e)){s=e;try{e=parseFloat(s())}catch(i){e=-1}}if(e=parseFloat(e),!o.type.Number(e)||0>e)throw s?(s=void 0,['Invalid return value of supplied function for option "duration":',e]):['Invalid value for option "duration":',e];return e}}),$=function(e){e=arguments.length?[e]:Object.keys(k),e.forEach(function(e){var t;if(k[e])try{t=k[e](p[e])}catch(i){t=d[e];var n=o.type.String(i)?[i]:i;o.type.Array(n)?(n[0]="ERROR: "+n[0],n.unshift(1),w.apply(this,n)):w(1,"ERROR: Problem executing validation callback for option '"+e+"':",i.message)}finally{p[e]=t}})},E=function(e,t){var i=!1,n=p[e];return p[e]!=t&&(p[e]=t,$(e),i=n!=p[e]),i},D=function(e){h[e]||(h[e]=function(t){return arguments.length?("duration"===e&&(s=void 0),E(e,t)&&(h.trigger("change",{what:e,newval:p[e]}),n.shifts.indexOf(e)>-1&&h.trigger("shift",{reason:e})),h):p[e]})};this.controller=function(){return r},this.state=function(){return f},this.scrollOffset=function(){return g.start},this.triggerPosition=function(){var e=p.offset;return r&&(e+=p.triggerElement?_:r.info("size")*h.triggerHook()),e};var M,A;h.on("shift.internal",function(e){var t="duration"===e.reason;(f===u&&t||f===c&&0===p.duration)&&O(),t&&j()}).on("progress.internal",function(){O()}).on("add.internal",function(){j()}).on("destroy.internal",function(e){h.removePin(e.reset)});var O=function(e){if(M&&r){var t=r.info(),i=A.spacer.firstChild;if(e||f!==c){var n={position:A.inFlow?"relative":"absolute",top:0,left:0},s=o.css(i,"position")!=n.position;A.pushFollowers?p.duration>0&&(f===u&&0===parseFloat(o.css(A.spacer,"padding-top"))?s=!0:f===l&&0===parseFloat(o.css(A.spacer,"padding-bottom"))&&(s=!0)):n[t.vertical?"top":"left"]=p.duration*m,o.css(i,n),s&&j()}else{"fixed"!=o.css(i,"position")&&(o.css(i,{position:"fixed"}),j());var a=o.get.offset(A.spacer,!0),d=p.reverse||0===p.duration?t.scrollPos-g.start:Math.round(m*p.duration*10)/10;a[t.vertical?"top":"left"]+=d,o.css(A.spacer.firstChild,{top:a.top,left:a.left})}}},j=function(){if(M&&r&&A.inFlow){var e=f===c,t=r.info("vertical"),i=A.spacer.firstChild,n=o.isMarginCollapseType(o.css(A.spacer,"display")),s={};A.relSize.width||A.relSize.autoFullWidth?e?o.css(M,{width:o.get.width(A.spacer)}):o.css(M,{width:"100%"}):(s["min-width"]=o.get.width(t?M:i,!0,!0),s.width=e?s["min-width"]:"auto"),A.relSize.height?e?o.css(M,{height:o.get.height(A.spacer)-(A.pushFollowers?p.duration:0)}):o.css(M,{height:"100%"}):(s["min-height"]=o.get.height(t?i:M,!0,!n),s.height=e?s["min-height"]:"auto"),A.pushFollowers&&(s["padding"+(t?"Top":"Left")]=p.duration*m,s["padding"+(t?"Bottom":"Right")]=p.duration*(1-m)),o.css(A.spacer,s)}},P=function(){r&&M&&f===c&&!r.info("isDocument")&&O()},I=function(){r&&M&&f===c&&((A.relSize.width||A.relSize.autoFullWidth)&&o.get.width(window)!=o.get.width(A.spacer.parentNode)||A.relSize.height&&o.get.height(window)!=o.get.height(A.spacer.parentNode))&&j()},L=function(e){r&&M&&f===c&&!r.info("isDocument")&&(e.preventDefault(),r._setScrollPos(r.info("scrollPos")-((e.wheelDelta||e[r.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,i){var n={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(i=o.extend({},n,i),e=o.get.elements(e)[0],!e)return w(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),h;if("fixed"===o.css(e,"position"))return w(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),h;if(M){if(M===e)return h;h.removePin()}M=e;var s=M.parentNode.style.display,r=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];M.parentNode.style.display="none";var a="absolute"!=o.css(M,"position"),l=o.css(M,r.concat(["display"])),c=o.css(M,["width","height"]);M.parentNode.style.display=s,!a&&i.pushFollowers&&(w(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),i.pushFollowers=!1),window.setTimeout(function(){M&&0===p.duration&&i.pushFollowers&&w(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")},0);var u=M.parentNode.insertBefore(document.createElement("div"),M),d=o.extend(l,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||o.extend(d,o.css(M,["width","height"])),o.css(u,d),u.setAttribute(t,""),o.addClass(u,i.spacerClass),A={spacer:u,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&a&&o.isMarginCollapseType(l.display)},pushFollowers:i.pushFollowers,inFlow:a},!M.___origStyle){M.___origStyle={};var f=M.style,m=r.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);m.forEach(function(e){M.___origStyle[e]=f[e]||""})}return A.relSize.width&&o.css(u,{width:c.width}),A.relSize.height&&o.css(u,{height:c.height}),u.appendChild(M),o.css(M,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(A.relSize.width||A.relSize.autoFullWidth)&&o.css(M,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",P),window.addEventListener("resize",P),window.addEventListener("resize",I),M.addEventListener("mousewheel",L),M.addEventListener("DOMMouseScroll",L),w(3,"added pin"),O(),h},this.removePin=function(e){if(M){if(f===c&&O(!0),e||!r){var i=A.spacer.firstChild;if(i.hasAttribute(t)){var n=A.spacer.style,s=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},s.forEach(function(e){margins[e]=n[e]||""}),o.css(i,margins)}A.spacer.parentNode.insertBefore(i,A.spacer),A.spacer.parentNode.removeChild(A.spacer),M.parentNode.hasAttribute(t)||(o.css(M,M.___origStyle),delete M.___origStyle)}window.removeEventListener("scroll",P),window.removeEventListener("resize",P),window.removeEventListener("resize",I),M.removeEventListener("mousewheel",L),M.removeEventListener("DOMMouseScroll",L),M=void 0,w(3,"removed pin (reset: "+(e?"true":"false")+")")}return h};var N,F=[];return h.on("destroy.internal",function(e){h.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var i=o.get.elements(e);return 0!==i.length&&o.type.String(t)?(F.length>0&&h.removeClassToggle(),N=t,F=i,h.on("enter.internal_class leave.internal_class",function(e){var t="enter"===e.type?o.addClass:o.removeClass;F.forEach(function(e){t(e,N)})}),h):(w(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===i.length?"element":"classes")+" supplied."),h)},this.removeClassToggle=function(e){return e&&F.forEach(function(e){o.removeClass(e,N)}),h.off("start.internal_class end.internal_class"),N=void 0,F=[],h},y(),h};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!o.type.Number(e))throw['Invalid value for option "offset":',e];return e},triggerElement:function(e){if(e=e||void 0){var t=o.get.elements(e)[0];if(!t)throw['Element defined in option "triggerElement" was not found:',e];e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(o.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw['Invalid value for option "triggerHook": ',e];e=t[e]}return e},reverse:function(e){return!!e},loglevel:function(e){if(e=parseInt(e),!o.type.Number(e)||0>e||e>3)throw['Invalid value for option "loglevel":',e];return e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(t,i,o,s){t in n.defaults?e._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+t+"', because it already exists."):(n.defaults[t]=i,n.validate[t]=o,s&&n.shifts.push(t))},e.Scene.extend=function(t){var i=this;e.Scene=function(){return i.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Scene,i),e.Scene.prototype=i.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,i,n){n=n||{};for(var o in n)this[o]=n[o];return this.type=e,this.target=this.currentTarget=i,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var o=e._util=function(e){var t,i={},n=function(e){return parseFloat(e)||0},o=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},s=function(t,i,s,r){if(i=i===document?e:i,i===e)r=!1;else if(!f.DomElement(i))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var a=(s?i["offset"+t]||i["outer"+t]:i["client"+t]||i["inner"+t])||0;if(s&&r){var l=o(i);a+="Height"===t?n(l.marginTop)+n(l.marginBottom):n(l.marginLeft)+n(l.marginRight)}return a},r=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};i.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var i in arguments[t])arguments[t].hasOwnProperty(i)&&(e[i]=arguments[t][i]);return e},i.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var a=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,u=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],u=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),o=e.setTimeout(function(){t(i+n)},n);return a=i+n,o}),u||(u=function(t){e.clearTimeout(t)}),i.rAF=c.bind(e),i.cAF=u.bind(e);var d=["error","warn","log"],h=e.console||{};for(h.log=h.log||function(){},t=0;t<d.length;t++){var p=d[t];h[p]||(h[p]=h.log)}i.log=function(e){(e>d.length||0>=e)&&(e=d.length);var t=new Date,i=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),n=d[e-1],o=Array.prototype.splice.call(arguments,1),s=Function.prototype.bind.call(h[n],h);o.unshift(i),s.apply(h,o)};var f=i.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};f.String=function(e){return"string"===f(e)},f.Function=function(e){return"function"===f(e)},f.Array=function(e){return Array.isArray(e)},f.Number=function(e){return!f.Array(e)&&e-parseFloat(e)+1>=0},f.DomElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var m=i.get={};return m.elements=function(t){var i=[];if(f.String(t))try{t=document.querySelectorAll(t)}catch(n){return i}if("nodelist"===f(t)||f.Array(t))for(var o=0,s=i.length=t.length;s>o;o++){var r=t[o];i[o]=f.DomElement(r)?r:m.elements(r)}else(f.DomElement(t)||t===document||t===e)&&(i=[t]);return i},m.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},m.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},m.width=function(e,t,i){return s("width",e,t,i)},m.height=function(e,t,i){return s("height",e,t,i)},m.offset=function(e,t){var i={top:0,left:0};if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect();i.top=n.top,i.left=n.left,t||(i.top+=m.scrollTop(),i.left+=m.scrollLeft())}return i},i.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},i.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},i.css=function(e,t){if(f.String(t))return o(e)[r(t)];if(f.Array(t)){var i={},n=o(e);return t.forEach(function(e){i[e]=n[r(e)]}),i}for(var s in t){var a=t[s];a==parseFloat(a)&&(a+="px"),e.style[r(s)]=a}},i}(window||{});return e.Scene.prototype.addIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.removeIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.setTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.removeTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.setVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e.Scene.prototype.removeVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e});var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var e=180/Math.PI,t=[],i=[],n=[],o={},s=_gsScope._gsDefine.globals,r=function(e,t,i,n){this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},a=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(e,t,i,n){var o={a:e},s={},r={},a={c:n},l=(e+t)/2,c=(t+i)/2,u=(i+n)/2,d=(l+c)/2,h=(c+u)/2,p=(h-d)/8;return o.b=l+(e-l)/4,s.b=d+p,o.c=s.a=(o.b+s.b)/2,s.c=r.a=(d+h)/2,r.b=h-p,a.b=u+(n-u)/4,r.c=a.a=(r.b+a.b)/2,[o,s,r,a]},c=function(e,o,s,r,a){var c,u,d,h,p,f,m,g,_,v,y,b,w,x=e.length-1,T=0,C=e[0].a;for(c=0;x>c;c++)p=e[T],u=p.a,d=p.d,h=e[T+1].d,a?(y=t[c],b=i[c],w=(b+y)*o*.25/(r?.5:n[c]||.5),f=d-(d-u)*(r?.5*o:0!==y?w/y:0),m=d+(h-d)*(r?.5*o:0!==b?w/b:0),g=d-(f+((m-f)*(3*y/(y+b)+.5)/4||0))):(f=d-(d-u)*o*.5,m=d+(h-d)*o*.5,g=d-(f+m)/2),f+=g,m+=g,p.c=_=f,0!==c?p.b=C:p.b=C=p.a+.6*(p.c-p.a),p.da=d-u,p.ca=_-u,p.ba=C-u,s?(v=l(u,C,_,d),e.splice(T,1,v[0],v[1],v[2],v[3]),T+=4):T++,C=m;p=e[T],p.b=C,p.c=C+.4*(p.d-C),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=C-p.a,s&&(v=l(p.a,C,p.c,p.d),e.splice(T,1,v[0],v[1],v[2],v[3]))},u=function(e,n,o,s){var a,l,c,u,d,h,p=[];if(s)for(e=[s].concat(e),l=e.length;--l>-1;)"string"==typeof(h=e[l][n])&&"="===h.charAt(1)&&(e[l][n]=s[n]+Number(h.charAt(0)+h.substr(2)));if(a=e.length-2,0>a)return p[0]=new r(e[0][n],0,0,e[-1>a?0:1][n]),p;for(l=0;a>l;l++)c=e[l][n],u=e[l+1][n],p[l]=new r(c,0,0,u),o&&(d=e[l+2][n],t[l]=(t[l]||0)+(u-c)*(u-c),i[l]=(i[l]||0)+(d-u)*(d-u));return p[l]=new r(e[l][n],0,0,e[l+1][n]),p},d=function(e,s,r,l,d,h){var p,f,m,g,_,v,y,b,w={},x=[],T=h||e[0];d="string"==typeof d?","+d+",":a,null==s&&(s=1);for(f in e[0])x.push(f);if(e.length>1){for(b=e[e.length-1],y=!0,p=x.length;--p>-1;)if(f=x[p],Math.abs(T[f]-b[f])>.05){y=!1;break}y&&(e=e.concat(),h&&e.unshift(h),e.push(e[1]),h=e[e.length-3])}for(t.length=i.length=n.length=0,p=x.length;--p>-1;)f=x[p],o[f]=-1!==d.indexOf(","+f+","),w[f]=u(e,f,o[f],h);for(p=t.length;--p>-1;)t[p]=Math.sqrt(t[p]),i[p]=Math.sqrt(i[p]);if(!l){for(p=x.length;--p>-1;)if(o[f])for(m=w[x[p]],v=m.length-1,g=0;v>g;g++)_=m[g+1].da/i[g]+m[g].da/t[g],n[g]=(n[g]||0)+_*_;for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p])}for(p=x.length,g=r?4:1;--p>-1;)f=x[p],m=w[f],c(m,s,r,l,o[f]),y&&(m.splice(0,g),m.splice(m.length-g,g));return w},h=function(e,t,i){t=t||"soft";var n,o,s,a,l,c,u,d,h,p,f,m={},g="cubic"===t?3:2,_="soft"===t,v=[];if(_&&i&&(e=[i].concat(e)),null==e||e.length<g+1)throw"invalid Bezier data";for(h in e[0])v.push(h);for(c=v.length;--c>-1;){for(h=v[c],m[h]=l=[],p=0,d=e.length,u=0;d>u;u++)n=null==i?e[u][h]:"string"==typeof(f=e[u][h])&&"="===f.charAt(1)?i[h]+Number(f.charAt(0)+f.substr(2)):Number(f),_&&u>1&&d-1>u&&(l[p++]=(n+l[p-2])/2),l[p++]=n;for(d=p-g+1,p=0,u=0;d>u;u+=g)n=l[u],o=l[u+1],s=l[u+2],a=2===g?0:l[u+3],l[p++]=f=3===g?new r(n,o,s,a):new r(n,(2*o+n)/3,(2*o+s)/3,s);l.length=p}return m},p=function(e,t,i){for(var n,o,s,r,a,l,c,u,d,h,p,f=1/i,m=e.length;--m>-1;)for(h=e[m],s=h.a,r=h.d-s,a=h.c-s,l=h.b-s,n=o=0,u=1;i>=u;u++)c=f*u,d=1-c,n=o-(o=(c*c*r+3*d*(c*a+d*l))*c),p=m*i+u-1,t[p]=(t[p]||0)+n*n},f=function(e,t){t=t>>0||6;var i,n,o,s,r=[],a=[],l=0,c=0,u=t-1,d=[],h=[];for(i in e)p(e[i],r,t);for(o=r.length,n=0;o>n;n++)l+=Math.sqrt(r[n]),s=n%t,h[s]=l,s===u&&(c+=l,s=n/t>>0,d[s]=h,a[s]=c,l=0,h=[]);return{length:c,lengths:a,segments:d}},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,o,s,r,a,l=t.values||[],c={},u=l[0],p=t.autoRotate||i.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",p===!0?0:Number(p)||0]]:null;for(n in u)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),o=this._func[n]="function"==typeof e[n],c[n]=o?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),a||c[n]!==l[0][n]&&(a=c);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?d(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,a):h(l,t.type,c),this._segCount=this._beziers[n].length,this._timeRes){var m=f(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),s=p.length;--s>-1;){for(r=0;3>r;r++)n=p[s][r],this._func[n]="function"==typeof e[n]?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;n=p[s][2],this._initialRotations[s]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,n,o,s,r,a,l,c,u,d,h=this._segCount,p=this._func,f=this._target,m=t!==this._startRatio;if(this._timeRes){if(u=this._lengths,d=this._curSeg,t*=this._length,o=this._li,t>this._l2&&h-1>o){for(c=h-1;c>o&&(this._l2=u[++o])<=t;);this._l1=u[o-1],this._li=o,this._curSeg=d=this._segments[o],this._s2=d[this._s1=this._si=0]}else if(t<this._l1&&o>0){for(;o>0&&(this._l1=u[--o])>=t;);0===o&&t<this._l1?this._l1=0:o++,this._l2=u[o],this._li=o,this._curSeg=d=this._segments[o],this._s1=d[(this._si=d.length-1)-1]||0,this._s2=d[this._si]}if(i=o,t-=this._l1,o=this._si,t>this._s2&&o<d.length-1){for(c=d.length-1;c>o&&(this._s2=d[++o])<=t;);this._s1=d[o-1],this._si=o}else if(t<this._s1&&o>0){for(;o>0&&(this._s1=d[--o])>=t;);0===o&&t<this._s1?this._s1=0:o++,this._s2=d[o],this._si=o}a=(o+(t-this._s1)/(this._s2-this._s1))*this._prec}else i=0>t?0:t>=1?h-1:h*t>>0,a=(t-i*(1/h))*h;for(n=1-a,o=this._props.length;--o>-1;)s=this._props[o],r=this._beziers[s][i],l=(a*a*r.da+3*n*(a*r.ca+n*r.ba))*a+r.a,this._round[s]&&(l=Math.round(l)),p[s]?f[s](l):f[s]=l;if(this._autoRotate){var g,_,v,y,b,w,x,T=this._autoRotate;for(o=T.length;--o>-1;)s=T[o][2],w=T[o][3]||0,x=T[o][4]===!0?1:e,r=this._beziers[T[o][0]],g=this._beziers[T[o][1]],r&&g&&(r=r[i],g=g[i],_=r.a+(r.b-r.a)*a,y=r.b+(r.c-r.b)*a,_+=(y-_)*a,y+=(r.c+(r.d-r.c)*a-y)*a,v=g.a+(g.b-g.a)*a,b=g.b+(g.c-g.b)*a,v+=(b-v)*a,b+=(g.c+(g.d-g.c)*a-b)*a,l=m?Math.atan2(b-v,y-_)*x+w:this._initialRotations[o],p[s]?f[s](l):f[s]=l)}}}),g=m.prototype;m.bezierThrough=d,m.cubicToQuadratic=l,m._autoCSS=!0,m.quadraticToCubic=function(e,t,i){return new r(e,(2*t+e)/3,(2*t+i)/3,i)},m._cssRegister=function(){var e=s.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,n=t._setPluginRatio,o=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,s,r,a,l){t instanceof Array&&(t={values:t}),l=new m;var c,u,d,h=t.values,p=h.length-1,f=[],g={};if(0>p)return a;for(c=0;p>=c;c++)d=i(e,h[c],r,a,l,p!==c),f[c]=d.end;for(u in t)g[u]=t[u];return g.values=f,a=new o(e,"bezier",0,0,d.pt,2),a.data=d,a.plugin=l,a.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(c=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=d.end.left?[["left","top","rotation",c,!1]]:null!=d.end.x?[["x","y","rotation",c,!1]]:!1),g.autoRotate&&(r._transform||r._enableTransforms(!1),d.autoRotate=r._target._gsTransform),l._onInitTween(d.proxy,g,r._tween),a}})}},g._roundProps=function(e,t){for(var i=this._overwriteProps,n=i.length;--n>-1;)(e[i[n]]||e.bezier||e.bezierThrough)&&(this._round[i[n]]=t)},g._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;--i>-1;)n[i]===t&&n.splice(i,1);return this._super._kill.call(this,e)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("BezierPlugin");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,n,o,s,r=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=r.prototype.setRatio},a=_gsScope._gsDefine.globals,l={},c=r.prototype=new e("css");c.constructor=r,r.version="1.17.0",r.API=2,r.defaultTransformPerspective=0,r.defaultSkewType="compensated",r.defaultSmoothOrigin=!0,c="px",r.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,d,h,p,f,m,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,C=/^(rgb|hsl)/,S=/([A-Z])/g,k=/-([a-z])/gi,$=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,E=function(e,t){return t.toUpperCase()},D=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,A=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,O=/,(?=[^\)]*(?:\(|$))/gi,j=Math.PI/180,P=180/Math.PI,I={},L=document,N=function(e){return L.createElementNS?L.createElementNS("http://www.w3.org/1999/xhtml",e):L.createElement(e)},F=N("div"),z=N("img"),H=r._internals={_specialProps:l},B=navigator.userAgent,R=function(){var e=B.indexOf("Android"),t=N("a");return h=-1!==B.indexOf("Safari")&&-1===B.indexOf("Chrome")&&(-1===e||Number(B.substr(e+8,1))>3),f=h&&Number(B.substr(B.indexOf("Version/")+8,1))<6,p=-1!==B.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(B))&&(m=parseFloat(RegExp.$1)),t?(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity)):!1}(),W=function(e){return w.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(e){window.console&&console.log(e)},q="",Y="",U=function(e,t){t=t||F;var i,n,o=t.style;if(void 0!==o[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===o[i[n]+e];);return n>=0?(Y=3===n?"ms":i[n],q="-"+Y.toLowerCase()+"-",Y+e):null},G=L.defaultView?L.defaultView.getComputedStyle:function(){},Q=r.getStyle=function(e,t,i,n,o){var s;return R||"opacity"!==t?(!n&&e.style[t]?s=e.style[t]:(i=i||G(e))?s=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(S,"-$1").toLowerCase()):e.currentStyle&&(s=e.currentStyle[t]),null==o||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:o):W(e)},X=H.convertToPixels=function(e,i,n,o,s){if("px"===o||!o)return n;if("auto"===o||!n)return 0;var a,l,c,u=D.test(i),d=e,h=F.style,p=0>n;if(p&&(n=-n),"%"===o&&-1!==i.indexOf("border"))a=n/100*(u?e.clientWidth:e.clientHeight);else{if(h.cssText="border:0 solid red;position:"+Q(e,"position")+";line-height:0;","%"!==o&&d.appendChild)h[u?"borderLeftWidth":"borderTopWidth"]=n+o;else{if(d=e.parentNode||L.body,l=d._gsCache,c=t.ticker.frame,l&&u&&l.time===c)return l.width*n/100;h[u?"width":"height"]=n+o}d.appendChild(F),a=parseFloat(F[u?"offsetWidth":"offsetHeight"]),d.removeChild(F),u&&"%"===o&&r.cacheWidths!==!1&&(l=d._gsCache=d._gsCache||{},l.time=c,l.width=a/n*100),0!==a||s||(a=X(e,i,n,o,!0))}return p?-a:a},J=H.calculateOffset=function(e,t,i){if("absolute"!==Q(e,"position",i))return 0;var n="left"===t?"Left":"Top",o=Q(e,"margin"+n,i);return e["offset"+n]-(X(e,t,parseFloat(o),o.replace(b,""))||0)},K=function(e,t){var i,n,o,s={};if(t=t||G(e,null))if(i=t.length)for(;--i>-1;)o=t[i],(-1===o.indexOf("-transform")||Ce===o)&&(s[o.replace(k,E)]=t.getPropertyValue(o));else for(i in t)(-1===i.indexOf("Transform")||Te===i)&&(s[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===s[i]&&(s[i.replace(k,E)]=t[i]);return R||(s.opacity=W(e)),n=Le(e,t,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,ke&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},Z=function(e,t,i,n,o){var s,r,a,l={},c=e.style;for(r in i)"cssText"!==r&&"length"!==r&&isNaN(r)&&(t[r]!==(s=i[r])||o&&o[r])&&-1===r.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[r]="auto"!==s||"left"!==r&&"top"!==r?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof t[r]||""===t[r].replace(y,"")?s:0:J(e,r),void 0!==c[r]&&(a=new pe(c,r,c[r],a)));if(n)for(r in n)"className"!==r&&(l[r]=n[r]);return{difs:l,firstMPT:a}},ee={width:["Left","Right"],height:["Top","Bottom"]},te=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(e,t,i){var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),o=ee[t],s=o.length;for(i=i||G(e,null);--s>-1;)n-=parseFloat(Q(e,"padding"+o[s],i,!0))||0,n-=parseFloat(Q(e,"border"+o[s]+"Width",i,!0))||0;
return n},ne=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var i=e.split(" "),n=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==o?o="center"===n?"50%":"0":"center"===o&&(o="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),e=n+" "+o+(i.length>2?" "+i[2]:""),t&&(t.oxp=-1!==n.indexOf("%"),t.oyp=-1!==o.indexOf("%"),t.oxr="="===n.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(n.replace(y,"")),t.oy=parseFloat(o.replace(y,"")),t.v=e),t||e},oe=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},se=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)},re=function(e,t,i,n){var o,s,r,a,l,c=1e-6;return null==e?a=t:"number"==typeof e?a=e:(o=360,s=e.split("_"),l="="===e.charAt(1),r=(l?parseInt(e.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===e.indexOf("rad")?1:P)-(l?0:t),s.length&&(n&&(n[i]=t+r),-1!==e.indexOf("short")&&(r%=o,r!==r%(o/2)&&(r=0>r?r+o:r-o)),-1!==e.indexOf("_cw")&&0>r?r=(r+9999999999*o)%o-(r/o|0)*o:-1!==e.indexOf("ccw")&&r>0&&(r=(r-9999999999*o)%o-(r/o|0)*o)),a=t+r),c>a&&a>-c&&(a=0),a},ae={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},le=function(e,t,i){return e=0>e?e+1:e>1?e-1:e,255*(1>6*e?t+(i-t)*e*6:.5>e?i:2>3*e?t+(i-t)*(2/3-e)*6:t)+.5|0},ce=r.parseColor=function(e){var t,i,n,o,s,r;return e&&""!==e?"number"==typeof e?[e>>16,e>>8&255,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ae[e]?ae[e]:"#"===e.charAt(0)?(4===e.length&&(t=e.charAt(1),i=e.charAt(2),n=e.charAt(3),e="#"+t+t+i+i+n+n),e=parseInt(e.substr(1),16),[e>>16,e>>8&255,255&e]):"hsl"===e.substr(0,3)?(e=e.match(g),o=Number(e[0])%360/360,s=Number(e[1])/100,r=Number(e[2])/100,i=.5>=r?r*(s+1):r+s-r*s,t=2*r-i,e.length>3&&(e[3]=Number(e[3])),e[0]=le(o+1/3,t,i),e[1]=le(o,t,i),e[2]=le(o-1/3,t,i),e):(e=e.match(g)||ae.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):ae.black},ue="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(c in ae)ue+="|"+c+"\\b";ue=new RegExp(ue+")","gi");var de=function(e,t,i,n){if(null==e)return function(e){return e};var o,s=t?(e.match(ue)||[""])[0]:"",r=e.split(s).join("").match(v)||[],a=e.substr(0,e.indexOf(r[0])),l=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",u=r.length,d=u>0?r[0].replace(g,""):"";return u?o=t?function(e){var t,h,p,f;if("number"==typeof e)e+=d;else if(n&&O.test(e)){for(f=e.replace(O,"|").split("|"),p=0;p<f.length;p++)f[p]=o(f[p]);return f.join(",")}if(t=(e.match(ue)||[s])[0],h=e.split(t).join("").match(v)||[],p=h.length,u>p--)for(;++p<u;)h[p]=i?h[(p-1)/2|0]:r[p];return a+h.join(c)+c+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,s,h;if("number"==typeof e)e+=d;else if(n&&O.test(e)){for(s=e.replace(O,"|").split("|"),h=0;h<s.length;h++)s[h]=o(s[h]);return s.join(",")}if(t=e.match(v)||[],h=t.length,u>h--)for(;++h<u;)t[h]=i?t[(h-1)/2|0]:r[h];return a+t.join(c)+l}:function(e){return e}},he=function(e){return e=e.split(","),function(t,i,n,o,s,r,a){var l,c=(i+"").split(" ");for(a={},l=0;4>l;l++)a[e[l]]=c[l]=c[l]||c[(l-1)/2>>0];return o.parse(t,a,s,r)}},pe=(H._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,o,s=this.data,r=s.proxy,a=s.firstMPT,l=1e-6;a;)t=r[a.v],a.r?t=Math.round(t):l>t&&t>-l&&(t=0),a.t[a.p]=t,a=a._next;if(s.autoRotate&&(s.autoRotate.rotation=r.rotation),1===e)for(a=s.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(o=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)o+=i["xn"+n]+i["xs"+(n+1)];i.e=o}}else i.e=i.s+i.xs0;a=a._next}},function(e,t,i,n,o){this.t=e,this.p=t,this.v=i,this.r=o,n&&(n._prev=this,this._next=n)}),fe=(H._parseToProxy=function(e,t,i,n,o,s){var r,a,l,c,u,d=n,h={},p={},f=i._transform,m=I;for(i._transform=null,I=t,n=u=i.parse(e,t,n,o),I=m,s&&(i._transform=f,d&&(d._prev=null,d._prev&&(d._prev._next=null)));n&&n!==d;){if(n.type<=1&&(a=n.p,p[a]=n.s+n.c,h[a]=n.s,s||(c=new pe(n,"s",a,c,n.r),n.c=0),1===n.type))for(r=n.l;--r>0;)l="xn"+r,a=n.p+"_"+l,p[a]=n.data[l],h[a]=n[l],s||(c=new pe(n,l,a,c,n.rxp[l]));n=n._next}return{proxy:h,end:p,firstMPT:c,pt:u}},H.CSSPropTween=function(e,t,n,o,r,a,l,c,u,d,h){this.t=e,this.p=t,this.s=n,this.c=o,this.n=l||t,e instanceof fe||s.push(this.n),this.r=c,this.type=a||0,u&&(this.pr=u,i=!0),this.b=void 0===d?n:d,this.e=void 0===h?n+o:h,r&&(this._next=r,r._prev=this)}),me=function(e,t,i,n,o,s){var r=new fe(e,t,i,n-i,o,-1,s);return r.b=i,r.e=r.xs0=n,r},ge=r.parseComplex=function(e,t,i,n,o,s,r,a,l,c){i=i||s||"",r=new fe(e,t,0,0,r,c?2:1,null,!1,a,i,n),n+="";var d,h,p,f,m,v,y,b,w,x,T,S,k=i.split(", ").join(",").split(" "),$=n.split(", ").join(",").split(" "),E=k.length,D=u!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(k=k.join(" ").replace(O,", ").split(" "),$=$.join(" ").replace(O,", ").split(" "),E=k.length),E!==$.length&&(k=(s||"").split(" "),E=k.length),r.plugin=l,r.setRatio=c,d=0;E>d;d++)if(f=k[d],m=$[d],b=parseFloat(f),b||0===b)r.appendXtra("",b,oe(m,b),m.replace(_,""),D&&-1!==m.indexOf("px"),!0);else if(o&&("#"===f.charAt(0)||ae[f]||C.test(f)))S=","===m.charAt(m.length-1)?"),":")",f=ce(f),m=ce(m),w=f.length+m.length>6,w&&!R&&0===m[3]?(r["xs"+r.l]+=r.l?" transparent":"transparent",r.e=r.e.split($[d]).join("transparent")):(R||(w=!1),r.appendXtra(w?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],w?",":S,!0),w&&(f=f.length<4?1:f[3],r.appendXtra("",f,(m.length<4?1:m[3])-f,S,!1)));else if(v=f.match(g)){if(y=m.match(_),!y||y.length!==v.length)return r;for(p=0,h=0;h<v.length;h++)T=v[h],x=f.indexOf(T,p),r.appendXtra(f.substr(p,x-p),Number(T),oe(y[h],T),"",D&&"px"===f.substr(x+T.length,2),0===h),p=x+T.length;r["xs"+r.l]+=f.substr(p)}else r["xs"+r.l]+=r.l?" "+f:f;if(-1!==n.indexOf("=")&&r.data){for(S=r.xs0+r.data.s,d=1;d<r.l;d++)S+=r["xs"+d]+r.data["xn"+d];r.e=S+r["xs"+d]}return r.l||(r.type=-1,r.xs0=r.e),r.xfirst||r},_e=9;for(c=fe.prototype,c.l=c.pr=0;--_e>0;)c["xn"+_e]=0,c["xs"+_e]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,i,n,o,s){var r=this,a=r.l;return r["xs"+a]+=s&&a?" "+e:e||"",i||0===a||r.plugin?(r.l++,r.type=r.setRatio?2:1,r["xs"+r.l]=n||"",a>0?(r.data["xn"+a]=t+i,r.rxp["xn"+a]=o,r["xn"+a]=t,r.plugin||(r.xfirst=new fe(r,"xn"+a,t,i,r.xfirst||r,0,r.n,o,r.pr),r.xfirst.xs0=0),r):(r.data={s:t+i},r.rxp={},r.s=t,r.c=i,r.r=o,r)):(r["xs"+a]+=t+(n||""),r)};var ve=function(e,t){t=t||{},this.p=t.prefix?U(e)||e:e,l[e]=l[this.p]=this,this.format=t.formatter||de(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},ye=H._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,o,s=e.split(","),r=t.defaultValue;for(i=i||[r],n=0;n<s.length;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||r,o=new ve(s[n],t)},be=function(e){if(!l[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";ye(e,{parser:function(e,i,n,o,s,r,c){var u=a.com.greensock.plugins[t];return u?(u._cssRegister(),l[n].parse(e,i,n,o,s,r,c)):(V("Error: "+t+" js file not loaded."),s)}})}};c=ve.prototype,c.parseComplex=function(e,t,i,n,o,s){var r,a,l,c,u,d,h=this.keyword;if(this.multi&&(O.test(i)||O.test(t)?(a=t.replace(O,"|").split("|"),l=i.replace(O,"|").split("|")):h&&(a=[t],l=[i])),l){for(c=l.length>a.length?l.length:a.length,r=0;c>r;r++)t=a[r]=a[r]||this.dflt,i=l[r]=l[r]||this.dflt,h&&(u=t.indexOf(h),d=i.indexOf(h),u!==d&&(-1===d?a[r]=a[r].split(h).join(""):-1===u&&(a[r]+=" "+h)));t=a.join(", "),i=l.join(", ")}return ge(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,o,s)},c.parse=function(e,t,i,n,s,r){return this.parseComplex(e.style,this.format(Q(e,this.p,o,!1,this.dflt)),this.format(t),s,r)},r.registerSpecialProp=function(e,t,i){ye(e,{parser:function(e,n,o,s,r,a){var l=new fe(e,o,0,0,r,2,o,!1,i);return l.plugin=a,l.setRatio=t(e,n,s._tween,o),l},priority:i})},r.useSVGTransformAttr=h||p;var we,xe="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Te=U("transform"),Ce=q+"transform",Se=U("transformOrigin"),ke=null!==U("perspective"),$e=H.Transform=function(){this.perspective=parseFloat(r.defaultTransformPerspective)||0,this.force3D=r.defaultForce3D!==!1&&ke?r.defaultForce3D||"auto":!1},Ee=window.SVGElement,De=function(e,t,i){var n,o=L.createElementNS("http://www.w3.org/2000/svg",e),s=/([a-z])([A-Z])/g;for(n in i)o.setAttributeNS(null,n.replace(s,"$1-$2").toLowerCase(),i[n]);return t.appendChild(o),o},Me=L.documentElement,Ae=function(){var e,t,i,n=m||/Android/i.test(B)&&!window.chrome;return L.createElementNS&&!n&&(e=De("svg",Me),t=De("rect",e,{width:100,height:50,x:100}),i=t.getBoundingClientRect().width,t.style[Se]="50% 50%",t.style[Te]="scaleX(0.5)",n=i===t.getBoundingClientRect().width&&!(p&&ke),Me.removeChild(e)),n}(),Oe=function(e,t,i,n,o){var s,a,l,c,u,d,h,p,f,m,g,_,v,y,b=e._gsTransform,w=Ie(e,!0);b&&(v=b.xOrigin,y=b.yOrigin),(!n||(s=n.split(" ")).length<2)&&(h=e.getBBox(),t=ne(t).split(" "),s=[(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*h.width:parseFloat(t[0]))+h.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*h.height:parseFloat(t[1]))+h.y]),i.xOrigin=c=parseFloat(s[0]),i.yOrigin=u=parseFloat(s[1]),n&&w!==Pe&&(d=w[0],h=w[1],p=w[2],f=w[3],m=w[4],g=w[5],_=d*f-h*p,a=c*(f/_)+u*(-p/_)+(p*g-f*m)/_,l=c*(-h/_)+u*(d/_)-(d*g-h*m)/_,c=i.xOrigin=s[0]=a,u=i.yOrigin=s[1]=l),b&&(o||o!==!1&&r.defaultSmoothOrigin!==!1?(a=c-v,l=u-y,b.xOffset+=a*w[0]+l*w[2]-a,b.yOffset+=a*w[1]+l*w[3]-l):b.xOffset=b.yOffset=0),e.setAttribute("data-svg-origin",s.join(" "))},je=function(e){return!!(Ee&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},Pe=[1,0,0,1,0,0],Ie=function(e,t){var i,n,o,s,r,a=e._gsTransform||new $e,l=1e5;if(Te?n=Q(e,Ce,null,!0):e.currentStyle&&(n=e.currentStyle.filter.match(M),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),a.x||0,a.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,(a.svg||e.getBBox&&je(e))&&(i&&-1!==(e.style[Te]+"").indexOf("matrix")&&(n=e.style[Te],i=0),o=e.getAttribute("transform"),i&&o&&(-1!==o.indexOf("matrix")?(n=o,i=0):-1!==o.indexOf("translate")&&(n="matrix(1,0,0,1,"+o.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Pe;for(o=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],_e=o.length;--_e>-1;)s=Number(o[_e]),o[_e]=(r=s-(s|=0))?(r*l+(0>r?-.5:.5)|0)/l+s:s;return t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},Le=H.getTransform=function(e,i,n,s){if(e._gsTransform&&n&&!s)return e._gsTransform;var a,l,c,u,d,h,p=n?e._gsTransform||new $e:new $e,f=p.scaleX<0,m=2e-5,g=1e5,_=ke?parseFloat(Q(e,Se,i,!1,"0 0 0").split(" ")[2])||p.zOrigin||0:0,v=parseFloat(r.defaultTransformPerspective)||0;if(p.svg=!(!e.getBBox||!je(e)),p.svg&&(Oe(e,Q(e,Se,o,!1,"50% 50%")+"",p,e.getAttribute("data-svg-origin")),we=r.useSVGTransformAttr||Ae),a=Ie(e),a!==Pe){if(16===a.length){var y,b,w,x,T,C=a[0],S=a[1],k=a[2],$=a[3],E=a[4],D=a[5],M=a[6],A=a[7],O=a[8],j=a[9],I=a[10],L=a[12],N=a[13],F=a[14],z=a[11],H=Math.atan2(M,I);p.zOrigin&&(F=-p.zOrigin,L=O*F-a[12],N=j*F-a[13],F=I*F+p.zOrigin-a[14]),p.rotationX=H*P,H&&(x=Math.cos(-H),T=Math.sin(-H),y=E*x+O*T,b=D*x+j*T,w=M*x+I*T,O=E*-T+O*x,j=D*-T+j*x,I=M*-T+I*x,z=A*-T+z*x,E=y,D=b,M=w),H=Math.atan2(O,I),p.rotationY=H*P,H&&(x=Math.cos(-H),T=Math.sin(-H),y=C*x-O*T,b=S*x-j*T,w=k*x-I*T,j=S*T+j*x,I=k*T+I*x,z=$*T+z*x,C=y,S=b,k=w),H=Math.atan2(S,C),p.rotation=H*P,H&&(x=Math.cos(-H),T=Math.sin(-H),C=C*x+E*T,b=S*x+D*T,D=S*-T+D*x,M=k*-T+M*x,S=b),p.rotationX&&Math.abs(p.rotationX)+Math.abs(p.rotation)>359.9&&(p.rotationX=p.rotation=0,p.rotationY+=180),p.scaleX=(Math.sqrt(C*C+S*S)*g+.5|0)/g,p.scaleY=(Math.sqrt(D*D+j*j)*g+.5|0)/g,p.scaleZ=(Math.sqrt(M*M+I*I)*g+.5|0)/g,p.skewX=0,p.perspective=z?1/(0>z?-z:z):0,p.x=L,p.y=N,p.z=F,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*C-p.yOrigin*E),p.y-=p.yOrigin-(p.yOrigin*S-p.xOrigin*D))}else if((!ke||s||!a.length||p.x!==a[4]||p.y!==a[5]||!p.rotationX&&!p.rotationY)&&(void 0===p.x||"none"!==Q(e,"display",i))){var B=a.length>=6,R=B?a[0]:1,W=a[1]||0,V=a[2]||0,q=B?a[3]:1;p.x=a[4]||0,p.y=a[5]||0,c=Math.sqrt(R*R+W*W),u=Math.sqrt(q*q+V*V),d=R||W?Math.atan2(W,R)*P:p.rotation||0,h=V||q?Math.atan2(V,q)*P+d:p.skewX||0,Math.abs(h)>90&&Math.abs(h)<270&&(f?(c*=-1,h+=0>=d?180:-180,d+=0>=d?180:-180):(u*=-1,h+=0>=h?180:-180)),p.scaleX=c,p.scaleY=u,p.rotation=d,p.skewX=h,ke&&(p.rotationX=p.rotationY=p.z=0,p.perspective=v,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*R+p.yOrigin*V),p.y-=p.yOrigin-(p.xOrigin*W+p.yOrigin*q))}p.zOrigin=_;for(l in p)p[l]<m&&p[l]>-m&&(p[l]=0)}return n&&(e._gsTransform=p,p.svg&&(we&&e.style[Te]?t.delayedCall(.001,function(){He(e.style,Te)}):!we&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),p},Ne=function(e){var t,i,n=this.data,o=-n.rotation*j,s=o+n.skewX*j,r=1e5,a=(Math.cos(o)*n.scaleX*r|0)/r,l=(Math.sin(o)*n.scaleX*r|0)/r,c=(Math.sin(s)*-n.scaleY*r|0)/r,u=(Math.cos(s)*n.scaleY*r|0)/r,d=this.t.style,h=this.t.currentStyle;if(h){i=l,l=-c,c=-i,t=h.filter,d.filter="";var p,f,g=this.t.offsetWidth,_=this.t.offsetHeight,v="absolute"!==h.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+c+", M22="+u,x=n.x+g*n.xPercent/100,T=n.y+_*n.yPercent/100;if(null!=n.ox&&(p=(n.oxp?g*n.ox*.01:n.ox)-g/2,f=(n.oyp?_*n.oy*.01:n.oy)-_/2,x+=p-(p*a+f*l),T+=f-(p*c+f*u)),v?(p=g/2,f=_/2,y+=", Dx="+(p-(p*a+f*l)+x)+", Dy="+(f-(p*c+f*u)+T)+")"):y+=", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=t.replace(A,y):d.filter=y+" "+t,(0===e||1===e)&&1===a&&0===l&&0===c&&1===u&&(v&&-1===y.indexOf("Dx=0, Dy=0")||w.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&d.removeAttribute("filter")),!v){var C,S,k,$=8>m?1:-1;for(p=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>a?-a:a)*g+(0>l?-l:l)*_))/2+x),n.ieOffsetY=Math.round((_-((0>u?-u:u)*_+(0>c?-c:c)*g))/2+T),_e=0;4>_e;_e++)S=te[_e],C=h[S],i=-1!==C.indexOf("px")?parseFloat(C):X(this.t,S,parseFloat(C),C.replace(b,""))||0,k=i!==n[S]?2>_e?-n.ieOffsetX:-n.ieOffsetY:2>_e?p-n.ieOffsetX:f-n.ieOffsetY,d[S]=(n[S]=Math.round(i-k*(0===_e||2===_e?1:$)))+"px"}}},Fe=H.set3DTransformRatio=H.setTransformRatio=function(e){var t,i,n,o,s,r,a,l,c,u,d,h,f,m,g,_,v,y,b,w,x,T,C,S=this.data,k=this.t.style,$=S.rotation,E=S.rotationX,D=S.rotationY,M=S.scaleX,A=S.scaleY,O=S.scaleZ,P=S.x,I=S.y,L=S.z,N=S.svg,F=S.perspective,z=S.force3D;if(((1===e||0===e)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!L&&!F&&!D&&!E||we&&N||!ke)return void($||S.skewX||N?($*=j,T=S.skewX*j,C=1e5,t=Math.cos($)*M,o=Math.sin($)*M,i=Math.sin($-T)*-A,s=Math.cos($-T)*A,T&&"simple"===S.skewType&&(v=Math.tan(T),v=Math.sqrt(1+v*v),i*=v,s*=v,S.skewY&&(t*=v,o*=v)),N&&(P+=S.xOrigin-(S.xOrigin*t+S.yOrigin*i)+S.xOffset,I+=S.yOrigin-(S.xOrigin*o+S.yOrigin*s)+S.yOffset,we&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),P+=.01*S.xPercent*m.width,I+=.01*S.yPercent*m.height),m=1e-6,m>P&&P>-m&&(P=0),m>I&&I>-m&&(I=0)),b=(t*C|0)/C+","+(o*C|0)/C+","+(i*C|0)/C+","+(s*C|0)/C+","+P+","+I+")",N&&we?this.t.setAttribute("transform","matrix("+b):k[Te]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+b):k[Te]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+M+",0,0,"+A+","+P+","+I+")");if(p&&(m=1e-4,m>M&&M>-m&&(M=O=2e-5),m>A&&A>-m&&(A=O=2e-5),!F||S.z||S.rotationX||S.rotationY||(F=0)),$||S.skewX)$*=j,g=t=Math.cos($),_=o=Math.sin($),S.skewX&&($-=S.skewX*j,g=Math.cos($),_=Math.sin($),"simple"===S.skewType&&(v=Math.tan(S.skewX*j),v=Math.sqrt(1+v*v),g*=v,_*=v,S.skewY&&(t*=v,o*=v))),i=-_,s=g;else{if(!(D||E||1!==O||F||N))return void(k[Te]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+P+"px,"+I+"px,"+L+"px)"+(1!==M||1!==A?" scale("+M+","+A+")":""));t=s=1,i=o=0}c=1,n=r=a=l=u=d=0,h=F?-1/F:0,f=S.zOrigin,m=1e-6,w=",",x="0",$=D*j,$&&(g=Math.cos($),_=Math.sin($),a=-_,u=h*-_,n=t*_,r=o*_,c=g,h*=g,t*=g,o*=g),$=E*j,$&&(g=Math.cos($),_=Math.sin($),v=i*g+n*_,y=s*g+r*_,l=c*_,d=h*_,n=i*-_+n*g,r=s*-_+r*g,c*=g,h*=g,i=v,s=y),1!==O&&(n*=O,r*=O,c*=O,h*=O),1!==A&&(i*=A,s*=A,l*=A,d*=A),1!==M&&(t*=M,o*=M,a*=M,u*=M),(f||N)&&(f&&(P+=n*-f,I+=r*-f,L+=c*-f+f),N&&(P+=S.xOrigin-(S.xOrigin*t+S.yOrigin*i)+S.xOffset,I+=S.yOrigin-(S.xOrigin*o+S.yOrigin*s)+S.yOffset),m>P&&P>-m&&(P=x),m>I&&I>-m&&(I=x),m>L&&L>-m&&(L=0)),b=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",b+=(m>t&&t>-m?x:t)+w+(m>o&&o>-m?x:o)+w+(m>a&&a>-m?x:a),b+=w+(m>u&&u>-m?x:u)+w+(m>i&&i>-m?x:i)+w+(m>s&&s>-m?x:s),E||D?(b+=w+(m>l&&l>-m?x:l)+w+(m>d&&d>-m?x:d)+w+(m>n&&n>-m?x:n),b+=w+(m>r&&r>-m?x:r)+w+(m>c&&c>-m?x:c)+w+(m>h&&h>-m?x:h)+w):b+=",0,0,0,0,1,0,",b+=P+w+I+w+L+w+(F?1+-L/F:1)+")",k[Te]=b};c=$e.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,ye("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,n,s,a,l){if(n._lastParsedTransform===l)return s;n._lastParsedTransform=l;var c,u,d,h,p,f,m,g,_,v=e._gsTransform,y=n._transform=Le(e,o,!0,l.parseTransform),b=e.style,w=1e-6,x=xe.length,T=l,C={},S="transformOrigin";if("string"==typeof T.transform&&Te)d=F.style,d[Te]=T.transform,d.display="block",d.position="absolute",L.body.appendChild(F),c=Le(F,null,!1),L.body.removeChild(F),null!=T.xPercent&&(c.xPercent=se(T.xPercent,y.xPercent)),null!=T.yPercent&&(c.yPercent=se(T.yPercent,y.yPercent));else if("object"==typeof T){if(c={scaleX:se(null!=T.scaleX?T.scaleX:T.scale,y.scaleX),scaleY:se(null!=T.scaleY?T.scaleY:T.scale,y.scaleY),scaleZ:se(T.scaleZ,y.scaleZ),x:se(T.x,y.x),y:se(T.y,y.y),z:se(T.z,y.z),xPercent:se(T.xPercent,y.xPercent),yPercent:se(T.yPercent,y.yPercent),perspective:se(T.transformPerspective,y.perspective)},m=T.directionalRotation,null!=m)if("object"==typeof m)for(d in m)T[d]=m[d];else T.rotation=m;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(c.x=0,c.xPercent=se(T.x,y.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(c.y=0,c.yPercent=se(T.y,y.yPercent)),c.rotation=re("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:y.rotation,y.rotation,"rotation",C),ke&&(c.rotationX=re("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":y.rotationX||0,y.rotationX,"rotationX",C),c.rotationY=re("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":y.rotationY||0,y.rotationY,"rotationY",C)),c.skewX=null==T.skewX?y.skewX:re(T.skewX,y.skewX),c.skewY=null==T.skewY?y.skewY:re(T.skewY,y.skewY),(u=c.skewY-y.skewY)&&(c.skewX+=u,c.rotation+=u)}for(ke&&null!=T.force3D&&(y.force3D=T.force3D,f=!0),y.skewType=T.skewType||y.skewType||r.defaultSkewType,p=y.force3D||y.z||y.rotationX||y.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,p||null==T.scale||(c.scaleZ=1);--x>-1;)i=xe[x],h=c[i]-y[i],(h>w||-w>h||null!=T[i]||null!=I[i])&&(f=!0,s=new fe(y,i,y[i],h,s),i in C&&(s.e=C[i]),s.xs0=0,s.plugin=a,n._overwriteProps.push(s.n));return h=T.transformOrigin,y.svg&&(h||T.svgOrigin)&&(g=y.xOffset,_=y.yOffset,Oe(e,ne(h),c,T.svgOrigin,T.smoothOrigin),s=me(y,"xOrigin",(v?y:c).xOrigin,c.xOrigin,s,S),s=me(y,"yOrigin",(v?y:c).yOrigin,c.yOrigin,s,S),(g!==y.xOffset||_!==y.yOffset)&&(s=me(y,"xOffset",v?g:y.xOffset,y.xOffset,s,S),s=me(y,"yOffset",v?_:y.yOffset,y.yOffset,s,S)),h=we?null:"0px 0px"),(h||ke&&p&&y.zOrigin)&&(Te?(f=!0,i=Se,h=(h||Q(e,i,o,!1,"50% 50%"))+"",s=new fe(b,i,0,0,s,-1,S),s.b=b[i],s.plugin=a,ke?(d=y.zOrigin,h=h.split(" "),y.zOrigin=(h.length>2&&(0===d||"0px"!==h[2])?parseFloat(h[2]):d)||0,s.xs0=s.e=h[0]+" "+(h[1]||"50%")+" 0px",s=new fe(y,"zOrigin",0,0,s,-1,s.n),s.b=d,s.xs0=s.e=y.zOrigin):s.xs0=s.e=h):ne(h+"",y)),f&&(n._transformType=y.svg&&we||!p&&3!==this._transformType?2:3),s},prefix:!0}),ye("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ye("borderRadius",{defaultValue:"0px",parser:function(e,t,i,s,r){t=this.format(t);var a,l,c,u,d,h,p,f,m,g,_,v,y,b,w,x,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=e.style;for(m=parseFloat(e.offsetWidth),g=parseFloat(e.offsetHeight),a=t.split(" "),l=0;l<T.length;l++)this.p.indexOf("border")&&(T[l]=U(T[l])),d=u=Q(e,T[l],o,!1,"0px"),-1!==d.indexOf(" ")&&(u=d.split(" "),d=u[0],u=u[1]),h=c=a[l],p=parseFloat(d),v=d.substr((p+"").length),y="="===h.charAt(1),y?(f=parseInt(h.charAt(0)+"1",10),h=h.substr(2),f*=parseFloat(h),_=h.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(h),_=h.substr((f+"").length)),""===_&&(_=n[i]||v),_!==v&&(b=X(e,"borderLeft",p,v),w=X(e,"borderTop",p,v),"%"===_?(d=b/m*100+"%",u=w/g*100+"%"):"em"===_?(x=X(e,"borderLeft",1,"em"),d=b/x+"em",u=w/x+"em"):(d=b+"px",u=w+"px"),y&&(h=parseFloat(d)+f+_,c=parseFloat(u)+f+_)),r=ge(C,T[l],d+" "+u,h+" "+c,!1,"0px",r);return r},prefix:!0,formatter:de("0px 0px 0px 0px",!1,!0)}),ye("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,s,r){var a,l,c,u,d,h,p="background-position",f=o||G(e,null),g=this.format((f?m?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),_=this.format(t);if(-1!==g.indexOf("%")!=(-1!==_.indexOf("%"))&&(h=Q(e,"backgroundImage").replace($,""),h&&"none"!==h)){for(a=g.split(" "),l=_.split(" "),z.setAttribute("src",h),c=2;--c>-1;)g=a[c],u=-1!==g.indexOf("%"),u!==(-1!==l[c].indexOf("%"))&&(d=0===c?e.offsetWidth-z.width:e.offsetHeight-z.height,a[c]=u?parseFloat(g)/100*d+"px":parseFloat(g)/d*100+"%");g=a.join(" ")}return this.parseComplex(e.style,g,_,s,r)},formatter:ne}),ye("backgroundSize",{defaultValue:"0 0",formatter:ne}),ye("perspective",{defaultValue:"0px",prefix:!0}),ye("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ye("transformStyle",{prefix:!0}),ye("backfaceVisibility",{prefix:!0}),ye("userSelect",{prefix:!0}),ye("margin",{parser:he("marginTop,marginRight,marginBottom,marginLeft")}),ye("padding",{parser:he("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ye("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,s,r){var a,l,c;return 9>m?(l=e.currentStyle,c=8>m?" ":",",a="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(a=this.format(Q(e,this.p,o,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,a,t,s,r)}}),ye("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ye("autoRound,strictUnits",{parser:function(e,t,i,n,o){return o}}),ye("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,s,r){return this.parseComplex(e.style,this.format(Q(e,"borderTopWidth",o,!1,"0px")+" "+Q(e,"borderTopStyle",o,!1,"solid")+" "+Q(e,"borderTopColor",o,!1,"#000")),this.format(t),s,r)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ue)||["#000"])[0]}}),ye("borderWidth",{parser:he("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ye("float,cssFloat,styleFloat",{parser:function(e,t,i,n,o){var s=e.style,r="cssFloat"in s?"cssFloat":"styleFloat";return new fe(s,r,0,0,o,-1,i,!1,0,s[r],t)}});var ze=function(e){var t,i=this.t,n=i.filter||Q(this.data,"filter")||"",o=this.s+this.c*e|0;100===o&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!Q(this.data,"filter")):(i.filter=n.replace(T,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+o+")"),-1===n.indexOf("pacity")?0===o&&this.xn1||(i.filter=n+" alpha(opacity="+o+")"):i.filter=n.replace(w,"opacity="+o))};ye("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,s,r){var a=parseFloat(Q(e,"opacity",o,!1,"1")),l=e.style,c="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+a),c&&1===a&&"hidden"===Q(e,"visibility",o)&&0!==t&&(a=0),R?s=new fe(l,"opacity",a,t-a,s):(s=new fe(l,"opacity",100*a,100*(t-a),s),s.xn1=c?1:0,l.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=e,s.plugin=r,s.setRatio=ze),c&&(s=new fe(l,"visibility",0,0,s,-1,null,!1,0,0!==a?"inherit":"hidden",0===t?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var He=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(S,"-$1").toLowerCase())):e.removeAttribute(t))},Be=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:He(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ye("className",{parser:function(e,t,n,s,r,a,l){var c,u,d,h,p,f=e.getAttribute("class")||"",m=e.style.cssText;if(r=s._classNamePT=new fe(e,n,0,0,r,2),r.setRatio=Be,r.pr=-11,i=!0,r.b=f,u=K(e,o),d=e._gsClassPT){for(h={},p=d.data;p;)h[p.p]=1,p=p._next;d.setRatio(1)}return e._gsClassPT=r,r.e="="!==t.charAt(1)?t:f.replace(new RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",r.e),c=Z(e,u,K(e),l,h),e.setAttribute("class",f),r.data=c.firstMPT,e.style.cssText=m,r=r.xfirst=s.parse(e,c.difs,r,a)}});var Re=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,o,s,r=this.t.style,a=l.transform.parse;if("all"===this.e)r.cssText="",o=!0;else for(t=this.e.split(" ").join("").split(","),n=t.length;--n>-1;)i=t[n],l[i]&&(l[i].parse===a?o=!0:i="transformOrigin"===i?Se:l[i].p),He(r,i);o&&(He(r,Te),s=this.t._gsTransform,s&&(s.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(ye("clearProps",{parser:function(e,t,n,o,s){return s=new fe(e,n,0,0,s,2),s.setRatio=Re,s.e=t,s.pr=-10,s.data=o._tween,i=!0,s}}),c="bezier,throwProps,physicsProps,physics2D".split(","),_e=c.length;_e--;)be(c[_e]);c=r.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,a){if(!e.nodeType)return!1;this._target=e,this._tween=a,this._vars=t,u=t.autoRound,i=!1,n=t.suffixMap||r.suffixMap,o=G(e,""),s=this._overwriteProps;var c,p,m,g,_,v,y,b,w,T=e.style;if(d&&""===T.zIndex&&(c=Q(e,"zIndex",o),("auto"===c||""===c)&&this._addLazySet(T,"zIndex",0)),"string"==typeof t&&(g=T.cssText,c=K(e,o),T.cssText=g+";"+t,c=Z(e,c,K(e)).difs,!R&&x.test(t)&&(c.opacity=parseFloat(RegExp.$1)),t=c,T.cssText=g),t.className?this._firstPT=p=l.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=p=this.parse(e,t,null),this._transformType){for(w=3===this._transformType,Te?h&&(d=!0,""===T.zIndex&&(y=Q(e,"zIndex",o),("auto"===y||""===y)&&this._addLazySet(T,"zIndex",0)),f&&this._addLazySet(T,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):T.zoom=1,m=p;m&&m._next;)m=m._next;b=new fe(e,"transform",0,0,null,2),this._linkCSSP(b,null,m),b.setRatio=Te?Fe:Ne,b.data=this._transform||Le(e,o,!0),b.tween=a,b.pr=-1,s.pop()}if(i){for(;p;){for(v=p._next,m=g;m&&m.pr>p.pr;)m=m._next;(p._prev=m?m._prev:_)?p._prev._next=p:g=p,(p._next=m)?m._prev=p:_=p,p=v}this._firstPT=g}return!0},c.parse=function(e,t,i,s){var r,a,c,d,h,p,f,m,g,_,v=e.style;for(r in t)p=t[r],a=l[r],a?i=a.parse(e,p,r,this,i,s,t):(h=Q(e,r,o)+"",g="string"==typeof p,"color"===r||"fill"===r||"stroke"===r||-1!==r.indexOf("Color")||g&&C.test(p)?(g||(p=ce(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=ge(v,r,h,p,!0,"transparent",i,0,s)):!g||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(c=parseFloat(h),f=c||0===c?h.substr((c+"").length):"",(""===h||"auto"===h)&&("width"===r||"height"===r?(c=ie(e,r,o),f="px"):"left"===r||"top"===r?(c=J(e,r,o),f="px"):(c="opacity"!==r?0:1,f="")),_=g&&"="===p.charAt(1),_?(d=parseInt(p.charAt(0)+"1",10),p=p.substr(2),d*=parseFloat(p),m=p.replace(b,"")):(d=parseFloat(p),m=g?p.replace(b,""):""),""===m&&(m=r in n?n[r]:f),p=d||0===d?(_?d+c:d)+m:t[r],f!==m&&""!==m&&(d||0===d)&&c&&(c=X(e,r,c,f),"%"===m?(c/=X(e,r,100,"%")/100,t.strictUnits!==!0&&(h=c+"%")):"em"===m?c/=X(e,r,1,"em"):"px"!==m&&(d=X(e,r,d,m),m="px"),_&&(d||0===d)&&(p=d+c+m)),_&&(d+=c),!c&&0!==c||!d&&0!==d?void 0!==v[r]&&(p||p+""!="NaN"&&null!=p)?(i=new fe(v,r,d||c||0,0,i,-1,r,!1,0,h,p),i.xs0="none"!==p||"display"!==r&&-1===r.indexOf("Style")?p:h):V("invalid "+r+" tween value: "+t[r]):(i=new fe(v,r,c,d-c,i,0,r,u!==!1&&("px"===m||"zIndex"===r),0,h,p),i.xs0=m)):i=ge(v,r,h,p,!0,null,i,0,s)),s&&i&&!i.plugin&&(i.plugin=s);return i},c.setRatio=function(e){var t,i,n,o=this._firstPT,s=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;o;){if(t=o.c*e+o.s,o.r?t=Math.round(t):s>t&&t>-s&&(t=0),o.type)if(1===o.type)if(n=o.l,2===n)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2;else if(3===n)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===n)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===n)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(i=o.xs0+t+o.xs1,n=1;n<o.l;n++)i+=o["xn"+n]+o["xs"+(n+1)];o.t[o.p]=i}else-1===o.type?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(e);else o.t[o.p]=t+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(e),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&-1!==o.type)if(t=Math.round(o.s+o.c),o.type){if(1===o.type){for(n=o.l,i=o.xs0+t+o.xs1,n=1;n<o.l;n++)i+=o["xn"+n]+o["xs"+(n+1)];o.t[o.p]=i}}else o.t[o.p]=t+o.xs0;else o.t[o.p]=o.e;else o.setRatio(e);o=o._next}},c._enableTransforms=function(e){this._transform=this._transform||Le(this._target,o,!0),this._transformType=this._transform.svg&&we||!e&&3!==this._transformType?2:3};var We=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,i){var n=this._firstPT=new fe(e,t,0,0,this._firstPT,2);n.e=i,n.setRatio=We,n.data=this},c._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},c._kill=function(t){var i,n,o,s=t;if(t.autoAlpha||t.alpha){s={};for(n in t)s[n]=t[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return t.className&&(i=this._classNamePT)&&(o=i.xfirst,o&&o._prev?this._linkCSSP(o._prev,i._next,o._prev._prev):o===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,o._prev),this._classNamePT=null),e.prototype._kill.call(this,s)};var Ve=function(e,t,i){var n,o,s,r;if(e.slice)for(o=e.length;--o>-1;)Ve(e[o],t,i);else for(n=e.childNodes,o=n.length;--o>-1;)s=n[o],r=s.type,s.style&&(t.push(K(s)),i&&i.push(s)),1!==r&&9!==r&&11!==r||!s.childNodes.length||Ve(s,t,i)};return r.cascadeTo=function(e,i,n){var o,s,r,a,l=t.to(e,i,n),c=[l],u=[],d=[],h=[],p=t._internals.reservedProps;for(e=l._targets||l.target,Ve(e,u,h),l.render(i,!0,!0),Ve(e,d),l.render(0,!0,!0),l._enabled(!0),o=h.length;--o>-1;)if(s=Z(h[o],u[o],d[o]),s.firstMPT){s=s.difs;for(r in n)p[r]&&(s[r]=n[r]);
a={};for(r in s)a[r]=u[o][r];c.push(t.fromTo(h[o],i,a,s))}return c},e.activate([r]),r},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("CSSPlugin"),function(e,t){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],t):"object"==typeof exports?(require("gsap"),t(require("scrollmagic"),TweenMax,TimelineMax)):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.TweenMax||e.TweenLite,e.TimelineMax||e.TimelineLite)}(this,function(e,t,i){"use strict";var n="animation.gsap",o=window.console||{},s=Function.prototype.bind.call(o.error||o.log||function(){},o);e||s("("+n+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),t||s("("+n+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),e.Scene.addOption("tweenChanges",!1,function(e){return!!e}),e.Scene.extend(function(){var e,o=this,s=function(){o._log&&(Array.prototype.splice.call(arguments,1,0,"("+n+")","->"),o._log.apply(this,arguments))};o.on("progress.plugin_gsap",function(){r()}),o.on("destroy.plugin_gsap",function(e){o.removeTween(e.reset)});var r=function(){if(e){var t=o.progress(),i=o.state();e.repeat&&-1===e.repeat()?"DURING"===i&&e.paused()?e.play():"DURING"===i||e.paused()||e.pause():t!=e.progress()&&(0===o.duration()?t>0?e.play():e.reverse():o.tweenChanges()&&e.tweenTo?e.tweenTo(t*e.duration()):e.progress(t).pause())}};o.setTween=function(n,a,l){var c;arguments.length>1&&(arguments.length<3&&(l=a,a=1),n=t.to(n,a,l));try{c=i?new i({smoothChildTiming:!0}).add(n):n,c.pause()}catch(u){return s(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),o}if(e&&o.removeTween(),e=c,n.repeat&&-1===n.repeat()&&(e.repeat(-1),e.yoyo(n.yoyo())),o.tweenChanges()&&!e.tweenTo&&s(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),e&&o.controller()&&o.triggerElement()&&o.loglevel()>=2){var d=t.getTweensOf(o.triggerElement()),h=o.controller().info("vertical");d.forEach(function(e){var t=e.vars.css||e.vars,i=h?void 0!==t.top||void 0!==t.bottom:void 0!==t.left||void 0!==t.right;return i?(s(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1):void 0})}if(parseFloat(TweenLite.version)>=1.14)for(var p,f,m=e.getChildren?e.getChildren(!0,!0,!1):[e],g=function(){s(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},_=0;_<m.length;_++)p=m[_],f!==g&&(f=p.vars.onOverwrite,p.vars.onOverwrite=function(){f&&f.apply(this,arguments),g.apply(this,arguments)});return s(3,"added tween"),r(),o},o.removeTween=function(t){return e&&(t&&e.progress(0).pause(),e.kill(),e=void 0,s(3,"removed tween (reset: "+(t?"true":"false")+")")),o}})}),function(e){var t=0,i={resizeMaxTry:4,resizeWaitTime:50,minimumHeight:50,defaultHeight:1500,heightOffset:0,exceptPages:"",debugMode:!1,visibilitybeforeload:!1,blockCrossDomain:!1,externalHeightName:"bodyHeight",onMessageFunctionName:"getHeight",domainName:"*",watcher:!1,watcherTime:400};e.iframeHeight=function(i,n){var o=this;o.resizeEventsOnce=!1,e.iframeHeight.resizeTimeout=null,e.iframeHeight.resizeCount=0,o.$el=e(i),o.el=i,o.$el.before("<div id='iframeHeight-Container-"+t+"' style='padding: 0; margin: 0; border: none; background-color: transparent;'></div>"),o.$el.appendTo("#iframeHeight-Container-"+t),o.$container=e("#iframeHeight-Container-"+t),o.$el.data("iframeHeight",o),o.watcher=null,o.debug={FirstTime:!0,Init:function(){"console"in window||(console={}),"log info warn error dir clear".replace(/\w+/g,function(e){e in console||(console[e]=console.log||new Function)})},Log:function(e){this.FirstTime&&this.FirstTime===!0&&(this.Init(),this.FirstTime=!1),o.options.debugMode&&o.options.debugMode===!0&&console&&(null!==e||""!==e)&&console.log("Iframe Plugin : "+e)},GetBrowserInfo:function(e){var t,i,n=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browserObj:t[1]||"",version:t[2]||"0"}};return t=n(navigator.userAgent),i={chrome:!1,safari:!1,mozilla:!1,msie:!1,webkit:!1},t.browserObj&&(i[t.browserObj]=!0,i.version=t.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0),e=i}(this.GetBrowserInfo||{})};var s=function(){try{var e;return e=o.debug.GetBrowserInfo.msie&&"7.0"==o.debug.GetBrowserInfo.version?o.$el.get(0).contentWindow.location.href:o.$el.get(0).contentDocument.location.href,o.debug.Log("This page is non-Cross Domain - "+e),!1}catch(t){return o.debug.Log("This page is Cross Domain"),!0}};o.resetIframe=function(){!o.options.visibilitybeforeload||o.debug.GetBrowserInfo.msie&&"7.0"==o.debug.GetBrowserInfo.version||o.$el.css("visibility","hidden"),o.debug.Log("Old Height is "+o.$el.height()+"px"),o.$el.css("height","").removeAttr("height"),o.debug.Log("Reset iframe"),o.debug.Log("Height is "+o.$el.height()+"px after reset")},o.resizeFromOutside=function(t){if(o.options.blockCrossDomain)return o.debug.Log("Blocked cross domain fix"),!1;if("undefined"==typeof t)return!1;if("string"!=typeof t.data)return!1;if("reset"==t.data)o.$el.css("height","").removeAttr("height");else{if(!/^ifh*/.test(t.data))return!1;if(o.resizeEventsOnce||(o.resizeEventsOnce=!0,e(window).resize(function(){o.$el.trigger("updateIframe")}),window.setTimeout(function(){o.resetIframe(),o.$el.trigger("updateIframe")},100)),o.$el.attr("scrolling","no"),o.debug.Log("resizeFromOutside "+t.data),"number"!=typeof parseInt(t.data.substring(3)))return!1;var i=parseInt(t.data.substring(3))+parseInt(o.options.heightOffset);!o.options.visibilitybeforeload||o.debug.GetBrowserInfo.msie&&"7.0"==o.debug.GetBrowserInfo.version||o.$el.css("visibility","hidden"),o.$el.css("height","").removeAttr("height"),o.debug.Log("resizeFromOutside "+i),o.resetIframe(),o.setIframeHeight(i)}return!0},o.checkMessageEvent=function(){if(o.options.blockCrossDomain||o.debug.GetBrowserInfo.msie&&"7.0"==o.debug.GetBrowserInfo.version)return o.debug.Log("Blocked cross domain fix"),!1;!o.options.visibilitybeforeload||o.debug.GetBrowserInfo.msie&&"7.0"==o.debug.GetBrowserInfo.version||o.$el.css("visibility","visible"),window.addEventListener?window.addEventListener("message",o.resizeFromOutside,!1):window.attachEvent&&window.attachEvent("onmessage",o.resizeFromOutside),o.$el.id||(o.$el.id="iframe-id-"+ ++t);var e=document.getElementById(o.$el.attr("id")),i=o.options.onMessageFunctionName;return e.contentWindow.postMessage?(e.contentWindow.postMessage(i,"*"),o.debug.Log("Cross Domain Iframe started"),!0):(o.debug.Log("Your browser does not support the postMessage method!"),!1)};var r=function(){e.iframeHeight.resizeCount<=o.options.resizeMaxTry?(e.iframeHeight.resizeCount++,e.iframeHeight.resizeTimeout=setTimeout(e.iframeHeight.resizeIframe,o.options.resizeWaitTime),o.debug.Log(e.iframeHeight.resizeCount+" time(s) tried")):(clearTimeout(e.iframeHeight.resizeTimeout),e.iframeHeight.resizeCount=0,o.debug.Log("set default height for iframe"),o.setIframeHeight(o.options.defaultHeight+o.options.heightOffset))};o.sendInfotoTop=function(){if(top.length>0&&"undefined"!=typeof JSON){var t={};t[o.options.externalHeightName].value=e(document).height();var i="*";return t=JSON.stringify(t),top.postMessage(t,i),o.debug.Log("sent info to top page"),!1}return!0},o.setIframeHeight=function(e){o.$el.height(e).css("height",e),o.$el.data("iframeheight")!=e&&o.$container.height(e).css("height",e),!o.options.visibilitybeforeload||o.debug.GetBrowserInfo.msie&&"7.0"==o.debug.GetBrowserInfo.version||o.$el.css("visibility","visible"),o.debug.Log("Now iframe height is "+e+"px"),o.$el.data("iframeheight",e)},e.iframeHeight.resizeIframe=function(){if(s())o.debug.Log("options height : "+o.options.defaultHeight),!o.options.visibilitybeforeload||o.debug.GetBrowserInfo.msie&&"7.0"==o.debug.GetBrowserInfo.version||o.$el.css("visibility","visible"),o.checkMessageEvent();else if(o.$el.css("height")===o.options.minimumHeight+"px",null!==o.$el.get(0).contentWindow.document.body){o.debug.Log("This page has body info");var t=e(o.$el.get(0).contentWindow.document).height(),i=o.$el.get(0).contentWindow.document.location.pathname.substring(o.$el.get(0).contentWindow.document.location.pathname.lastIndexOf("/")+1).toLowerCase();o.debug.Log("page height : "+t+"px || page name : "+i),t<=o.options.minimumHeight&&-1==o.options.exceptPages.indexOf(i)?r():t>o.options.minimumHeight&&-1==o.options.exceptPages.indexOf(i)&&o.setIframeHeight(t+o.options.heightOffset)}else o.debug.Log("This page has not body info"),r()},this.$el.bind("updateIframe",function(){e.iframeHeight.resizeIframe(),o.debug.Log("Updated Iframe Manually")}),this.$el.bind("killWatcher",function(){window.clearInterval(o.watcher),o.debug.Log("Killed Watcher")}),o.init=function(){return o.options=e.extend({},e.iframeHeight.defaultOptions,n),1==o.options.watcher&&(o.options.blockCrossDomain=!0),o.debug.Log(o.options),void 0===o.$el.get(0).tagName||"iframe"!==o.$el.get(0).tagName.toLowerCase()?(o.debug.Log("This element is not iframe!"),!1):(e.iframeHeight.resizeIframe(),o.$el.load(function(){e.iframeHeight.resizeIframe()}),o.options.watcher&&(o.watcher=setInterval(function(){o.debug.Log("Checked Iframe")},o.options.watcherTime)),!0)},o.init()},e.iframeHeight.defaultOptions=i,e.fn.iframeHeight=function(t){return this.each(function(){new e.iframeHeight(this,t)})},e.iframeHeightExternal=function(){function t(t){var n;if("domain"in t&&(n=t.domain),"origin"in t&&(base.debug.Log(t.origin),n=t.origin),"*"!==i.domainName&&n!==i.domainName)return void e.iframeHeight.debug.Log("It's not same domain. Blocked!");if(t.data==i.onMessageFunctionName){var o="ifh"+e(document).height();t.source.postMessage(o,t.origin)}}return 1===arguments.length&&e.isPlainObject(arguments[0])&&(i=arguments[0]),window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent&&window.attachEvent("onmessage",t),{update:function(){this.reset(),window.__domainname=i.domainName,setTimeout(function(){var t="ifh"+e(document).height();parent.postMessage(t,window.__domainname)},90)},reset:function(){parent.postMessage("reset",i.domainName)}}}}(jQuery),Loader.prototype.easeInOutSine=function(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t},Loader.prototype.iterate=function(){this.endIterator===this.totalIterations&&this.startIterator===this.totalIterations?(this.startIterator=0,this.endIterator=0):0===this.endIterator&&0===this.startIterator?this.waitIterator===this.waitFrames?(this.waitIterator=0,this.endIterator++,this.state.loaded&&(this.finalIteration=!0)):this.waitIterator++:(this.endIterator!==this.totalIterations&&this.endIterator++,this.endIterator>this.tailLength&&!this.finalIteration&&this.startIterator++),(this.currentStart===this.start&&this.currentEnd>=this.callbackCheck&&this.finalIteration||this.interacted)&&this[this.callback]&&(this[this.callback](),this.state.complete=!0)},Loader.prototype.loaded=function(){this.state.loaded||(this.state.loaded=!0)},Loader.prototype.drawLoaderElement=function(){this.ctx.lineCap="round",this.ctx.lineWidth=5,this.ctx.strokeStyle=this.color,this.ctx.lineWidth=5,this.alpha<0&&(this.alpha=0),this.ctx.save(),this.hidden&&(this.alpha=0),this.alpha>1&&(this.alpha=1),this.ctx.globalAlpha=this.alpha,this.ctx.translate(this.x,this.y),this.ctx.beginPath(),this.currentStart=this.easeInOutSine(this.startIterator,this.start,this.end-this.start,this.totalIterations),this.currentEnd=this.easeInOutSine(this.endIterator,this.start,this.end-this.start,this.totalIterations),this.ctx.arc(0,0,this.radius,this.currentStart*Math.PI,this.currentEnd*Math.PI),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()},Loader.prototype.draw=function(){this.iterate(),this.drawLoaderElement(),this.debug()},Loader.prototype.resize=function(){this.x=this.canvas.width/2,this.y=this.canvas.height/2,this.callback&&this[this.callback+"Resize"]()},Loader.prototype.hide=function(){this.hidden=!0},Loader.prototype.show=function(){this.hidden=!1},Loader.prototype.debug=function(){if(this.state.debug)for(var e in this.debugVars)this.ctx.fillText(this.debugVars[e]+": "+this[this.debugVars[e]],10,10*(parseInt(e,10)+1));var t=e;t++;for(var i in this.state)t++,this.ctx.fillText("state."+i+": "+this.state[i],10,10*t)},Loader.prototype.fadeOutSetup=function(){},Loader.prototype.fadeOut=function(){this.alpha>0?this.alpha-=.02:this.state.complete=!0,this.alpha<0&&(this.alpha=0)},Loader.prototype.easeInOutCubic=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},Loader.prototype.animateArrow=function(e){var t=this.arrows[e];t.iterator===t.moveIterations||t.rev?t.iterator!==t.moveIterations||t.rev?t.rev&&0!==t.iterator?(t.iterator--,t.x-=t.moveSpeed):t.rev&&0===t.iterator&&(this.arrows.waitIterator===this.arrows.waitBetween?(this.root.mouse.down||(t.rev=!1,this.arrows.animating.left=!this.arrows.animating.left,this.arrows.animating.right=!this.arrows.animating.right),this.arrows.waitIterator=0):this.arrows.waitIterator++):t.rev=!0:(t.iterator++,t.x+=t.moveSpeed)},Loader.prototype.resetElement=function(){this.x!==this.arrows.loaderStartPosition.x||this.arrows.nudge>0||this.arrows.nudge<0?(this.arrows.areResetting=!0,this.x=this.easeInOutCubic(this.arrows.returnIterator,this.arrows.resetStart,-this.arrows.resetDistance,this.arrows.returnIterations),this.alpha=this.easeInOutCubic(this.arrows.returnIterator,this.arrows.alphaResetStart,1-this.arrows.alphaResetStart,this.arrows.returnIterations),this.arrows.alpha=this.easeInOutCubic(this.arrows.returnIterator,this.arrows.alphaResetStart,1-this.arrows.alphaResetStart,this.arrows.returnIterations),this.arrows.nudge=this.easeInOutCubic(this.arrows.returnIterator,this.arrows.nudgeStart,-this.arrows.nudgeStart,this.arrows.returnIterations),this.arrows.returnIterator++):(this.arrows.areResetting=!1,this.arrows.haveReset=!0,this.arrows.returnIterator=0)},Loader.prototype.fadeArrowsIn=function(){this.arrows.alpha<1?(this.arrows.alpha+=this.arrows.alphaAdd,this.arrows.left.x+=this.arrows.left.diffX/this.arrows.alphaIterations/2,this.arrows.right.x+=this.arrows.right.diffX/this.arrows.alphaIterations/2):this.arrows.inPosition=!0},Loader.prototype.checkArrowAnimations=function(){this.arrows.inPosition&&(this.arrows.animating.left||this.arrows.animating.right?this.arrows.animating.left?this.animateArrow("left"):this.arrows.animating.right&&this.animateArrow("right"):this.arrows.animating.left=!0)},Loader.prototype.checkMouse=function(){if(this.root.mouse.down){this.arrows.haveReset=!1,this.root.totalDragged<15&&this.root.totalDragged>-15?this.arrows.nudge=this.root.totalDragged:this.x+=this.root.lastMoveValue;var e=1-Math.abs(this.root.totalDragged)/100;this.alpha=e,this.arrows.alpha=e,0>e&&this.hide()}else this.arrows.haveReset||(this.arrows.areResetting||(this.arrows.resetDistance=this.x-this.arrows.loaderStartPosition.x,this.arrows.resetStart=this.x,this.arrows.alphaResetStart=this.alpha,this.arrows.nudgeStart=this.arrows.nudge),this.resetElement()),this.hidden&&this.root.cursorAlpha<1&&(this.root.cursorHidden=!1,this.root.cursorAlpha+=.05,this.root.$element.hasClass("noCursor")||this.root.$element.addClass("noCursor"))},Loader.prototype.showArrows=function(){this.arrows.inPosition||this.fadeArrowsIn(),this.checkMouse(),this.checkArrowAnimations(),this.renderArrows()},Loader.prototype.renderArrows=function(){this.hidden?this.arrows.alpha=0:this.arrows.alpha<1&&(this.arrows.alpha+=.02),this.arrows.alpha>1?this.arrows.alpha=1:this.arrows.alpha<0&&(this.arrows.alpha=0),this.hidden||(this.ctx.save(),this.ctx.globalAlpha=this.arrows.alpha,this.ctx.translate(this.x,this.y),this.ctx.drawImage(this.arrows.left.img,this.arrows.left.x+this.arrows.nudge,this.arrows.left.y,this.arrows.left.width,this.arrows.left.height),this.ctx.drawImage(this.arrows.right.img,this.arrows.right.x+this.arrows.nudge,this.arrows.right.y,this.arrows.right.width,this.arrows.right.height),this.ctx.restore())},Loader.prototype.showArrowsResize=function(){this.arrows.loaderStartPosition.x=this.canvas.width/2,this.arrows.loaderStartPosition.y=this.canvas.height/2},Loader.prototype.showArrowsSetup=function(){this.arrows={eventsBound:!1,waitBetween:40,waitIterator:0,alpha:0,arrowMoveIterations:50,alphaIterations:20,alphaAdd:0,left:{diffX:-10,x:-20,y:-8,height:16,width:16,color:"#000",iterator:0,moveSpeed:0,moveIterations:20,img:new Image},right:{diffX:10,x:4,y:-8,height:16,width:16,color:"#000",iterator:0,moveSpeed:0,moveIterations:20,img:new Image},animating:{left:!1,right:!1},startClick:{x:0,y:0},hovered:!1,lastMove:{x:0,y:0},loaderStartPosition:{x:this.x,y:this.y},interacted:!1,returnIterator:0,returnIterations:40,nudge:0,lastX:0,xDifference:0,xTotalDifference:0,inPosition:!1,resetDistance:null,resetStart:null,haveReset:!0,areResetting:!1,alphaResetStart:0},this.root.cursorAlpha=0,this.arrows.left.img.src="/resources/public/images/exterior-360-left.png",this.arrows.right.img.src="/resources/public/images/exterior-360-right.png",this.arrows.alphaAdd=1/this.arrows.alphaIterations,this.arrows.left.moveSpeed=this.arrows.left.diffX/this.arrows.arrowMoveIterations,this.arrows.right.moveSpeed=this.arrows.right.diffX/this.arrows.arrowMoveIterations},eval(function(e,t,i,n,o,s){if(o=function(e){return(t>e?"":o(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;i--;)s[o(i)]=n[i]||o(i);n=[function(e){return s[e]}],o=function(){return"\\w+"},i=1}for(;i--;)n[i]&&(e=e.replace(new RegExp("\\b"+o(i)+"\\b","g"),n[i]));return e}('5 G(b,a){b.N().14(G,o.n.31);4.H=b;4.2B=b.N().2q();4.M=a;4.C=u;4.q=u;4.16=u;4.1i=t;4.L(b.w())}G.6.2C=5(){7 d=4;7 g;7 f;4.q=3x.3r("1Z");4.q.5n=4.2B;9(4.1i){4.29()}4.4L().4D.4x(4.q);4.2W=o.n.v.1M(4.w(),"49",5(){f=g});o.n.v.1G(4.q,"3Z",5(){g=I;f=t});o.n.v.1G(4.q,"2L",5(e){g=t;9(!f){7 c;7 b;7 a=d.H.N();o.n.v.12(a,"2L",d.H);o.n.v.12(a,"3T",d.H);9(a.2z()){b=a.1s();c=d.H.1B();a.w().1O(c);1P(5(){a.w().1O(c);9(b!==u&&(a.w().15()>b)){a.w().3C(b+1)}},3w)}e.3t=I;9(e.2g){e.2g()}}});o.n.v.1G(4.q,"2f",5(){7 a=d.H.N();o.n.v.12(a,"2f",d.H)});o.n.v.1G(4.q,"2e",5(){7 a=d.H.N();o.n.v.12(a,"2e",d.H)})};G.6.2Q=5(){9(4.q&&4.q.3h){4.1N();o.n.v.2S(4.2W);o.n.v.55(4.q);4.q.3h.4X(4.q);4.q=u}};G.6.38=5(){9(4.1i){7 a=4.26(4.C);4.q.S.1L=a.y+"B";4.q.S.1I=a.x+"B"}};G.6.1N=5(){9(4.q){4.q.S.3a="2V"}4.1i=t};G.6.29=5(){9(4.q){7 e="";7 c=4.3e.4h(" ");7 b=Y(c[0].3f(/^\\s+|\\s+$/g,""),10);7 d=Y(c[1].3f(/^\\s+|\\s+$/g,""),10);7 a=4.26(4.C);4.q.S.3Y=4.2O(a);e="<3X 3W=\'"+4.2K+"\' S=\'1X: 1W; 1L: "+d+"B; 1I: "+b+"B; ";9(!4.H.N().1d){e+="3V: 3U("+(-1*d)+"B, "+((-1*b)+4.1h)+"B, "+((-1*d)+4.1m)+"B, "+(-1*b)+"B);"}e+="\'>";4.q.3S=e+"<1Z S=\'"+"1X: 1W;"+"1L: "+4.1V[0]+"B;"+"1I: "+4.1V[1]+"B;"+"3P: "+4.2F+";"+"1y-1o: "+4.2v+"B;"+"1y-3J: "+4.2s+";"+"1y-3H: "+4.2p+";"+"1y-S: "+4.2n+";"+"1x-3D: "+4.2l+";"+"1x-3A: 1c;"+"1C: "+4.1h+"B;"+"3v-1A:"+4.1m+"B;"+"\'>"+4.16.1x+"</1Z>";9(2i 4.16.13==="1a"||4.16.13===""){4.q.13=4.H.N().2U()}K{4.q.13=4.16.13}4.q.S.3a=""}4.1i=I};G.6.2M=5(a){4.16=a;7 b=z.3l(0,a.2R-1);b=z.21(4.M.p-1,b);7 c=4.M[b];4.2K=c.3g;4.1m=c.1A;4.1h=c.1C;4.1V=c.5i||[0,0];4.2d=c.5c||[Y(4.1m/2,10),Y(4.1h/2,10)];4.2F=c.54||"4Z";4.2v=c.4W||11;4.2l=c.4Q||"2V";4.2p=c.4N||"4K";4.2n=c.4H||"4F";4.2s=c.4E||"4C,4B-4z";4.3e=c.4y||"0 0"};G.6.30=5(a){4.C=a};G.6.2O=5(b){7 a=[];a.Z("4v: 4t;");a.Z("1X: 1W; 1L: "+b.y+"B; 1I: "+b.x+"B;");a.Z("1C: "+4.1h+"B; 1A: "+4.1m+"B;");j a.4s("")};G.6.26=5(b){7 a=4.39().28(b);a.x-=4.2d[1];a.y-=4.2d[0];a.x=Y(a.x,10);a.y=Y(a.y,10);j a};5 D(a){4.V=a;4.T=a.w();4.U=a.2T();4.X=a.3d();4.19=a.3c();4.k=[];4.C=u;4.2c=u;4.W=F G(4,a.20())}D.6.41=5(){j 4.k.p};D.6.1D=5(){j 4.k};D.6.2P=5(){j 4.C};D.6.w=5(){j 4.T};D.6.N=5(){j 4.V};D.6.1B=5(){7 i;7 b=F o.n.1l(4.C,4.C);7 a=4.1D();A(i=0;i<a.p;i++){b.14(a[i].P())}j b};D.6.1F=5(){4.W.L(u);4.k=[];1Y 4.k};D.6.1E=5(e){7 i;7 c;7 b;9(4.2X(e)){j t}9(!4.C){4.C=e.P();4.24()}K{9(4.19){7 l=4.k.p+1;7 a=(4.C.Q()*(l-1)+e.P().Q())/l;7 d=(4.C.17()*(l-1)+e.P().17())/l;4.C=F o.n.1p(a,d);4.24()}}e.1j=I;4.k.Z(e);c=4.k.p;b=4.V.1s();9(b!==u&&4.T.15()>b){9(e.w()!==4.T){e.L(4.T)}}K 9(c<4.X){9(e.w()!==4.T){e.L(4.T)}}K 9(c===4.X){A(i=0;i<c;i++){4.k[i].L(u)}}K{e.L(u)}4.2J();j I};D.6.2I=5(a){j 4.2c.2H(a.P())};D.6.24=5(){7 a=F o.n.1l(4.C,4.C);4.2c=4.V.2a(a)};D.6.2J=5(){7 c=4.k.p;7 a=4.V.1s();9(a!==u&&4.T.15()>a){4.W.1N();j}9(c<4.X){4.W.1N();j}7 b=4.V.20().p;7 d=4.V.2G()(4.k,b);4.W.30(4.C);4.W.2M(d);4.W.29()};D.6.2X=5(a){7 i;9(4.k.1g){j 4.k.1g(a)!==-1}K{A(i=0;i<4.k.p;i++){9(a===4.k[i]){j I}}}j t};5 8(a,c,b){4.14(8,o.n.31);c=c||[];b=b||{};4.k=[];4.E=[];4.1r=[];4.1f=u;4.1b=t;4.U=b.3R||3Q;4.X=b.3N||2;4.1U=b.2y||u;4.M=b.3K||[];4.1T=b.13||"";4.1v=I;9(b.2x!==1a){4.1v=b.2x}4.19=t;9(b.2w!==1a){4.19=b.2w}4.18=t;9(b.2u!==1a){4.18=b.2u}4.1d=t;9(b.2t!==1a){4.1d=b.2t}4.1t=b.3I||8.2r;4.1u=b.3G||8.2o;4.1e=b.3F||8.2j;4.1S=b.3E||8.2m;4.1Q=b.3B||8.2E;4.1z=b.3z||8.2k;4.1R=b.3y||"O";9(3L.3M.3u().1g("3O")!==-1){4.1Q=4.1z}4.2D();4.2A(c,I);4.L(a)}8.6.2C=5(){7 a=4;4.1f=4.w();4.1b=I;4.1q();4.1r=[o.n.v.1M(4.w(),"3s",5(){a.1w(t);9(4.15()===(4.2h("3q")||0)||4.15()===4.2h("2y")){o.n.v.12(4,"2N")}}),o.n.v.1M(4.w(),"2N",5(){a.1k()})]};8.6.2Q=5(){7 i;A(i=0;i<4.k.p;i++){9(4.k[i].w()!==4.1f){4.k[i].L(4.1f)}}A(i=0;i<4.E.p;i++){4.E[i].1F()}4.E=[];A(i=0;i<4.1r.p;i++){o.n.v.2S(4.1r[i])}4.1r=[];4.1f=u;4.1b=t};8.6.38=5(){};8.6.2D=5(){7 i,1o;9(4.M.p>0){j}A(i=0;i<4.1e.p;i++){1o=4.1e[i];4.M.Z({3g:4.1t+(i+1)+"."+4.1u,1A:1o,1C:1o})}};8.6.3p=5(){7 i;7 a=4.1D();7 b=F o.n.1l();A(i=0;i<a.p;i++){b.14(a[i].P())}4.w().1O(b)};8.6.2T=5(){j 4.U};8.6.3o=5(a){4.U=a};8.6.3d=5(){j 4.X};8.6.40=5(a){4.X=a};8.6.1s=5(){j 4.1U};8.6.3n=5(a){4.1U=a};8.6.20=5(){j 4.M};8.6.3m=5(a){4.M=a};8.6.2U=5(){j 4.1T};8.6.43=5(a){4.1T=a};8.6.2z=5(){j 4.1v};8.6.44=5(a){4.1v=a};8.6.3c=5(){j 4.19};8.6.3k=5(a){4.19=a};8.6.3j=5(){j 4.18};8.6.3i=5(a){4.18=a};8.6.47=5(){j 4.1d};8.6.5m=5(a){4.1d=a};8.6.5l=5(){j 4.1u};8.6.5k=5(a){4.1u=a};8.6.5j=5(){j 4.1t};8.6.5h=5(a){4.1t=a};8.6.5f=5(){j 4.1e};8.6.5e=5(a){4.1e=a};8.6.2G=5(){j 4.1S};8.6.5d=5(a){4.1S=a};8.6.5b=5(){j 4.1z};8.6.5a=5(a){4.1z=a};8.6.2q=5(){j 4.1R};8.6.59=5(a){4.1R=a};8.6.1D=5(){j 4.k};8.6.57=5(){j 4.k.p};8.6.51=5(){j 4.E};8.6.50=5(){j 4.E.p};8.6.1E=5(b,a){4.2b(b);9(!a){4.1k()}};8.6.2A=5(b,a){7 c;A(c 3b b){9(b.4V(c)){4.2b(b[c])}}9(!a){4.1k()}};8.6.2b=5(b){9(b.4U()){7 a=4;o.n.v.1M(b,"4T",5(){9(a.1b){4.1j=t;a.1q()}})}b.1j=t;4.k.Z(b)};8.6.4S=5(c,a){7 b=4.27(c);9(!a&&b){4.1q()}j b};8.6.4O=5(a,c){7 i,r;7 b=t;A(i=0;i<a.p;i++){r=4.27(a[i]);b=b||r}9(!c&&b){4.1q()}j b};8.6.27=5(b){7 i;7 a=-1;9(4.k.1g){a=4.k.1g(b)}K{A(i=0;i<4.k.p;i++){9(b===4.k[i]){a=i;4M}}}9(a===-1){j t}b.L(u);4.k.4J(a,1);j I};8.6.4I=5(){4.1w(I);4.k=[]};8.6.1q=5(){7 a=4.E.4G();4.E=[];4.1w(t);4.1k();1P(5(){7 i;A(i=0;i<a.p;i++){a[i].1F()}},0)};8.6.2a=5(d){7 f=4.39();7 c=F o.n.1p(d.25().Q(),d.25().17());7 a=F o.n.1p(d.22().Q(),d.22().17());7 e=f.28(c);e.x+=4.U;e.y-=4.U;7 g=f.28(a);g.x-=4.U;g.y+=4.U;7 b=f.33(e);7 h=f.33(g);d.14(b);d.14(h);j d};8.6.1k=5(){4.23(0)};8.6.1w=5(a){7 i,J;A(i=0;i<4.E.p;i++){4.E[i].1F()}4.E=[];A(i=0;i<4.k.p;i++){J=4.k[i];J.1j=t;9(a){J.L(u)}}};8.6.32=5(b,e){7 R=4A;7 g=(e.Q()-b.Q())*z.1K/1H;7 f=(e.17()-b.17())*z.1K/1H;7 a=z.1J(g/2)*z.1J(g/2)+z.34(b.Q()*z.1K/1H)*z.34(e.Q()*z.1K/1H)*z.1J(f/2)*z.1J(f/2);7 c=2*z.4w(z.36(a),z.36(1-a));7 d=R*c;j d};8.6.2Z=5(b,a){j a.2H(b.P())};8.6.35=5(c){7 i,d,O,1c;7 a=4u;7 b=u;A(i=0;i<4.E.p;i++){O=4.E[i];1c=O.2P();9(1c){d=4.32(1c,c.P());9(d<a){a=d;b=O}}}9(b&&b.2I(c)){b.1E(c)}K{O=F D(4);O.1E(c);4.E.Z(O)}};8.6.23=5(e){7 i,J;7 d;7 c=4;9(!4.1b){j}9(e===0){o.n.v.12(4,"4P",4);9(2i 4.1n!=="1a"){4R(4.1n);1Y 4.1n}}9(4.w().15()>3){d=F o.n.1l(4.w().1B().22(),4.w().1B().25())}K{d=F o.n.1l(F o.n.1p(2Y.4r,-37.4q),F o.n.1p(-2Y.4p,37.4o))}7 a=4.2a(d);7 b=z.21(e+4.1Q,4.k.p);A(i=e;i<b;i++){J=4.k[i];9(!J.1j&&4.2Z(J,a)){9(!4.18||(4.18&&J.4Y())){4.35(J)}}}9(b<4.k.p){4.1n=1P(5(){c.23(b)},0)}K{1Y 4.1n;o.n.v.12(4,"4n",4)}};8.6.14=5(d,c){j(5(b){7 a;A(a 3b b.6){4.6[a]=b.6[a]}j 4}).4m(d,[c])};8.2m=5(a,c){7 f=0;7 b="";7 d=a.p.4l();7 e=d;52(e!==0){e=Y(e/10,10);f++}f=z.21(f,c);j{1x:d,2R:f,13:b}};8.2E=4k;8.2k=4j;8.2r="4i://o-n-58-4g-4f.4e.4d/4c/4b/4a/5g/m";8.2o="48";8.2j=[53,56,46,45,42];',62,334,"||||this|function|prototype|var|MarkerClusterer|if||||||||||return|markers_|||maps|google|length|div_|||false|null|event|getMap|||Math|for|px|center_|Cluster|clusters_|new|ClusterIcon|cluster_|true|marker|else|setMap|styles_|getMarkerClusterer|cluster|getPosition|lat||style|map_|gridSize_|markerClusterer_|clusterIcon_|minClusterSize_|parseInt|push|||trigger|title|extend|getZoom|sums_|lng|ignoreHidden_|averageCenter_|undefined|ready_|center|enableRetinaIcons_|imageSizes_|activeMap_|indexOf|width_|visible_|isAdded|redraw_|LatLngBounds|height_|timerRefStatic|size|LatLng|repaint|listeners_|getMaxZoom|imagePath_|imageExtension_|zoomOnClick_|resetViewport_|text|font|batchSizeIE_|height|getBounds|width|getMarkers|addMarker|remove|addDomListener|180|left|sin|PI|top|addListener|hide|fitBounds|setTimeout|batchSize_|clusterClass_|calculator_|title_|maxZoom_|anchorText_|absolute|position|delete|div|getStyles|min|getSouthWest|createClusters_|calculateBounds_|getNorthEast|getPosFromLatLng_|removeMarker_|fromLatLngToDivPixel|show|getExtendedBounds|pushMarkerTo_|bounds_|anchorIcon_|mouseout|mouseover|stopPropagation|get|typeof|IMAGE_SIZES|BATCH_SIZE_IE|textDecoration_|CALCULATOR|fontStyle_|IMAGE_EXTENSION|fontWeight_|getClusterClass|IMAGE_PATH|fontFamily_|enableRetinaIcons|ignoreHidden|textSize_|averageCenter|zoomOnClick|maxZoom|getZoomOnClick|addMarkers|className_|onAdd|setupStyles_|BATCH_SIZE|textColor_|getCalculator|contains|isMarkerInClusterBounds|updateIcon_|url_|click|useStyle|idle|createCss|getCenter|onRemove|index|removeListener|getGridSize|getTitle|none|boundsChangedListener_|isMarkerAlreadyAdded_|85|isMarkerInBounds_|setCenter|OverlayView|distanceBetweenPoints_|fromDivPixelToLatLng|cos|addToClosestCluster_|sqrt|178|draw|getProjection|display|in|getAverageCenter|getMinimumClusterSize|backgroundPosition_|replace|url|parentNode|setIgnoreHidden|getIgnoreHidden|setAverageCenter|max|setStyles|setMaxZoom|setGridSize|fitMapToMarkers|minZoom|createElement|zoom_changed|cancelBubble|toLowerCase|line|100|document|clusterClass|batchSizeIE|align|batchSize|setZoom|decoration|calculator|imageSizes|imageExtension|weight|imagePath|family|styles|navigator|userAgent|minimumClusterSize|msie|color|60|gridSize|innerHTML|clusterclick|rect|clip|src|img|cssText|mousedown|setMinimumClusterSize|getSize|90|setTitle|setZoomOnClick|78|66|getEnableRetinaIcons|png|bounds_changed|markerclustererplus|trunk|svn|com|googlecode|v3|library|split|http|500|2000|toString|apply|clusteringend|00048865625|08136444384544|48388434375|02070771743472|join|pointer|40000|cursor|atan2|appendChild|backgroundPosition|serif|6371|sans|Arial|overlayMouseTarget|fontFamily|normal|slice|fontStyle|clearMarkers|splice|bold|getPanes|break|fontWeight|removeMarkers|clusteringbegin|textDecoration|clearTimeout|removeMarker|dragend|getDraggable|hasOwnProperty|textSize|removeChild|getVisible|black|getTotalClusters|getClusters|while||textColor|clearInstanceListeners||getTotalMarkers|utility|setClusterClass|setBatchSizeIE|getBatchSizeIE|anchorIcon|setCalculator|setImageSizes|getImageSizes|images|setImagePath|anchorText|getImagePath|setImageExtension|getImageExtension|setEnableRetinaIcons|className".split("|"),0,{}));var coverVid=function(e,t,i){function n(e,t){var i=null;return function(){var n=this,o=arguments;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(n,o)},t)}}function o(){var n=e.parentNode.offsetHeight,o=e.parentNode.offsetWidth,s=t,r=i,a=n/r,l=o/s;l>a?(e.style.height="auto",e.style.width=o+"px"):(e.style.height=n+"px",e.style.width="auto")}document.addEventListener("DOMContentLoaded",o),window.onresize=function(){n(o(),50)},e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style["-webkit-transform"]="translate(-50%, -50%)",e.style["-ms-transform"]="translate(-50%, -50%)",e.style.transform="translate(-50%, -50%)",e.parentNode.style.overflow="hidden"};window.jQuery&&jQuery.fn.extend({coverVid:function(){return coverVid(this[0],arguments[0],arguments[1]),this}}),function(e){function t(e,t){var i,n,o=this;return function(){return n=Array.prototype.slice.call(arguments,0),i=clearTimeout(i,n),i=setTimeout(function(){e.apply(o,n),i=0},t),this}}e.extend(e.fn,{debounce:function(e,i,n){this.bind(e,t.apply(this,[i,n]))}})}(jQuery);var deepLink=function(e,t){var i,n,o=function(){_getElement(),_jumpToElement(),_startUpdating(),_addTimeout(),_addEvents()};_getElement=function(){location.hash&&($element=$(location.hash),$element.length>0&&(i=$element))},_jumpToElement=function(){i&&site.utils.scrollTo(i,0)},_startUpdating=function(){i&&(n=setInterval(_jumpToElement,10))},_stopUpdating=function(){clearInterval(n),_removeEvents()},_addEvents=function(){$(t).on("click tap mousewheel",_stopUpdating)},_removeEvents=function(){$(t).off("click tap mousewheel",_stopUpdating)},_addTimeout=function(){setTimeout(_stopUpdating,1e3)};var s={init:o};return s}(jQuery,window,document);!function(e,t){"function"==typeof define&&define.amd?define(t):e.Dragdealer=t()}(this,function(){function e(e){var t="Webkit Moz ms O".split(" "),i=document.documentElement.style;if(void 0!==i[e])return e;e=e.charAt(0).toUpperCase()+e.substr(1);for(var n=0;n<t.length;n++)if(void 0!==i[t[n]+e])return t[n]+e}function t(e){u.backfaceVisibility&&u.perspective&&(e.style[u.perspective]="1000px",e.style[u.backfaceVisibility]="hidden")}var i=function(e,t){this.options=this.applyDefaults(t||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(e),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};i.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0,tapPauseTimeout:1200,slideOnTap:!1},init:function(){this.options.css3&&t(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.activePauseTimout=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(e){for(var t in this.defaults)e.hasOwnProperty(t)||(e[t]=this.defaults[t]);return e},getWrapperElement:function(e){return"string"==typeof e?document.getElementById(e):e},getHandleElement:function(e,t){var i,n,o;if(e.getElementsByClassName){if(i=e.getElementsByClassName(t),i.length>0)return i[0]}else for(n=new RegExp("(^|\\s)"+t+"(\\s|$)"),i=e.getElementsByTagName("*"),o=0;o<i.length;o++)if(n.test(i[o].className))return i[o]},calculateStepRatios:function(){var e=[];if(this.options.steps>=1)for(var t=0;t<=this.options.steps-1;t++)this.options.steps>1?e[t]=t/(this.options.steps-1):e[t]=0;return e},setWrapperOffset:function(){this.offset.wrapper=c.get(this.wrapper)},calculateBounds:function(){var e={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return e.availWidth=e.right-e.left-this.handle.offsetWidth,e.availHeight=e.bottom-e.top-this.handle.offsetHeight,e},calculateValuePrecision:function(){var e=this.options.xPrecision||Math.abs(this.bounds.availWidth),t=this.options.yPrecision||Math.abs(this.bounds.availHeight);
return[e?1/e:0,t?1/t:0]},bindMethods:function(){"function"==typeof this.options.customRequestAnimationFrame?this.requestAnimationFrame=n(this.options.customRequestAnimationFrame,window):this.requestAnimationFrame=n(h,window),"function"==typeof this.options.customCancelAnimationFrame?this.cancelAnimationFrame=n(this.options.customCancelAnimationFrame,window):this.cancelAnimationFrame=n(p,window),this.animateWithRequestAnimationFrame=n(this.animateWithRequestAnimationFrame,this),this.animate=n(this.animate,this),this.onHandleMouseDown=n(this.onHandleMouseDown,this),this.onHandleTouchStart=n(this.onHandleTouchStart,this),this.onDocumentMouseMove=n(this.onDocumentMouseMove,this),this.onWrapperTouchMove=n(this.onWrapperTouchMove,this),this.onWrapperMouseDown=n(this.onWrapperMouseDown,this),this.onWrapperTouchStart=n(this.onWrapperTouchStart,this),this.onDocumentMouseUp=n(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=n(this.onDocumentTouchEnd,this),this.onHandleClick=n(this.onHandleClick,this),this.onWindowResize=n(this.onWindowResize,this)},bindEventListeners:function(){o(this.handle,"mousedown",this.onHandleMouseDown),o(this.handle,"touchstart",this.onHandleTouchStart),o(document,"mousemove",this.onDocumentMouseMove),o(this.wrapper,"touchmove",this.onWrapperTouchMove),o(this.wrapper,"mousedown",this.onWrapperMouseDown),o(this.wrapper,"touchstart",this.onWrapperTouchStart),o(document,"mouseup",this.onDocumentMouseUp),o(document,"touchend",this.onDocumentTouchEnd),o(this.handle,"click",this.onHandleClick),o(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){s(this.handle,"mousedown",this.onHandleMouseDown),s(this.handle,"touchstart",this.onHandleTouchStart),s(document,"mousemove",this.onDocumentMouseMove),s(this.wrapper,"touchmove",this.onWrapperTouchMove),s(this.wrapper,"mousedown",this.onWrapperMouseDown),s(this.wrapper,"touchstart",this.onWrapperTouchStart),s(document,"mouseup",this.onDocumentMouseUp),s(document,"touchend",this.onDocumentTouchEnd),s(this.handle,"click",this.onHandleClick),s(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(e){l.refresh(e),r(e),a(e),this.activity=!1,this.startDrag()},onHandleTouchStart:function(e){l.refresh(e),a(e),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(e){l.refresh(e),this.dragging&&(this.activity=!0,r(e))},onWrapperTouchMove:function(e){return l.refresh(e),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(r(e),void(this.activity=!0))},onWrapperMouseDown:function(e){l.refresh(e),r(e),this.startTap()},onWrapperTouchStart:function(e){l.refresh(e),r(e),this.startTap()},onDocumentMouseUp:function(){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(){this.stopDrag(),this.stopTap()},onHandleClick:function(e){this.activity&&(r(e),a(e))},onWindowResize:function(){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(e,t,i){this.setValue(this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,i)},setValue:function(e,t,i){this.setTargetValue([e,t||0]),i&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){if(!this.disabled&&this.options.tapping)if(this.speedCache=this.options.speed,this.options.slideOnTap||(this.options.speed=2),this.tapping=!0,this.setWrapperOffset(),this.options.slideOnTap){var e=[l.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,l.y-this.offset.wrapper[1]-this.handle.offsetHeight/2],t=this.getRatiosByOffsets(e),i=this.getClosestSteps(t),n=this.getOffsetsByRatios(i);this.setTargetValueByOffset(n)}else this.setTargetValueByOffset([l.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,l.y-this.offset.wrapper[1]-this.handle.offsetHeight/2])},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.pauseFlag=!0,this.animate(),this.setTargetValue(this.value.current),this.options.speed=this.speedCache)},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.offset.mouse=[l.x-c.get(this.handle)[0],l.y-c.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var e=this.groupClone(this.value.current);if(this.pauseFlag=!0,this.options.slide){var t=this.change;e[0]+=4*t[0],e[1]+=4*t[1],0!==t[0]&&(this.pauseFlag=!1)}this.setTargetValue(e),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,""),this.callDragStopCallback()}},callAnimationCallback:function(){var e=this.value.current;this.options.snap&&this.options.steps>1&&(e=this.getClosestSteps(e)),this.groupCompare(e,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,e[0],e[1]),this.groupCopy(this.value.prev,e))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(){"function"==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1])},animateWithRequestAnimationFrame:function(e){e?(this.timeOffset=this.timeStamp?e-this.timeStamp:0,this.timeStamp=e):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(e,t){if(!e||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),n=[l.x-this.offset.wrapper[0]-this.offset.mouse[0],l.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(n,this.options.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||t)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||t)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var e=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return e[0]||e[1]?(Math.abs(e[0])>this.valuePrecision[0]||Math.abs(e[1])>this.valuePrecision[1]?(this.value.current[0]+=e[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=e[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.options.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var e="";return this.options.css3&&u.transform?(this.options.horizontal&&(e+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(e+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[u.transform]=e)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(e,t){var i=t?this.getLooseValue(e):this.getProperValue(e),n=this;clearTimeout(n.activePauseTimout);var o=this.pauseFlag===!0?this.options.tapPauseTimeout:0;this.options.slideOnTap?this.activePauseTimout=setTimeout(function(){n.setTargetValueByOffset(n.getOffsetsByRatios(n.value.current),!1)},o):this.activePauseTimout=setTimeout(function(){n.groupCopy(n.value.target,i),n.offset.target=n.getOffsetsByRatios(i)},o),this.callTargetCallback()},setTargetValueByOffset:function(e,t){var i=this.getRatiosByOffsets(e),n=t?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n)},getLooseValue:function(e){var t=this.getProperValue(e);return[t[0]+(e[0]-t[0])/4,t[1]+(e[1]-t[1])/4]},getProperValue:function(e){var t=this.groupClone(e);return t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0),t[0]=Math.min(t[0],1),t[1]=Math.min(t[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(t=this.getClosestSteps(t)),t},getRatiosByOffsets:function(e){return[this.getRatioByOffset(e[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(e[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(e,t,i){return t?(e-i)/t:0},getOffsetsByRatios:function(e){return[this.getOffsetByRatio(e[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(e[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(e,t,i){return Math.round(e*t)+i},getStepNumber:function(e){return this.getClosestStep(e)*(this.options.steps-1)+1},getClosestSteps:function(e){return[this.getClosestStep(e[0]),this.getClosestStep(e[1])]},getClosestStep:function(e){for(var t=0,i=1,n=0;n<=this.options.steps-1;n++)Math.abs(this.stepRatios[n]-e)<i&&(i=Math.abs(this.stepRatios[n]-e),t=n);return this.stepRatios[t]},groupCompare:function(e,t){return e[0]==t[0]&&e[1]==t[1]},groupCopy:function(e,t){e[0]=t[0],e[1]=t[1]},groupClone:function(e){return[e[0],e[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&l.xDiff>l.yDiff||!this.options.vertical&&l.yDiff>l.xDiff}};for(var n=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},s=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},r=function(e){e||(e=window.event),e.preventDefault&&e.preventDefault(),e.returnValue=!1},a=function(e){e||(e=window.event),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},l={x:0,y:0,xDiff:0,yDiff:0,refresh:function(e){e||(e=window.event),"mousemove"==e.type?this.set(e):e.touches&&this.set(e.touches[0])},set:function(e){var t=this.x,i=this.y;e.clientX||e.clientY?(this.x=e.clientX,this.y=e.clientY):(e.pageX||e.pageY)&&(this.x=e.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=e.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-t),this.yDiff=Math.abs(this.y-i)}},c={get:function(e){var t={left:0,top:0};return void 0!==e.getBoundingClientRect&&(t=e.getBoundingClientRect()),[t.left,t.top]}},u={transform:e("transform"),perspective:e("perspective"),backfaceVisibility:e("backfaceVisibility")},d=["webkit","moz"],h=window.requestAnimationFrame,p=window.cancelAnimationFrame,f=0;f<d.length&&!h;++f)h=window[d[f]+"RequestAnimationFrame"],p=window[d[f]+"CancelAnimationFrame"]||window[d[f]+"CancelRequestAnimationFrame"];return h||(h=function(e){return setTimeout(e,25)},p=clearTimeout),i}),function(e,t,i){function n(t,i){this.$element=e(t),this.options=e.extend({},s,i),this._defaults=s,this._name=o,this.options.buttonWithinMenu===!0?this._$button=e(this.options.button,this.$element):this._$button=e(this.options.button),this._menuitem=null,this.init(this)}var o="Dropdown",s={timeout:500,button:null,buttonWithinMenu:!1,closeOnTapOutside:!0,closeOnTapOutsideExclude:null,openByDefault:!1,onClose:function(){},onOpen:function(){}};"ontouchstart"in t||t.DocumentTouch&&i instanceof DocumentTouch,n.prototype={init:function(){var e=this;e.options.openByDefault===!0&&(e._menuitem=e.$element),e._$button.on("click tap",function(t){t.preventDefault(),e._toggle(e),t.stopPropagation()}),e.$element.on("open",function(){e._openMenu(e)}),e.$element.on("close",{that:e},function(t,i){e._closeMenu(e,i)})},_openMenu:function(t){t.$element.hasClass("animating")||(t._menuitem=t.$element,t.options.onOpen(),t.options.closeOnTapOutside===!0&&e("body").children().on("click tap touchstart",{that:t},function(i){0!==e(i.target).not(t.options.closeOnTapOutsideExclude).length&&setTimeout(function(){t._closeMenu(i)},100)}))},_closeMenu:function(t,i){if("undefined"!=typeof t){var n=null;if(n="undefined"!=typeof t.data?t.data.that:t,"undefined"!=typeof n.$element&&!n.$element.hasClass("animating")&&null!==n._menuitem){if("undefined"!=typeof t.target){var o=!1;return jQuery.each(n._$button,function(i,n){e(t.target)[0]==n&&(o=!0)}),o===!0?void t.stopPropagation():e(t.target).closest(n.$element).length>0?void t.stopPropagation():(t.stopPropagation(),e("body").children().off("click tap touchstart",n._closeMenu),n._menuitem=null,void n.options.onClose(i))}e("body").children().off("click tap touchstart",n._closeMenu),n._menuitem=null,n.options.onClose(i)}}},_toggle:function(e){null!==e._menuitem?e._closeMenu(e):e._openMenu(e)}},e.fn[o]=function(t){return this.each(function(){e.data(this,o)||e.data(this,o,new n(this,t))})}}(jQuery,window,document),function(e){function t(){this.isField=!0,this.down=!1,this.inFocus=!1,this.disabled=!1,this.cutOff=!1,this.hasLabel=!1,this.keyboardMode=!1,this.nativeTouch=!0,this.wrapperClass="dropdown",this.onChange=null}t.prototype={constructor:t,instances:{},init:function(t,i){var n=this;e.extend(n,i),n.$select=e(t),n.id=t.id,n.options=[],n.$options=n.$select.find("option"),n.isTouch="ontouchend"in document,n.$select.removeClass(n.wrapperClass+" dropdown"),n.$select.is(":disabled")&&(n.disabled=!0),n.$options.length&&(n.$options.each(function(t){var i=e(this);i.is(":selected")&&(n.selected={index:t,title:i.text()},n.focusIndex=t),i.hasClass("label")&&0==t?(n.hasLabel=!0,n.label=i.text(),i.attr("value","")):n.options.push({domNode:i[0],title:i.text(),value:i.val(),selected:i.is(":selected")})}),n.selected||(n.selected={index:0,title:n.$options.eq(0).text()},n.focusIndex=0),n.render())},render:function(){var t=this,i=t.isTouch&&t.nativeTouch?" touch":"",n=t.disabled?" disabled":"";t.$container=t.$select.wrap('<div class="'+t.wrapperClass+i+n+'"><span class="old"/></div>').parent().parent(),t.$active=e('<span class="selected">'+t.selected.title+"</span>").appendTo(t.$container),t.$iconUp=e('<i class="icon-chevron-up"/>').appendTo(t.$container),t.$iconDown=e('<i class="icon-chevron-down"/>').appendTo(t.$container),t.$scrollWrapper=e("<div><ul/></div>").appendTo(t.$container),t.$dropDown=t.$scrollWrapper.find("ul"),t.$form=t.$container.closest("form"),e.each(t.options,function(){var e=this,i=e.selected?' class="active"':"";t.$dropDown.append("<li"+i+">"+e.title+"</li>")}),t.$items=t.$dropDown.find("li"),t.cutOff&&t.$items.length>t.cutOff&&t.$container.addClass("scrollable"),t.getMaxHeight(),t.isTouch&&t.nativeTouch?t.bindTouchHandlers():t.bindHandlers()},getMaxHeight:function(){var e=this;for(e.maxHeight=0,i=0;i<e.$items.length;i++){var t=e.$items.eq(i);if(e.maxHeight+=t.outerHeight(),e.cutOff==i+1)break}},bindTouchHandlers:function(){var t=this;t.$container.on("click.easyDropDown",function(){t.$select.focus()}),t.$select.on({change:function(){var i=e(this).find("option:selected"),n=i.text(),o=i.val();t.$active.text(n),"function"==typeof t.onChange&&t.onChange.call(t.$select[0],{title:n,value:o})},focus:function(){t.$container.addClass("focus")},blur:function(){t.$container.removeClass("focus")}})},bindHandlers:function(){var t=this;t.query="",t.$container.on({"click.easyDropDown":function(){t.down||t.disabled?t.close():t.open()},"mousemove.easyDropDown":function(){t.keyboardMode&&(t.keyboardMode=!1)}}),e("body").on("click.easyDropDown."+t.id,function(i){var n=e(i.target),o=t.wrapperClass.split(" ").join(".");!n.closest("."+o).length&&t.down&&t.close()}),t.$items.on({"click.easyDropDown":function(){var i=e(this).index();t.select(i),t.$select.focus()},"mouseover.easyDropDown":function(){if(!t.keyboardMode){var i=e(this);i.addClass("focus").siblings().removeClass("focus"),t.focusIndex=i.index()}},"mouseout.easyDropDown":function(){t.keyboardMode||e(this).removeClass("focus")}}),t.$select.on({"focus.easyDropDown":function(){t.$container.addClass("focus"),t.inFocus=!0},"blur.easyDropDown":function(){t.$container.removeClass("focus"),t.inFocus=!1},"keydown.easyDropDown":function(e){if(t.inFocus){t.keyboardMode=!0;var i=e.keyCode;if((38==i||40==i||32==i)&&(e.preventDefault(),38==i?(t.focusIndex--,t.focusIndex=t.focusIndex<0?t.$items.length-1:t.focusIndex):40==i&&(t.focusIndex++,t.focusIndex=t.focusIndex>t.$items.length-1?0:t.focusIndex),t.down||t.open(),t.$items.removeClass("focus").eq(t.focusIndex).addClass("focus"),t.cutOff&&t.scrollToView(),t.query=""),t.down)if(9==i||27==i)t.close();else{if(13==i)return e.preventDefault(),t.select(t.focusIndex),t.close(),!1;if(8==i)return e.preventDefault(),t.query=t.query.slice(0,-1),t.search(),clearTimeout(t.resetQuery),!1;if(38!=i&&40!=i){var n=String.fromCharCode(i);t.query+=n,t.search(),clearTimeout(t.resetQuery)}}}},"keyup.easyDropDown":function(){t.resetQuery=setTimeout(function(){t.query=""},1200)}}),t.$dropDown.on("scroll.easyDropDown",function(){t.$dropDown[0].scrollTop>=t.$dropDown[0].scrollHeight-t.maxHeight?t.$container.addClass("bottom"):t.$container.removeClass("bottom")}),t.$form.length&&t.$form.on("reset.easyDropDown",function(){var e=t.hasLabel?t.label:t.options[0].title;t.$active.text(e)})},unbindHandlers:function(){var t=this;t.$container.add(t.$select).add(t.$items).add(t.$form).add(t.$dropDown).off(".easyDropDown"),e("body").off("."+t.id)},open:function(){var e=this;window.scrollY||document.documentElement.scrollTop,window.scrollX||document.documentElement.scrollLeft,e.closeAll(),e.getMaxHeight(),e.$select.focus(),e.$container.addClass("open"),e.$scrollWrapper.css("height",e.maxHeight+"px"),e.down=!0},close:function(){var e=this;e.$iconUp.css("display","none"),e.$iconDown.css("display","block"),e.$container.removeClass("open"),e.$scrollWrapper.css("height","0px"),e.focusIndex=e.selected.index,e.query="",e.down=!1},closeAll:function(){var e=this,t=Object.getPrototypeOf(e).instances;for(var i in t){var n=t[i];n.close()}},select:function(e){var t=this;"string"==typeof e&&(e=t.$select.find("option[value="+e+"]").index()-1);var n=t.options[e],o=t.hasLabel?e+1:e;t.$items.removeClass("active").eq(e).addClass("active"),t.$active.text(n.title),t.$select.find("option").removeAttr("selected").eq(o).prop("selected",!0).parent().trigger("change"),t.selected={index:e,title:n.title},t.focusIndex=i,"function"==typeof t.onChange&&t.onChange.call(t.$select[0],{title:n.title,value:n.value})},search:function(){var e=this,t=function(t){e.focusIndex=t,e.$items.removeClass("focus").eq(e.focusIndex).addClass("focus"),e.scrollToView()},n=function(t){return e.options[t].title.toUpperCase()};for(i=0;i<e.options.length;i++){var o=n(i);if(0==o.indexOf(e.query))return void t(i)}for(i=0;i<e.options.length;i++){var o=n(i);if(o.indexOf(e.query)>-1){t(i);break}}},scrollToView:function(){var e=this;if(e.focusIndex>=e.cutOff){var t=e.$items.eq(e.focusIndex),i=t.outerHeight()*(e.focusIndex+1)-e.maxHeight;e.$dropDown.scrollTop(i)}},notInViewport:function(e){var t=this,i={min:e,max:e+(window.innerHeight||document.documentElement.clientHeight)},n=t.$dropDown.offset().top+t.maxHeight;return n>=i.min&&n<=i.max?0:n-i.max+5},destroy:function(){var e=this;e.unbindHandlers(),e.$select.unwrap().siblings().remove(),e.$select.unwrap(),delete Object.getPrototypeOf(e).instances[e.$select[0].id]},disable:function(){var e=this;e.disabled=!0,e.$container.addClass("disabled"),e.$select.attr("disabled",!0),e.down||e.close()},enable:function(){var e=this;e.disabled=!1,e.$container.removeClass("disabled"),e.$select.attr("disabled",!1)}};var n=function(e,i){e.id=e.id?e.id:"EasyDropDown"+o();var n=new t;n.instances[e.id]||(n.instances[e.id]=n,n.init(e,i))},o=function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()};e.fn.easyDropDown=function(){var e,i=arguments,o=[];return e=this.each(function(){if(i&&"string"==typeof i[0]){var e=t.prototype.instances[this.id][i[0]](i[1],i[2]);e&&o.push(e)}else n(this,i[0])}),o.length?o.length>1?o:o[0]:e},e(function(){"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype}),e("select.dropdown").each(function(){var t=e(this).attr("data-settings");settings=t?e.parseJSON(t):{},n(this,settings)})})}(jQuery),function(e,t,i){var n=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=i(n):"function"==typeof define&&define.amd?define(function(){return t[e]=i(n)}):t[e]=i(n)}("enquire",this,function(e){"use strict";function t(e,t){var i,n=0,o=e.length;for(n;o>n&&(i=t(e[n],n),i!==!1);n++);}function i(e){return"[object Array]"===Object.prototype.toString.apply(e)}function n(e){return"function"==typeof e}function o(e){this.options=e,!e.deferSetup&&this.setup()}function s(t,i){this.query=t,this.isUnconditional=i,this.handlers=[],this.mql=e(t);var n=this;this.listener=function(e){n.mql=e,n.assess()},this.mql.addListener(this.listener)}function r(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return o.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={addHandler:function(e){var t=new o(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var i=this.handlers;t(i,function(t,n){return t.equals(e)?(t.destroy(),!i.splice(n,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},r.prototype={register:function(e,o,r){var a=this.queries,l=r&&this.browserIsIncapable;return a[e]||(a[e]=new s(e,l)),n(o)&&(o={match:o}),i(o)||(o=[o]),t(o,function(t){a[e].addHandler(t)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},new r}),function(e){e.fn.equalHeights=function(){var t=0,i=e(this);return i.each(function(){var i=e(this).innerHeight();i>t&&(t=i)}),i.css("height",t)},e("[data-equal]").each(function(){var t=e(this),i=t.data("equal");t.find(i).equalHeights()})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){function i(e){function t(){n?(i(),I(t),o=!0,n=!1):o=!1}var i=e,n=!1,o=!1;this.kick=function(){n=!0,o||t()},this.end=function(e){var t=i;e&&(o?(i=n?function(){t(),e()}:e,n=!0):e())}}function n(){return!0}function o(){return!1}function s(e){e.preventDefault()}function r(e){L[e.target.tagName.toLowerCase()]||e.preventDefault()}function a(e){return 1===e.which&&!e.ctrlKey&&!e.altKey}function l(e,t){var i,n;if(e.identifiedTouch)return e.identifiedTouch(t);for(i=-1,n=e.length;++i<n;)if(e[i].identifier===t)return e[i]}function c(e,t){var i=l(e.changedTouches,t.identifier);return!i||i.pageX===t.pageX&&i.pageY===t.pageY?void 0:i}function u(e){var t;a(e)&&(t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp},O(document,N.move,d,t),O(document,N.cancel,h,t))}function d(e){var t=e.data;v(e,t,e,p)}function h(){p()}function p(){j(document,N.move,d),j(document,N.cancel,h)}function f(e){var t,i;L[e.target.tagName.toLowerCase()]||(t=e.changedTouches[0],i={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier},O(document,F.move+"."+t.identifier,m,i),O(document,F.cancel+"."+t.identifier,g,i))}function m(e){var t=e.data,i=c(e,t);i&&v(e,t,i,_)}function g(e){var t=e.data,i=l(e.changedTouches,t.identifier);i&&_(t.identifier)}function _(e){j(document,"."+e,m),j(document,"."+e,g)}function v(e,t,i,n){var o=i.pageX-t.startX,s=i.pageY-t.startY;A*A>o*o+s*s||w(e,t,i,o,s,n)}function y(){return this._handled=n,!1}function b(e){e._handled()}function w(e,t,i,n,o,s){var r,a;t.target,r=e.targetTouches,a=e.timeStamp-t.timeStamp,t.type="movestart",t.distX=n,t.distY=o,t.deltaX=n,t.deltaY=o,t.pageX=i.pageX,t.pageY=i.pageY,t.velocityX=n/a,t.velocityY=o/a,t.targetTouches=r,t.finger=r?r.length:1,t._handled=y,t._preventTouchmoveDefault=function(){e.preventDefault()},P(t.target,t),s(t.identifier)}function x(e){var t=e.data.event,i=e.data.timer,n=c(e,t);n&&(e.preventDefault(),t.targetTouches=e.targetTouches,S(t,n,e.timeStamp,i))}function T(e){var t=e.data.event,i=e.data.timer,n=l(e.changedTouches,t.identifier);n&&(C(t),k(t,i))}function C(e){j(document,"."+e.identifier,x),j(document,"."+e.identifier,T)}function S(e,t,i,n){var o=i-e.timeStamp;e.type="move",e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/o,e.velocityY=.3*e.velocityY+.7*e.deltaY/o,e.pageX=t.pageX,e.pageY=t.pageY,n.kick()}function k(e,t,i){t.end(function(){return e.type="moveend",P(e.target,e),i&&i()})}function $(){return O(this,"movestart.move",b),!0}function E(){return j(this,"dragstart drag",s),j(this,"mousedown touchstart",r),j(this,"movestart",b),!0}function D(e){"move"!==e.namespace&&"moveend"!==e.namespace&&O(this,"dragstart."+e.guid+" drag."+e.guid,s,t,e.selector)}function M(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(j(this,"dragstart."+e.guid+" drag."+e.guid),j(this,"mousedown."+e.guid))}var A=6,O=e.event.add,j=e.event.remove,P=function(t,i,n){e.event.trigger(i,n,t)},I=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(function(){e()},25)}}(),L={textarea:!0,input:!0,select:!0,button:!0},N={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},F={move:"touchmove",cancel:"touchend",end:"touchend"};e.event.special.movestart={setup:$,teardown:E,add:D,remove:M,_default:function(e){var n,s;e._handled()&&(n={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},s={event:n,timer:new i(function(){P(e.target,n)})},e.identifier===t?O(e.target,"click",o):(e._preventTouchmoveDefault(),O(document,F.move+"."+e.identifier,x,s),O(document,F.end+"."+e.identifier,T,s)))}},e.event.special.move={setup:function(){O(this,"movestart.move",e.noop)},teardown:function(){j(this,"movestart.move",e.noop)}},e.event.special.moveend={setup:function(){O(this,"movestart.moveend",e.noop)},teardown:function(){j(this,"movestart.moveend",e.noop)}},O(document,"mousedown.move",u),O(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(e){for(var t=["changedTouches","targetTouches"],i=t.length;i--;)-1===e.event.props.indexOf(t[i])&&e.event.props.push(t[i])}(e)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t,i,n;t=e.target.offsetWidth,i=e.target.offsetHeight,n={distX:e.distX,distY:e.distY,velocityX:e.velocityX,velocityY:e.velocityY,finger:e.finger},e.distX>e.distY?e.distX>-e.distY?(e.distX/t>r.threshold||e.velocityX*e.distX/t*r.sensitivity>1)&&(n.type="swiperight",s(e.currentTarget,n)):(-e.distY/i>r.threshold||e.velocityY*e.distY/t*r.sensitivity>1)&&(n.type="swipeup",s(e.currentTarget,n)):e.distX>-e.distY?(e.distY/i>r.threshold||e.velocityY*e.distY/t*r.sensitivity>1)&&(n.type="swipedown",s(e.currentTarget,n)):(-e.distX/t>r.threshold||e.velocityX*e.distX/t*r.sensitivity>1)&&(n.type="swipeleft",s(e.currentTarget,n))}function i(t){var i=e.data(t,"event_swipe");return i||(i={count:0},e.data(t,"event_swipe",i)),i}var n=e.event.add,o=e.event.remove,s=function(t,i,n){e.event.trigger(i,n,t)},r={threshold:.4,sensitivity:6};e.event.special.swipe=e.event.special.swipeleft=e.event.special.swiperight=e.event.special.swipeup=e.event.special.swipedown={setup:function(e){var e=i(this);return e.count++>0?void 0:(n(this,"moveend",t),!0)},teardown:function(){var e=i(this);return--e.count>0?void 0:(o(this,"moveend",t),!0)},settings:r}}),function(){$("label.inlined + input.inlinedInputText").each(function(){setTimeout(function(){$("input.inlinedInputText").val()||$(this).prev().addClass("has-text")},200),$(this).keydown(function(){$(this).prev("label.inlined").addClass("has-text")}),$(this).blur(function(){""===$(this).val()&&$(this).prev("label.inlined").removeClass("has-text")})})}(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeStartFastEndSlow:function(e,t,i,n,o){var s=(t/=o)*t,r=s*t;return i+n*(1.0025*r*s+-5.0025*s*s+10*r+-10*s+5*t)}}),function(e,t,i){"$:nomunge";function n(){o=t[a](function(){s.each(function(){var t=e(this),i=t.width(),n=t.height(),o=e.data(this,c);(i!==o.w||n!==o.h)&&t.trigger(l,[o.w=i,o.h=n])}),n()},r[u])}var o,s=e([]),r=e.resize=e.extend(e.resize,{}),a="setTimeout",l="resize",c=l+"-special-event",u="delay",d="throttleWindow";r[u]=250,r[d]=!0,e.event.special[l]={setup:function(){if(!r[d]&&this[a])return!1;var t=e(this);s=s.add(t),e.data(this,c,{w:t.width(),h:t.height()}),1===s.length&&n()},teardown:function(){if(!r[d]&&this[a])return!1;var t=e(this);s=s.not(t),t.removeData(c),s.length||clearTimeout(o)},add:function(t){function n(t,n,s){var r=e(this),a=e.data(this,c);a.w=n!==i?n:r.width(),a.h=s!==i?s:r.height(),o.apply(this,arguments)}if(!r[d]&&this[a])return!1;var o;return e.isFunction(t)?(o=t,n):(o=t.handler,void(t.handler=n))}}}(jQuery,this),function(e,t){function i(e,t,i){var n=e.children(),o=!1;e.empty();for(var r=0,a=n.length;a>r;r++){var l=n.eq(r);if(e.append(l),i&&e.append(i),s(e,t)){l.remove(),o=!0;break}i&&i.detach()}return o}function n(t,i,r,a,l){var c=!1,u="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",d="script, .dotdotdot-keep";return t.contents().detach().each(function(){var h=this,p=e(h);if("undefined"==typeof h||3==h.nodeType&&0==e.trim(h.data).length)return!0;if(p.is(d))t.append(p);else{if(c)return!0;t.append(p),l&&t[t.is(u)?"after":"append"](l),s(r,a)&&(c=3==h.nodeType?o(p,i,r,a,l):n(p,i,r,a,l),c||(p.detach(),c=!0)),c||l&&l.detach()}}),c}function o(t,i,n,o,a){var u=t[0];if(!u)return!1;var h=c(u),p=-1!==h.indexOf(" ")?" ":"　",f="letter"==o.wrap?"":p,m=h.split(f),g=-1,_=-1,v=0,y=m.length-1;for(o.fallbackToLetter&&0==v&&0==y&&(f="",m=h.split(f),y=m.length-1);y>=v&&(0!=v||0!=y);){var b=Math.floor((v+y)/2);if(b==_)break;_=b,l(u,m.slice(0,_+1).join(f)+o.ellipsis),s(n,o)?(y=_,o.fallbackToLetter&&0==v&&0==y&&(f="",m=m[0].split(f),g=-1,_=-1,v=0,y=m.length-1)):(g=_,v=_)}if(-1==g||1==m.length&&0==m[0].length){var w=t.parent();t.detach();var x=a&&a.closest(w).length?a.length:0;w.contents().length>x?u=d(w.contents().eq(-1-x),i):(u=d(w,i,!0),x||w.detach()),u&&(h=r(c(u),o),l(u,h),x&&a&&e(u).parent().append(a))}else h=r(m.slice(0,g+1).join(f),o),l(u,h);return!0}function s(e,t){return e.innerHeight()>t.maxHeight}function r(t,i){for(;e.inArray(t.slice(-1),i.lastCharacter.remove)>-1;)t=t.slice(0,-1);
return e.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function a(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function c(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function u(e){do e=e.previousSibling;while(e&&1!==e.nodeType&&3!==e.nodeType);return e}function d(t,i,n){var o,s=t&&t[0];if(s){if(!n){if(3===s.nodeType)return s;if(e.trim(t.text()))return d(t.contents().last(),i)}for(o=u(s);!o;){if(t=t.parent(),t.is(i)||!t.length)return!1;o=u(t[0])}if(o)return d(e(o),i)}return!1}function h(t,i){return t?"string"==typeof t?(t=e(t,i),t.length?t:!1):t.jquery?t:!1:!1}function p(e){for(var t=e.innerHeight(),i=["paddingTop","paddingBottom"],n=0,o=i.length;o>n;n++){var s=parseInt(e.css(i[n]),10);isNaN(s)&&(s=0),t-=s}return t}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(t){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(t)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(t,a){t.preventDefault(),t.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:p(o),l.maxHeight+=l.tolerance,"undefined"!=typeof a&&(("string"==typeof a||a instanceof HTMLElement)&&(a=e("<div />").append(a).contents()),a instanceof e&&(r=a)),m=o.wrapInner('<div class="dotdotdot" />').children(),m.contents().detach().end().append(r.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var u=!1,d=!1;return c.afterElement&&(u=c.afterElement.clone(!0),u.show(),c.afterElement.detach()),s(m,l)&&(d="children"==l.wrap?i(m,l,u):n(m,o,m,l,u)),m.replaceWith(m.contents()),m=null,e.isFunction(l.callback)&&l.callback.call(o[0],d,r),c.isTruncated=d,d}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],c.isTruncated),c.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],r),r}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(r).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var t=e(window),i=t.width(),n=t.height();t.bind("resize.dot"+c.dotId,function(){i==t.width()&&n==t.height()&&l.windowResizeFix||(i=t.width(),n=t.height(),d&&clearInterval(d),d=setTimeout(function(){o.trigger("update.dot")},100))})}else u=a(o),d=setInterval(function(){if(o.is(":visible")){var e=a(o);(u.width!=e.width||u.height!=e.height)&&(o.trigger("update.dot"),u=e)}},500);return o},o.unwatch=function(){return e(window).unbind("resize.dot"+c.dotId),d&&clearInterval(d),o};var r=o.contents(),l=e.extend(!0,{},e.fn.dotdotdot.defaults,t),c={},u={},d=null,m=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),c.afterElement=h(l.after,o),c.isTruncated=!1,c.dotId=f++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(){};var f=1,m=e.fn.html;e.fn.html=function(i){return i!=t&&!e.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):m.apply(this,arguments)};var g=e.fn.text;e.fn.text=function(i){return i!=t&&!e.isFunction(i)&&this.data("dotdotdot")?(i=e("<div />").text(i).html(),this.trigger("update",[i])):g.apply(this,arguments)}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){function i(e){function t(){n?(i(),F(t),o=!0,n=!1):o=!1}var i=e,n=!1,o=!1;this.kick=function(){n=!0,o||t()},this.end=function(e){var t=i;e&&(o?(i=n?function(){t(),e()}:e,n=!0):e())}}function n(){return!0}function o(){return!1}function s(e){e.preventDefault()}function r(e){z[e.target.tagName.toLowerCase()]||e.preventDefault()}function a(e){return 1===e.which&&!e.ctrlKey&&!e.altKey}function l(e,t){var i,n;if(e.identifiedTouch)return e.identifiedTouch(t);for(i=-1,n=e.length;++i<n;)if(e[i].identifier===t)return e[i]}function c(e,t){var i=l(e.changedTouches,t.identifier);return!i||i.pageX===t.pageX&&i.pageY===t.pageY?void 0:i}function u(e){var t;a(e)&&(t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp},I(document,H.move,d,t),I(document,H.cancel,h,t))}function d(e){var t=e.data;v(e,t,e,p)}function h(){p()}function p(){L(document,H.move,d),L(document,H.cancel,h)}function f(e){var t,i;z[e.target.tagName.toLowerCase()]||(t=e.changedTouches[0],i={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier},I(document,B.move+"."+t.identifier,m,i),I(document,B.cancel+"."+t.identifier,g,i))}function m(e){var t=e.data,i=c(e,t);i&&v(e,t,i,_)}function g(e){var t=e.data,i=l(e.changedTouches,t.identifier);i&&_(t.identifier)}function _(e){L(document,"."+e,m),L(document,"."+e,g)}function v(e,t,i,n){var o=i.pageX-t.startX,s=i.pageY-t.startY;P*P>o*o+s*s||w(e,t,i,o,s,n)}function y(){return this._handled=n,!1}function b(e){e._handled()}function w(e,t,i,n,o,s){var r,a;t.target,r=e.targetTouches,a=e.timeStamp-t.timeStamp,t.type="movestart",t.distX=n,t.distY=o,t.deltaX=n,t.deltaY=o,t.pageX=i.pageX,t.pageY=i.pageY,t.velocityX=n/a,t.velocityY=o/a,t.targetTouches=r,t.finger=r?r.length:1,t._handled=y,t._preventTouchmoveDefault=function(){e.preventDefault()},N(t.target,t),s(t.identifier)}function x(e){var t=e.data.timer;e.data.touch=e,e.data.timeStamp=e.timeStamp,t.kick()}function T(e){var t=e.data.event,i=e.data.timer;C(),D(t,i,function(){setTimeout(function(){L(t.target,"click",o)},0)})}function C(){L(document,H.move,x),L(document,H.end,T)}function S(e){var t=e.data.event,i=e.data.timer,n=c(e,t);n&&(e.preventDefault(),t.targetTouches=e.targetTouches,e.data.touch=n,e.data.timeStamp=e.timeStamp,i.kick())}function k(e){var t=e.data.event,i=e.data.timer,n=l(e.changedTouches,t.identifier);n&&($(t),D(t,i))}function $(e){L(document,"."+e.identifier,S),L(document,"."+e.identifier,k)}function E(e,t,i){var n=i-e.timeStamp;e.type="move",e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/n,e.velocityY=.3*e.velocityY+.7*e.deltaY/n,e.pageX=t.pageX,e.pageY=t.pageY}function D(e,t,i){t.end(function(){return e.type="moveend",N(e.target,e),i&&i()})}function M(){return I(this,"movestart.move",b),!0}function A(){return L(this,"dragstart drag",s),L(this,"mousedown touchstart",r),L(this,"movestart",b),!0}function O(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(I(this,"dragstart."+e.guid+" drag."+e.guid,s,t,e.selector),I(this,"mousedown."+e.guid,r,t,e.selector))}function j(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(L(this,"dragstart."+e.guid+" drag."+e.guid),L(this,"mousedown."+e.guid))}var P=6,I=e.event.add,L=e.event.remove,N=function(t,i,n){e.event.trigger(i,n,t)},F=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(function(){e()},25)}}(),z={textarea:!0,input:!0,select:!0,button:!0},H={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},B={move:"touchmove",cancel:"touchend",end:"touchend"};e.event.special.movestart={setup:M,teardown:A,add:O,remove:j,_default:function(e){function n(){E(s,r.touch,r.timeStamp),N(e.target,s)}var s,r;e._handled()&&(s={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},r={event:s,timer:new i(n),touch:t,timeStamp:t},e.identifier===t?(I(e.target,"click",o),I(document,H.move,x,r),I(document,H.end,T,r)):(e._preventTouchmoveDefault(),I(document,B.move+"."+e.identifier,S,r),I(document,B.end+"."+e.identifier,k,r)))}},e.event.special.move={setup:function(){I(this,"movestart.move",e.noop)},teardown:function(){L(this,"movestart.move",e.noop)}},e.event.special.moveend={setup:function(){I(this,"movestart.moveend",e.noop)},teardown:function(){L(this,"movestart.moveend",e.noop)}},I(document,"mousedown.move",u),I(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(e){for(var t=["changedTouches","targetTouches"],i=t.length;i--;)-1===e.event.props.indexOf(t[i])&&e.event.props.push(t[i])}(e)}),function(e){e.fn.lrdxBazaarVoice=function(t,i){var n=function(n,o){var s,r,a=e(o),l=a.data("username")||null;null!==l?("curations"===t?(r="production"===a.data("environment")?"prod":"stg",s="//curations-static.feedmagnet.com/gallery/"+l+"/"+r+"/loader.js"):(r=a.data("environment")||null,s="//display",s+="production"===r?"":"-stg",s+=".ugc.bazaarvoice.com/static/",s+=l+"/",s+="en_US/bvapi.js"),e.ajax({url:s,cache:!0,dataType:"script",success:i})):console.log("lrdxBazaarVoice: missing username")};return this.each(n)}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,a=l.call(arguments,1),c=0,d=0,h=0,p=0,f=0,m=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(d=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(d=-1*h,h=0),c=0===h?d:h,"deltaY"in r&&(h=-1*r.deltaY,c=h),"deltaX"in r&&(d=r.deltaX,0===h&&(c=-1*d)),0!==h||0!==d){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,d*=g}else if(2===r.deltaMode){var _=e.data(this,"mousewheel-page-height");c*=_,h*=_,d*=_}if(p=Math.max(Math.abs(h),Math.abs(d)),(!s||s>p)&&(s=p,n(r,p)&&(s/=40)),n(r,p)&&(c/=40,d/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/s),d=Math[d>=1?"floor":"ceil"](d/s),h=Math[h>=1?"floor":"ceil"](h/s),u.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();f=t.clientX-v.left,m=t.clientY-v.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=s,t.offsetX=f,t.offsetY=m,t.deltaMode=0,a.unshift(t,c,d,h),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){s=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e,t){function i(t,i){this.element=t,this.options=e.extend(!0,{},s,i),this._defaults=s,this._name=n,this.init()}var n="scrollfire",o=null,s={onTopIn:function(){},onTopOut:function(){},onBottomIn:function(){},onBottomOut:function(){},onTopHidden:function(){},onBottomVisible:function(){},onBottomHidden:function(){},onTopVisible:function(){},onScroll:function(){},onScrollDown:function(){},onScrollUp:function(){},onScrollAlways:function(){},onScrollDownAlways:function(){},onScrollUpAlways:function(){},offset:0,topOffset:0,bottomOffset:0,parallax:{active:!1,parent:null,bound:!1,speed:10,easing:"linear",invert:!1,scalar:1}},r={registry:{},guid:0,last_scroll_pos:0,scroll_handler:null};i.prototype.init=function(){var i=this,n={_element:i.element,_guid:r.guid,_on_top_in:i.options.onTopIn,_on_top_in_once:!0,_on_top_out:i.options.onTopOut,_on_top_out_once:!0,_on_bottom_in:i.options.onBottomIn,_on_bottom_in_once:!0,_on_bottom_out:i.options.onBottomOut,_on_bottom_out_once:!0,_on_top_hidden:i.options.onTopHidden,_on_top_hidden_once:!0,_on_bottom_visible:i.options.onBottomVisible,_on_bottom_visible_once:!0,_on_bottom_hidden:i.options.onBottomHidden,_on_bottom_hidden_once:!0,_on_top_visible:i.options.onTopVisible,_on_top_visible_once:!0,_on_scroll:i.options.onScroll,_on_scroll_down:i.options.onScrollDown,_on_scroll_up:i.options.onScrollUp,_on_scroll_always:i.options.onScrollAlways,_on_scroll_down_always:i.options.onScrollDownAlways,_on_scroll_up_always:i.options.onScrollUpAlways,_offset:i.options.offset,_top_offset:i.options.topOffset,_bottom_offset:i.options.bottomOffset,_parallax:i.options.parallax},o=function(){var i=e(t).scrollTop(),n=i>r.last_scroll_pos?"down":"up",o=Math.abs(r.last_scroll_pos-i);e.each(r.registry,function(s,r){var a=e.isFunction(r._offset)?r._offset():r._offset,c=e.isFunction(r._top_offset)?r._top_offset():r._top_offset,u=e.isFunction(r._bottom_offset)?r._bottom_offset():r._bottom_offset,d=e(r._element);r._parallax.active&&(d=r._parallax.parent||d.parent());var h=e(t).height(),p=d.outerHeight(),f=d.offset().top,m=d.offset().top+p;if(r._on_scroll_always(r._element,o,r),"down"==n){a=c?c:a;var g=f+p-a>=i,_=i+h>=f+a,v=g&&_,y=i>=f-a,b=i+h>=f+a;y&&r._on_top_out_once&&(r._on_top_in_once=!0,r._on_top_visible_once=!0,r._on_top_out_once=!1,r._on_top_out(r._element,o,r)),b&&r._on_bottom_in_once&&(r._on_bottom_out_once=!0,r._on_bottom_hidden_once=!0,r._on_bottom_in_once=!1,r._on_bottom_in(r._element,o,r)),r._on_scroll_down_always(r._element,o,r),v&&(r._on_scroll(r._element,o,r),r._on_scroll_down(r._element,o,r));var w=f+p-i,x=(w+a)/h;x=x>1?1:x.toFixed(2);var T=f+p-i,C=(T-a)/h;C=C>1?1:C.toFixed(2),1>x&&0>=C&&r._on_bottom_visible_once&&(r._on_bottom_visible_once=!1,r._on_bottom_visible(r._element,o,r)),0>=C&&1>x&&r._on_top_hidden_once&&(r._on_top_hidden_once=!1,r._on_top_hidden(r._element,o,r)),r._parallax.active&&l(r._parallax,e(r._element),a,i,h)}else{a=u?u:a;var g=f+p-a>=i,_=i+h>=f+a,v=g&&_,S=m-a>=i,k=m+a>=i+h;S&&r._on_top_in_once&&(r._on_top_out_once=!0,r._on_top_hidden_once=!0,r._on_top_in_once=!1,r._on_top_in(r._element,o,r)),k&&r._on_bottom_out_once&&(r._on_bottom_in_once=!0,r._on_bottom_visible_once=!0,r._on_bottom_out_once=!1,r._on_bottom_out(r._element,o,r)),r._on_scroll_up_always(r._element,o,r),v&&(r._on_scroll(r._element,o,r),r._on_scroll_up(r._element,o,r));var w=f+p-(i+p+a),x=w/h;x=x>1?1:x.toFixed(2);var T=f+p-(i+p-a),C=T/h;C=C>1?1:C.toFixed(2),x>=0&&C>=1&&r._on_top_visible_once&&(r._on_top_visible_once=!1,r._on_top_visible(r._element,o,r)),C>=1&&x>=0&&r._on_bottom_hidden_once&&(r._on_bottom_hidden_once=!1,r._on_bottom_hidden(r._element,o,r)),r._parallax.active&&l(r._parallax,e(r._element),a,i,h)}}),r.last_scroll_pos=i};if(n._scroll_handler=o,r.registry[r.guid]=n,e.data(i.element,"uids")){var s=e.data(i.element,"uids");s.push(r.guid),e.data(i.element,"uids",s)}else e.data(i.element,"uids",[r.guid]);r.guid++,r.scroll_handler||(r.scroll_handler=o,e(t).bind("scroll resize load",o))};var a=function(e,t){return parseInt(e.css("margin-"+t).replace(/px|em|%|auto|inherit/g,""))},l=function(e,t,i,n,o){var s=e.parent||t.parent(),r=s.outerHeight(),l=s.offset().top,c=a(t,"top"),u=l-n,d=(u-i)/(o-r)*e.scalar;e.invert&&(d=-1*(d-1)*e.scalar);var h=(r-t.outerHeight(e.bound))*d,p=0;d>=0&&1>=d?p=h-(e.bound?0:c):0>d&&1==e.scalar?p=e.bound?0:-c:d>1&&1==e.scalar&&(p=r-(e.bound?0:c)-t.outerHeight()-(e.bound?2*c:0)),t.stop().animate({top:p},{duration:e.speed,easing:e.easing})},c={remove:function(t){return t.each(function(t,i){var n=e(i).data("uids");n&&delete r.registry[n]}),o}};e.fn[n]=function(t){if(o=this,"string"==typeof t){var s=t,r=e(arguments).toArray();return r.shift(),r.unshift(this),c[s].apply(this,r)}return this.each(function(){e.data(this,"plugin_"+n,new i(this,t))})}}(jQuery,window,document),function(e){var t={init:function(i){var n=e.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(){},onInit:function(){}},i||{}),o=this;return n.pages=n.pages?n.pages:Math.ceil(n.items/n.itemsOnPage)?Math.ceil(n.items/n.itemsOnPage):1,n.currentPage?n.currentPage=n.currentPage-1:n.currentPage=n.invertPageOrder?n.pages-1:0,n.halfDisplayed=n.displayedPages/2,this.each(function(){o.addClass(n.cssStyle+" simple-pagination").data("pagination",n),t._draw.call(o)}),n.onInit(),this},selectPage:function(e){return t._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1):e.currentPage>0&&t._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage>0&&t._selectPage.call(this,e.currentPage-1):e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(e){this.data("pagination").pages=e},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(e){var i=this.data("pagination");return i.currentPage=e-1,this.data("pagination",i),t._draw.call(this),this},redraw:function(){return t._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),t._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),t._draw.call(this),this},updateItems:function(e){var i=this.data("pagination");i.items=e,i.pages=t._getPages(i),this.data("pagination",i),t._draw.call(this)},updateItemsOnPage:function(e){var i=this.data("pagination");return i.itemsOnPage=e,i.pages=t._getPages(i),this.data("pagination",i),t._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var i,n,o=this.data("pagination"),s=t._getInterval(o);t.destroy.call(this),n="function"==typeof this.prop?this.prop("tagName"):this.attr("tagName");var r="UL"===n?this:e("<ul"+(o.listStyle?' class="'+o.listStyle+'"':"")+"></ul>").appendTo(this);if(o.prevText&&t._appendItem.call(this,o.invertPageOrder?o.currentPage+1:o.currentPage-1,{text:o.prevText,classes:"prev"}),o.nextText&&o.nextAtFront&&t._appendItem.call(this,o.invertPageOrder?o.currentPage-1:o.currentPage+1,{text:o.nextText,classes:"next"}),o.invertPageOrder){if(s.end<o.pages&&o.edges>0){if(o.useStartEdge){var a=Math.max(o.pages-o.edges,s.end);for(i=o.pages-1;i>=a;i--)t._appendItem.call(this,i)}o.pages-o.edges>s.end&&o.pages-o.edges-s.end!=1?r.append('<li class="disabled"><span class="ellipse">'+o.ellipseText+"</span></li>"):o.pages-o.edges-s.end==1&&t._appendItem.call(this,s.end)}}else if(s.start>0&&o.edges>0){if(o.useStartEdge){var l=Math.min(o.edges,s.start);for(i=0;l>i;i++)t._appendItem.call(this,i)}o.edges<s.start&&s.start-o.edges!=1?r.append('<li class="disabled"><span class="ellipse">'+o.ellipseText+"</span></li>"):s.start-o.edges==1&&t._appendItem.call(this,o.edges)}if(o.invertPageOrder)for(i=s.end-1;i>=s.start;i--)t._appendItem.call(this,i);else for(i=s.start;i<s.end;i++)t._appendItem.call(this,i);if(o.invertPageOrder){if(s.start>0&&o.edges>0&&(o.edges<s.start&&s.start-o.edges!=1?r.append('<li class="disabled"><span class="ellipse">'+o.ellipseText+"</span></li>"):s.start-o.edges==1&&t._appendItem.call(this,o.edges),o.useEndEdge)){var l=Math.min(o.edges,s.start);for(i=l-1;i>=0;i--)t._appendItem.call(this,i)}}else if(s.end<o.pages&&o.edges>0&&(o.pages-o.edges>s.end&&o.pages-o.edges-s.end!=1?r.append('<li class="disabled"><span class="ellipse">'+o.ellipseText+"</span></li>"):o.pages-o.edges-s.end==1&&t._appendItem.call(this,s.end),o.useEndEdge)){var a=Math.max(o.pages-o.edges,s.end);for(i=a;i<o.pages;i++)t._appendItem.call(this,i)}o.nextText&&!o.nextAtFront&&t._appendItem.call(this,o.invertPageOrder?o.currentPage-1:o.currentPage+1,{text:o.nextText,classes:"next"}),o.ellipsePageSet&&!o.disabled&&t._ellipseClick.call(this,r)},_getPages:function(e){var t=Math.ceil(e.items/e.itemsOnPage);return t||1},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(i,n){var o,s,r=this,a=r.data("pagination"),l=e("<li></li>"),c=r.find("ul");i=0>i?0:i<a.pages?i:a.pages-1,o={text:i+1,classes:""},a.labelMap.length&&a.labelMap[i]&&(o.text=a.labelMap[i]),o=e.extend(o,n||{}),i==a.currentPage||a.disabled?(a.disabled||"prev"===o.classes||"next"===o.classes?l.addClass("disabled"):l.addClass("active"),s=e('<span class="current">'+o.text+"</span>")):(s=e('<a href="'+a.hrefTextPrefix+(i+1)+a.hrefTextSuffix+'" class="page-link">'+o.text+"</a>"),s.click(function(e){return t._selectPage.call(r,i,e)})),o.classes&&s.addClass(o.classes),l.append(s),c.length?c.append(l):r.append(l)},_selectPage:function(e,i){var n=this.data("pagination");return n.currentPage=e,n.selectOnClick&&t._draw.call(this),n.onPageClick(e+1,i)},_ellipseClick:function(i){var n=this,o=this.data("pagination"),s=i.find(".ellipse");s.addClass("clickable").parent().removeClass("disabled"),s.click(function(){if(!o.disable){var i=e(this),r=(parseInt(i.parent().prev().text(),10)||0)+1;i.html('<input type="number" min="1" max="'+o.pages+'" step="1" value="'+r+'">').find("input").focus().click(function(e){e.stopPropagation()}).keyup(function(i){var r=e(this).val();13===i.which&&""!==r?t._selectPage.call(n,r-1):27===i.which&&s.empty().html(o.ellipseText)}).bind("blur",function(){var i=e(this).val();return""!==i&&t._selectPage.call(n,i-1),s.empty().html(o.ellipseText),!1})}return!1})}};e.fn.pagination=function(i){return t[i]&&"_"!=i.charAt(0)?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.pagination"):t.init.apply(this,arguments)}}(jQuery),function e(t,i,n){function o(r,a){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){var i=t[r][1][e];return o(i?i:e)},u,u.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t){!function(i,n){"use strict";var o=i.document,s=e("./src/utils/get-by-class"),r=e("./src/utils/extend"),a=e("./src/utils/index-of"),l=e("./src/utils/events"),c=e("./src/utils/to-string"),u=e("./src/utils/natural-sort"),d=e("./src/utils/classes"),h=e("./src/utils/get-attribute"),p=e("./src/utils/to-array"),f=function(t,i,m){var g,_=this,v=e("./src/item")(_),y=e("./src/add-async")(_);g={start:function(){_.listClass="list",_.searchClass="search",_.sortClass="sort",_.page=1e4,_.i=1,_.items=[],_.visibleItems=[],_.matchingItems=[],_.searched=!1,_.filtered=!1,_.searchColumns=n,_.handlers={updated:[]},_.plugins={},_.valueNames=[],_.utils={getByClass:s,extend:r,indexOf:a,events:l,toString:c,naturalSort:u,classes:d,getAttribute:h,toArray:p},_.utils.extend(_,i),_.listContainer="string"==typeof t?o.getElementById(t):t,_.listContainer&&(_.list=s(_.listContainer,_.listClass,!0),_.parse=e("./src/parse")(_),_.templater=e("./src/templater")(_),_.search=e("./src/search")(_),_.filter=e("./src/filter")(_),_.sort=e("./src/sort")(_),this.handlers(),this.items(),_.update(),this.plugins())},handlers:function(){for(var e in _.handlers)_[e]&&_.on(e,_[e])},items:function(){_.parse(_.list),m!==n&&_.add(m)},plugins:function(){for(var e=0;e<_.plugins.length;e++){var t=_.plugins[e];_[t.name]=t,t.init(_,f)}}},this.reIndex=function(){_.items=[],_.visibleItems=[],_.matchingItems=[],_.searched=!1,_.filtered=!1,_.parse(_.list)},this.toJSON=function(){for(var e=[],t=0,i=_.items.length;i>t;t++)e.push(_.items[t].values());return e},this.add=function(e,t){if(0!==e.length){if(t)return void y(e,t);var i=[],o=!1;e[0]===n&&(e=[e]);for(var s=0,r=e.length;r>s;s++){var a=null;o=_.items.length>_.page?!0:!1,a=new v(e[s],n,o),_.items.push(a),i.push(a)}return _.update(),i}},this.show=function(e,t){return this.i=e,this.page=t,_.update(),_},this.remove=function(e,t,i){for(var n=0,o=0,s=_.items.length;s>o;o++)_.items[o].values()[e]==t&&(_.templater.remove(_.items[o],i),_.items.splice(o,1),s--,o--,n++);return _.update(),n},this.get=function(e,t){for(var i=[],n=0,o=_.items.length;o>n;n++){var s=_.items[n];s.values()[e]==t&&i.push(s)}return i},this.size=function(){return _.items.length},this.clear=function(){return _.templater.clear(),_.items=[],_},this.on=function(e,t){return _.handlers[e].push(t),_},this.off=function(e,t){var i=_.handlers[e],n=a(i,t);return n>-1&&i.splice(n,1),_},this.trigger=function(e){for(var t=_.handlers[e].length;t--;)_.handlers[e][t](_);return _},this.reset={filter:function(){for(var e=_.items,t=e.length;t--;)e[t].filtered=!1;return _},search:function(){for(var e=_.items,t=e.length;t--;)e[t].found=!1;return _}},this.update=function(){var e=_.items,t=e.length;_.visibleItems=[],_.matchingItems=[],_.templater.clear();for(var i=0;t>i;i++)e[i].matching()&&_.matchingItems.length+1>=_.i&&_.visibleItems.length<_.page?(e[i].show(),_.visibleItems.push(e[i]),_.matchingItems.push(e[i])):e[i].matching()?(_.matchingItems.push(e[i]),e[i].hide()):e[i].hide();return _.trigger("updated"),_},g.start()};"function"==typeof define&&define.amd&&define(function(){return f}),t.exports=f,i.List=f}(window)},{"./src/add-async":2,"./src/filter":3,"./src/item":4,"./src/parse":5,"./src/search":6,"./src/sort":7,"./src/templater":8,"./src/utils/classes":9,"./src/utils/events":10,"./src/utils/extend":11,"./src/utils/get-attribute":12,"./src/utils/get-by-class":13,"./src/utils/index-of":14,"./src/utils/natural-sort":15,"./src/utils/to-array":16,"./src/utils/to-string":17}],2:[function(e,t){t.exports=function(e){var t=function(i,n,o){var s=i.splice(0,50);o=o||[],o=o.concat(e.add(s)),i.length>0?setTimeout(function(){t(i,n,o)},1):(e.update(),n(o))};return t}},{}],3:[function(e,t){t.exports=function(e){return e.handlers.filterStart=e.handlers.filterStart||[],e.handlers.filterComplete=e.handlers.filterComplete||[],function(t){if(e.trigger("filterStart"),e.i=1,e.reset.filter(),void 0===t)e.filtered=!1;else{e.filtered=!0;for(var i=e.items,n=0,o=i.length;o>n;n++){var s=i[n];t(s)?s.filtered=!0:s.filtered=!1}}return e.update(),e.trigger("filterComplete"),e.visibleItems}}},{}],4:[function(e,t){t.exports=function(e){return function(t,i,n){var o=this;this._values={},this.found=!1,this.filtered=!1;var s=function(t,i,n){if(void 0===i)n?o.values(t,n):o.values(t);else{o.elm=i;var s=e.templater.get(o,t);o.values(s)}};this.values=function(t,i){if(void 0===t)return o._values;for(var n in t)o._values[n]=t[n];i!==!0&&e.templater.set(o,o.values())},this.show=function(){e.templater.show(o)},this.hide=function(){e.templater.hide(o)},this.matching=function(){return e.filtered&&e.searched&&o.found&&o.filtered||e.filtered&&!e.searched&&o.filtered||!e.filtered&&e.searched&&o.found||!e.filtered&&!e.searched},this.visible=function(){return o.elm&&o.elm.parentNode==e.list?!0:!1},s(t,i,n)}}},{}],5:[function(e,t){t.exports=function(t){var i=e("./item")(t),n=function(e){for(var t=e.childNodes,i=[],n=0,o=t.length;o>n;n++)void 0===t[n].data&&i.push(t[n]);return i},o=function(e,n){for(var o=0,s=e.length;s>o;o++)t.items.push(new i(n,e[o]))},s=function(e,i){var n=e.splice(0,50);o(n,i),e.length>0?setTimeout(function(){s(e,i)},1):(t.update(),t.trigger("parseComplete"))};return t.handlers.parseComplete=t.handlers.parseComplete||[],function(){var e=n(t.list),i=t.valueNames;t.indexAsync?s(e,i):o(e,i)}}},{"./item":4}],6:[function(e,t){t.exports=function(e){var t,i,n,o,s={resetList:function(){e.i=1,e.templater.clear(),o=void 0},setOptions:function(e){2==e.length&&e[1]instanceof Array?i=e[1]:2==e.length&&"function"==typeof e[1]?o=e[1]:3==e.length&&(i=e[1],o=e[2])},setColumns:function(){0!==e.items.length&&void 0===i&&(i=void 0===e.searchColumns?s.toArray(e.items[0].values()):e.searchColumns)},setSearchString:function(t){t=e.utils.toString(t).toLowerCase(),t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),n=t},toArray:function(e){var t=[];for(var i in e)t.push(i);return t}},r={list:function(){for(var t=0,i=e.items.length;i>t;t++)r.item(e.items[t])},item:function(e){e.found=!1;for(var t=0,n=i.length;n>t;t++)if(r.values(e.values(),i[t]))return void(e.found=!0)},values:function(i,o){return i.hasOwnProperty(o)&&(t=e.utils.toString(i[o]).toLowerCase(),""!==n&&t.search(n)>-1)?!0:!1},reset:function(){e.reset.search(),e.searched=!1}},a=function(t){return e.trigger("searchStart"),s.resetList(),s.setSearchString(t),s.setOptions(arguments),s.setColumns(),""===n?r.reset():(e.searched=!0,o?o(n,i):r.list()),e.update(),e.trigger("searchComplete"),e.visibleItems};return e.handlers.searchStart=e.handlers.searchStart||[],e.handlers.searchComplete=e.handlers.searchComplete||[],e.utils.events.bind(e.utils.getByClass(e.listContainer,e.searchClass),"keyup",function(t){var i=t.target||t.srcElement,n=""===i.value&&!e.searched;n||a(i.value)}),e.utils.events.bind(e.utils.getByClass(e.listContainer,e.searchClass),"input",function(e){var t=e.target||e.srcElement;""===t.value&&a("")}),a}},{}],7:[function(e,t){t.exports=function(e){e.sortFunction=e.sortFunction||function(t,i,n){return n.desc="desc"==n.order?!0:!1,e.utils.naturalSort(t.values()[n.valueName],i.values()[n.valueName],n)};var t={els:void 0,clear:function(){for(var i=0,n=t.els.length;n>i;i++)e.utils.classes(t.els[i]).remove("asc"),e.utils.classes(t.els[i]).remove("desc")},getOrder:function(t){var i=e.utils.getAttribute(t,"data-order");return"asc"==i||"desc"==i?i:e.utils.classes(t).has("desc")?"asc":e.utils.classes(t).has("asc")?"desc":"asc"},getInSensitive:function(t,i){var n=e.utils.getAttribute(t,"data-insensitive");"false"===n?i.insensitive=!1:i.insensitive=!0},setOrder:function(i){for(var n=0,o=t.els.length;o>n;n++){var s=t.els[n];if(e.utils.getAttribute(s,"data-sort")===i.valueName){var r=e.utils.getAttribute(s,"data-order");"asc"==r||"desc"==r?r==i.order&&e.utils.classes(s).add(i.order):e.utils.classes(s).add(i.order)}}}},i=function(){e.trigger("sortStart");var i={},n=arguments[0].currentTarget||arguments[0].srcElement||void 0;n?(i.valueName=e.utils.getAttribute(n,"data-sort"),
t.getInSensitive(n,i),i.order=t.getOrder(n)):(i=arguments[1]||i,i.valueName=arguments[0],i.order=i.order||"asc",i.insensitive="undefined"==typeof i.insensitive?!0:i.insensitive),t.clear(),t.setOrder(i),i.sortFunction=i.sortFunction||e.sortFunction,e.items.sort(function(e,t){var n="desc"===i.order?-1:1;return i.sortFunction(e,t,i)*n}),e.update(),e.trigger("sortComplete")};return e.handlers.sortStart=e.handlers.sortStart||[],e.handlers.sortComplete=e.handlers.sortComplete||[],t.els=e.utils.getByClass(e.listContainer,e.sortClass),e.utils.events.bind(t.els,"click",i),e.on("searchStart",t.clear),e.on("filterStart",t.clear),i}},{}],8:[function(e,t){var i=function(e){var t,i=this,n=function(){t=i.getItemSource(e.item),t=i.clearSourceItem(t,e.valueNames)};this.clearSourceItem=function(t,i){for(var n=0,o=i.length;o>n;n++){var s;if(i[n].data)for(var r=0,a=i[n].data.length;a>r;r++)t.setAttribute("data-"+i[n].data[r],"");else i[n].attr&&i[n].name?(s=e.utils.getByClass(t,i[n].name,!0),s&&s.setAttribute(i[n].attr,"")):(s=e.utils.getByClass(t,i[n],!0),s&&(s.innerHTML=""));s=void 0}return t},this.getItemSource=function(t){if(void 0===t){for(var i=e.list.childNodes,n=0,o=i.length;o>n;n++)if(void 0===i[n].data)return i[n].cloneNode(!0)}else{if(/^tr[\s>]/.exec(t)){var s=document.createElement("table");return s.innerHTML=t,s.firstChild}if(-1!==t.indexOf("<")){var r=document.createElement("div");return r.innerHTML=t,r.firstChild}var a=document.getElementById(e.item);if(a)return a}throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.")},this.get=function(t,n){i.create(t);for(var o={},s=0,r=n.length;r>s;s++){var a;if(n[s].data)for(var l=0,c=n[s].data.length;c>l;l++)o[n[s].data[l]]=e.utils.getAttribute(t.elm,"data-"+n[s].data[l]);else n[s].attr&&n[s].name?(a=e.utils.getByClass(t.elm,n[s].name,!0),o[n[s].name]=a?e.utils.getAttribute(a,n[s].attr):""):(a=e.utils.getByClass(t.elm,n[s],!0),o[n[s]]=a?a.innerHTML:"");a=void 0}return o},this.set=function(t,n){var o=function(t){for(var i=0,n=e.valueNames.length;n>i;i++)if(e.valueNames[i].data){for(var o=e.valueNames[i].data,s=0,r=o.length;r>s;s++)if(o[s]===t)return{data:t}}else{if(e.valueNames[i].attr&&e.valueNames[i].name&&e.valueNames[i].name==t)return e.valueNames[i];if(e.valueNames[i]===t)return t}},s=function(i,n){var s,r=o(i);r&&(r.data?t.elm.setAttribute("data-"+r.data,n):r.attr&&r.name?(s=e.utils.getByClass(t.elm,r.name,!0),s&&s.setAttribute(r.attr,n)):(s=e.utils.getByClass(t.elm,r,!0),s&&(s.innerHTML=n)),s=void 0)};if(!i.create(t))for(var r in n)n.hasOwnProperty(r)&&s(r,n[r])},this.create=function(e){if(void 0!==e.elm)return!1;var n=t.cloneNode(!0);return n.removeAttribute("id"),e.elm=n,i.set(e,e.values()),!0},this.remove=function(t){t.elm.parentNode===e.list&&e.list.removeChild(t.elm)},this.show=function(t){i.create(t),e.list.appendChild(t.elm)},this.hide=function(t){void 0!==t.elm&&t.elm.parentNode===e.list&&e.list.removeChild(t.elm)},this.clear=function(){if(e.list.hasChildNodes())for(;e.list.childNodes.length>=1;)e.list.removeChild(e.list.firstChild)},n()};t.exports=function(e){return new i(e)}},{}],9:[function(e,t){function i(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var n=e("./index-of"),o=/\s+/,s=Object.prototype.toString;t.exports=function(e){return new i(e)},i.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),i=n(t,e);return~i||t.push(e),this.el.className=t.join(" "),this},i.prototype.remove=function(e){if("[object RegExp]"==s.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),i=n(t,e);return~i&&t.splice(i,1),this.el.className=t.join(" "),this},i.prototype.removeMatching=function(e){for(var t=this.array(),i=0;i<t.length;i++)e.test(t[i])&&this.remove(t[i]);return this},i.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},i.prototype.array=function(){var e=this.el.getAttribute("class")||"",t=e.replace(/^\s+|\s+$/g,""),i=t.split(o);return""===i[0]&&i.shift(),i},i.prototype.has=i.prototype.contains=function(e){return this.list?this.list.contains(e):!!~n(this.array(),e)}},{"./index-of":14}],10:[function(e,t,i){var n=window.addEventListener?"addEventListener":"attachEvent",o=window.removeEventListener?"removeEventListener":"detachEvent",s="addEventListener"!==n?"on":"",r=e("./to-array");i.bind=function(e,t,i,o){e=r(e);for(var a=0;a<e.length;a++)e[a][n](s+t,i,o||!1)},i.unbind=function(e,t,i,n){e=r(e);for(var a=0;a<e.length;a++)e[a][o](s+t,i,n||!1)}},{"./to-array":16}],11:[function(e,t){t.exports=function(e){for(var t,i=Array.prototype.slice.call(arguments,1),n=0;t=i[n];n++)if(t)for(var o in t)e[o]=t[o];return e}},{}],12:[function(e,t){t.exports=function(e,t){var i=e.getAttribute&&e.getAttribute(t)||null;if(!i)for(var n=e.attributes,o=n.length,s=0;o>s;s++)void 0!==t[s]&&t[s].nodeName===t&&(i=t[s].nodeValue);return i}},{}],13:[function(e,t){t.exports=function(){return document.getElementsByClassName?function(e,t,i){return i?e.getElementsByClassName(t)[0]:e.getElementsByClassName(t)}:document.querySelector?function(e,t,i){return t="."+t,i?e.querySelector(t):e.querySelectorAll(t)}:function(e,t,i){var n=[],o="*";null===e&&(e=document);for(var s=e.getElementsByTagName(o),r=s.length,a=new RegExp("(^|\\s)"+t+"(\\s|$)"),l=0,c=0;r>l;l++)if(a.test(s[l].className)){if(i)return s[l];n[c]=s[l],c++}return n}}()},{}],14:[function(e,t){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],15:[function(e,t){t.exports=function(e,t,i){var n,o,s=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,r=/^\s+|\s+$/g,a=/\s+/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,u=/^0/,d=i||{},h=function(e){return d.insensitive&&(""+e).toLowerCase()||""+e},p=h(e)||"",f=h(t)||"",m=p.replace(s,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),g=f.replace(s,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),_=parseInt(p.match(c),16)||1!==m.length&&Date.parse(p),v=parseInt(f.match(c),16)||_&&f.match(l)&&Date.parse(f)||null,y=function(e,t){return(!e.match(u)||1==t)&&parseFloat(e)||e.replace(a," ").replace(r,"")||0};if(v){if(v>_)return-1;if(_>v)return 1}for(var b=0,w=m.length,x=g.length,T=Math.max(w,x);T>b;b++){if(n=y(m[b],w),o=y(g[b],x),isNaN(n)!==isNaN(o))return isNaN(n)?1:-1;if(typeof n!=typeof o&&(n+="",o+=""),o>n)return-1;if(n>o)return 1}return 0}},{}],16:[function(e,t){function i(e){return"[object Array]"===Object.prototype.toString.call(e)}t.exports=function(e){if("undefined"==typeof e)return[];if(null===e)return[null];if(e===window)return[window];if("string"==typeof e)return[e];if(i(e))return e;if("number"!=typeof e.length)return[e];if("function"==typeof e&&e instanceof Function)return[e];for(var t=[],n=0;n<e.length;n++)(Object.prototype.hasOwnProperty.call(e,n)||n in e)&&t.push(e[n]);return t.length?t:[]}},{}],17:[function(e,t){t.exports=function(e){return e=void 0===e?"":e,e=null===e?"":e,e=e.toString()}},{}]},{},[1]),function(e){function t(t){var i=Math.min.apply(Math,t);return e.inArray(i,t)}function i(e){for(var t=[],i=0;e>i;i++)t.push(0);return t}function n(t){var i=e(t).outerWidth(),n=e(t).offsetParent().width();return{width:100*i/n,num:Math.round(n/i)}}Array.max=function(e){return Math.max.apply(Math,e)},e.easing.__Slide=function(e,t,i,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+i},e.lrdxMasonry=function(o,s){var r={animate:!1,easing:"__Slide",timeout:800},a=e.extend({},r,s),l=e(o),c=this;e.extend(c,{refresh:function(){var t=e("img",o),i=t.length,n=0;t.length>0&&l.addClass("sm-images-waiting").removeClass("sm-images-loaded"),t.on("load",function(){n++,n==i&&(c.resize(),l.removeClass("sm-images-waiting").addClass("sm-images-loaded"))}),c.resize()},resize:function(){var o=l.children(),s=n(o[0]),r=s.width,c=s.num,u=i(c),d="rtl"===l.css("direction")?"right":"left";if(c>1){var h=function(i){var n=e(this).outerHeight(),o=t(u);if(o>0&&i>=c){var s=Array.max(u),l=u[o];.5*n>s-l&&(o=0)}var h=Math.round(o*r*10)/10,p={};p[d]=h+"%",p.top=u[o]+"px",e(this).css({position:"absolute"}).stop(),a.animate?e(this).animate(p,a.timeout,a.easing):e(this).css(p),u[o]+=n};o.css({overflow:"hidden",zoom:"1"}).each(h),l.css({position:"relative",height:Array.max(u)+"px"})}else o.removeAttr("style"),l.removeAttr("style")}}),e(window).resize(c.resize),l.addClass("sm-loaded"),c.refresh()},e.fn.lrdxMasonry=function(t){if("string"!=typeof t)return this.each(function(){if(void 0==e(this).data("lrdxMasonry")){var i=new e.lrdxMasonry(this,t);e(this).data("lrdxMasonry",i)}});var i=e(this).data("lrdxMasonry"),n=Array.prototype.slice.call(arguments,1);return i[t]?i[t].apply(i,n):void 0}}(jQuery);var SwiperGrowingScrollbar=function(e){this.swiper=e.swiper,this.props={easing:e.easing||{left:"ease",right:"ease"},increaseRatio:e.increaseRatio||{left:1,right:4},increaseRatioDelay:{left:.5,right:0},maxTransition:e.maxTransition,progressStored:0,slidesInView:1,slidePercent:null,slidePercentNormal:0,slidePercentHalf:null,startHalfWidth:e.startHalfWidth||!1};var t=e.scrollBar,i=$('<div class="swiper-scrollbar-drag"/>'),n={onSetTransition:null,onSetTranslate:null,onTransitionEnd:null};this.init=function(){this.props.slidePercentNormal=100/this.swiper.slides.length*this.props.slidesInView,this.props.slidePercentHalf=this.props.slidePercentNormal/2,this.props.slidePercent=this.props.startHalfWidth?this.props.slidePercentHalf:this.props.slidePercentNormal,t.append(i),t.addClass("swiper-scrollbar-growing"),n.onSetTransition=l.bind(this,i),n.onSetTranslate=o.bind(this,i),n.onTransitionEnd=l.bind(this,i,this.swiper,0,!0),this.swiper.on("onSetTransition",n.onSetTransition),this.swiper.on("onSetTranslate",n.onSetTranslate),this.swiper.on("onTransitionEnd",n.onTransitionEnd),o.call(this,i,this.swiper,!0)},this.destroy=function(){i.remove(),t.removeClass("swiper-scrollbar-growing"),this.swiper.off("onSetTransition",n.onSetTransition),this.swiper.off("onSetTranslate",n.onSetTranslate),this.swiper.off("onTransitionEnd",n.onTransitionEnd)},this.setNormalWidth=function(){this.props.slidePercent=this.props.slidePercentNormal,this.props.progressStored-=1/this.swiper.slides.length-1,o.call(this,i,this.swiper)};var o=function(e,t,i){if(i||t.progress!==this.props.progressStored){var n=this.props.increaseRatio,o=this.props.increaseRatioDelay,l=s(t.progress,t.slides.length),c=Math.floor(l),u=c,d=c+1,h=l%1===0?0:l%1,p=r(h,n.left,o.left),f=r(h,n.right,o.right),m=this.props.slidePercent*u+this.props.slidePercent*p,g=this.props.slidePercent*d+this.props.slidePercent*f;a(m,g,this.props.slidePercent,e),this.props.progressStored=t.progress}},s=function(e,t){return e*(t-1)},r=function(e,t,i){return Math.max(0,Math.min(1,e*t-(1-e)*i))},a=function(e,t,i,n){var o=Math.max(0,e),s=e>=0?100-Math.min(100,t):100-i;n.css({left:o+"%",right:s+"%"})},l=function(e,t,i,n){if(n||t.progress!==this.props.progressStored){var o=t.progress>this.props.progressStored?"forwards":"backwards",s=Math.abs(this.props.progressStored-t.progress),r=this.props.maxTransition*t.slides.length*s;i=Math.min(r,i);var a={transition:i/this.props.increaseRatio.left-i*this.props.increaseRatioDelay.left,delay:i*this.props.increaseRatioDelay.left,ease:this.props.easing.left},l={transition:i/this.props.increaseRatio.right-i*this.props.increaseRatioDelay.right,delay:i*this.props.increaseRatioDelay.right,ease:this.props.easing.right};if("forwards"!==o){var c=[l,a];a=c[0],l=c[1]}var u="left "+a.transition+"ms  "+a.ease+" "+a.delay+"ms, right "+l.transition+"ms  "+l.ease+" "+l.delay+"ms";e.css({transition:u})}};this.init()};!function(e){var t,i,n,o,s,r,a,l="Close",c="BeforeClose",u="AfterClose",d="BeforeAppend",h="MarkupParse",p="Open",f="Change",m="mfp",g="."+m,_="mfp-ready",v="mfp-removing",y="mfp-prevent-close",b=function(){},w=!!window.jQuery,x=e(window),T=function(e,i){t.ev.on(m+e+g,i)},C=function(t,i,n,o){var s=document.createElement("div");return s.className="mfp-"+t,n&&(s.innerHTML=n),o?i&&i.appendChild(s):(s=e(s),i&&s.appendTo(i)),s},S=function(i,n){t.ev.triggerHandler(m+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},k=function(i){return i===a&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),a=i),t.currTemplate.closeBtn},$=function(){e.magnificPopup.instance||(t=new b,t.init(),e.magnificPopup.instance=t)},E=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};b.prototype={constructor:b,init:function(){var i=navigator.appVersion;t.isIE7=-1!==i.indexOf("MSIE 7."),t.isIE8=-1!==i.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=E(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=e(document),t.popupsCache={}},open:function(i){n||(n=e(document.body));var s;if(i.isObj===!1){t.items=i.items.toArray(),t.index=0;var a,l=i.items;for(s=0;s<l.length;s++)if(a=l[s],a.parsed&&(a=a.el[0]),a===i.el[0]){t.index=s;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],r="",i.mainEl&&i.mainEl.length?t.ev=i.mainEl.eq(0):t.ev=o,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=C("bg").on("click"+g,function(){t.close()}),t.wrap=C("wrap").attr("tabindex",-1).on("click"+g,function(e){e.preventDefault(),t._checkIfClose(e.target)&&t.close()}),t.container=C("container",t.wrap)),t.contentContainer=C("content"),t.st.preloader&&(t.preloader=C("preloader",t.container,t.st.tLoading));var c=e.magnificPopup.modules;for(s=0;s<c.length;s++){var u=c[s];u=u.charAt(0).toUpperCase()+u.slice(1),t["init"+u].call(t)}S("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(T(h,function(e,t,i,n){i.close_replaceWith=k(n.type)}),r+=" mfp-close-btn-in"):t.wrap.append(k())),t.st.alignTop&&(r+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:x.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),t.st.enableEscapeKey&&o.on("keyup"+g,function(e){27===e.keyCode&&t.close()}),x.on("resize"+g,function(){t.updateSize()}),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var d=t.wH=x.height(),f={};if(t.fixedContentPos&&t._hasScrollBar(d)){var m=t._getScrollbarSize();m&&(f.marginRight=m)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):f.overflow="hidden");var v=t.st.mainClass;return t.isIE7&&(v+=" mfp-ie7"),v&&t._addClassToMFP(v),t.updateItemHTML(),S("BuildControls"),e("html").css(f),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||n),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(_),t._setFocus()):t.bgOverlay.addClass(_),o.on("focusin"+g,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(d),S(p),i},close:function(){t.isOpen&&(S(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(v),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){S(l);var i=v+" "+_+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var n={marginRight:""};t.isIE7?e("body, html").css("overflow",""):n.overflow="",e("html").css(n)}o.off("keyup"+g+" focusin"+g),t.ev.off(g),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,S(u)},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||x.height();t.fixedContentPos||t.wrap.css("height",t.wH),S("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(S("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var o=t.st[n]?t.st[n].markup:!1;S("FirstMarkupParse",o),o?t.currTemplate[n]=e(o):t.currTemplate[n]=!0}s&&s!==i.type&&t.container.removeClass("mfp-"+s+"-holder");var r=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(r,n),i.preloaded=!0,S(f,i),s=i.type,t.container.prepend(t.contentContainer),S("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[i]===!0?t.content.find(".mfp-close").length||t.content.append(k()):t.content=e:t.content="",S(d),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n,o=t.items[i];if(o.tagName?o={el:e(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var s=t.types,r=0;r<s.length;r++)if(o.el.hasClass("mfp-"+s[r])){n=s[r];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||t.st.type||"inline",o.index=i,o.parsed=!0,t.items[i]=o,S("ElementParse",o),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var o="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(o).on(o,n)):(i.isObj=!1,i.delegate?e.off(o).on(o,i.delegate,n):(i.items=e,e.off(o).on(o,n)))},_openClick:function(i,n,o){var s=void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick;if(s||2!==i.which&&!i.ctrlKey&&!i.metaKey){var r=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(x.width()<r)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),o.el=e(i.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),t.open(o)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),n||"loading"!==e||(n=t.st.tLoading);var o={status:e,text:n};S("UpdateStatus",o),e=o.status,n=o.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(y)){var n=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(n&&o)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(o&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?o.height():document.body.scrollHeight)>(e||x.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){return i.target===t.wrap[0]||e.contains(t.wrap[0],i.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,i,n){var o;n.data&&(i=e.extend(n.data,i)),S(h,[t,i,n]),e.each(i,function(e,i){if(void 0===i||i===!1)return!0;if(o=e.split("_"),o.length>1){var n=t.find(g+"-"+o[0]);if(n.length>0){var s=o[1];"replaceWith"===s?n[0]!==i[0]&&n.replaceWith(i):"img"===s?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(o[1],i)}}else t.find(g+"-"+e).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(t,i){return $(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(i){$();var n=e(this);if("string"==typeof i)if("open"===i){var o,s=w?n.data("magnificPopup"):n[0].magnificPopup,r=parseInt(arguments[1],10)||0;s.items?o=s.items[r]:(o=n,s.delegate&&(o=o.find(s.delegate)),o=o.eq(r)),t._openClick({mfpEl:o},n,s)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),w?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var D,M,A,O="inline",j=function(){A&&(M.after(A.addClass(D)).detach(),A=null)};e.magnificPopup.registerModule(O,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(O),T(l+"."+O,function(){j()})},getInline:function(i,n){if(j(),i.src){var o=t.st.inline,s=e(i.src);if(s.length){var r=s[0].parentNode;r&&r.tagName&&(M||(D=o.hiddenClass,M=C(D),D="mfp-"+D),A=s.after(M).detach().removeClass(D)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),s=e("<div>");return i.inlineElement=s,s}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var P,I="ajax",L=function(){P&&n.removeClass(P)},N=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(I),P=t.st.ajax.cursor,T(l+"."+I,N),T("BeforeChange."+I,N)},getAjax:function(i){P&&n.addClass(P),t.updateStatus("loading");var o=e.extend({url:i.src,success:function(n,o,s){var r={data:n,xhr:s};S("ParseAjax",r),t.appendContent(e(r.data),I),i.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(_)},16),t.updateStatus("ready"),S("AjaxContentAdded")},error:function(){L(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(o),""}}});var F,z=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,i=".image";t.types.push("image"),T(p+i,function(){"image"===t.currItem.type&&e.cursor&&n.addClass(e.cursor)}),T(l+i,function(){e.cursor&&n.removeClass(e.cursor),x.off("resize"+g)}),T("Resize"+i,t.resizeImage),t.isLowIE&&T("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,F&&clearInterval(F),e.isCheckingImgSize=!1,S("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],o=function(s){F&&clearInterval(F),F=setInterval(function(){return n.naturalWidth>0?void t._onImageHasSize(e):(i>200&&clearInterval(F),i++,void(3===i?o(10):40===i?o(50):100===i&&o(500)))},s)};o(1)},getImage:function(i,n){var o=0,s=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,S("ImageLoadComplete")):(o++,200>o?setTimeout(s,100):r()))},r=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=t.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.img=e(c).on("load.mfploader",s).on("error.mfploader",r),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),c=i.img[0],c.naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:z(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(F&&clearInterval(F),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var H,B=function(){return void 0===H&&(H=void 0!==document.createElement("p").style.MozTransform),H};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var o,s,r=i.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return o["-webkit-"+s]=o["-moz-"+s]=o["-o-"+s]=o[s]=n,t.css(o),t},u=function(){t.content.css("visibility","visible")};T("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void u();s=a(e),s.css(t._getOffset()),t.wrap.append(s),o=setTimeout(function(){s.css(t._getOffset(!0)),o=setTimeout(function(){u(),setTimeout(function(){s.remove(),e=s=null,S("ZoomAnimationEnded")},16)},r)},16)}}),T(c+n,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=r,!e){if(e=t._getItemToZoom(),!e)return;s=a(e)}s.css(t._getOffset(!0)),t.wrap.append(s),t.content.css("visibility","hidden"),setTimeout(function(){s.css(t._getOffset())},16)}}),T(l+n,function(){t._allowZoom()&&(u(),s&&s.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(i){var n;n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=n.offset(),s=parseInt(n.css("padding-top"),10),r=parseInt(n.css("padding-bottom"),10);o.top-=e(window).scrollTop()-s;var a={width:n.width(),height:(w?n.innerHeight():n[0].offsetHeight)-r-s};return B()?a["-moz-transform"]=a.transform="translate("+o.left+"px,"+o.top+"px)":(a.left=o.left,a.top=o.top),a}}});var R="iframe",W="//about:blank",V=function(e){if(t.currTemplate[R]){var i=t.currTemplate[R].find("iframe");i.length&&(e||(i[0].src=W),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(R,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(R),T("BeforeChange",function(e,t,i){t!==i&&(t===R?V():i===R&&V(!0))}),T(l+"."+R,function(){V()})},getIframe:function(i,n){var o=i.src,s=t.st.iframe;e.each(s.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var r={};return s.srcAction&&(r[s.srcAction]=o),t._parseMarkup(n,r,i),t.updateStatus("ready"),n}}});var q=function(e){var i=t.items.length;return e>i-1?e-i:0>e?i+e:e},Y=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,n=".mfp-gallery",s=Boolean(e.fn.mfpFastClick);return t.direction=!0,i&&i.enabled?(r+=" mfp-gallery",T(p+n,function(){i.navigateByImgClick&&t.wrap.on("click"+n,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),o.on("keydown"+n,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),T("UpdateStatus"+n,function(e,i){i.text&&(i.text=Y(i.text,t.currItem.index,t.items.length))}),T(h+n,function(e,n,o,s){var r=t.items.length;o.counter=r>1?Y(i.tCounter,s.index,r):""}),T("BuildControls"+n,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,o=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(y),r=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(y),a=s?"mfpFastClick":"click";o[a](function(){t.prev()}),r[a](function(){t.next()}),t.isIE7&&(C("b",o[0],!1,!0),C("a",o[0],!1,!0),C("b",r[0],!1,!0),C("a",r[0],!1,!0)),t.container.append(o.add(r))}}),T(f+n,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void T(l+n,function(){o.off(n),t.wrap.off("click"+n),t.arrowLeft&&s&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=q(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=q(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),o=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?o:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=q(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),S("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,S("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var U="retina";e.magnificPopup.registerModule(U,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(T("ImageHasSize."+U,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),T("ElementParse."+U,function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),function(){var t=1e3,i="ontouchstart"in window,n=function(){
x.off("touchmove"+s+" touchend"+s)},o="mfpFastClick",s="."+o;e.fn.mfpFastClick=function(o){return e(this).each(function(){var r,a=e(this);if(i){var l,c,u,d,h,p;a.on("touchstart"+s,function(e){d=!1,p=1,h=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=h.clientX,u=h.clientY,x.on("touchmove"+s,function(e){h=e.originalEvent?e.originalEvent.touches:e.touches,p=h.length,h=h[0],(Math.abs(h.clientX-c)>10||Math.abs(h.clientY-u)>10)&&(d=!0,n())}).on("touchend"+s,function(e){n(),d||p>1||(r=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){r=!1},t),o())})})}a.on("click"+s,function(){r||o()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+s+" click"+s),i&&x.off("touchmove"+s+" touchend"+s)}}(),$()}(window.jQuery||window.Zepto);var mejs=mejs||{};if(mejs.version="2.13.2",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t,i,n,o,s,r,a=0,l="",c="",u=document.getElementsByTagName("script"),d=u.length,h=e.length;d>a;a++){for(o=u[a].src,i=o.lastIndexOf("/"),i>-1?(r=o.substring(i+1),s=o.substring(0,i+1)):(r=o,s=""),t=0;h>t;t++)if(c=e[t],n=r.indexOf(c),n>-1){l=s;break}if(""!==l)break}return l},secondsToTimeCode:function(e,t,i,n){"undefined"==typeof i?i=!1:"undefined"==typeof n&&(n=25);var o=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,r=Math.floor(e%60),a=Math.floor((e%1*n).toFixed(3)),l=(t||o>0?(10>o?"0"+o:o)+":":"")+(10>s?"0"+s:s)+":"+(10>r?"0"+r:r)+(i?":"+(10>a?"0"+a:a):"");return l},timeCodeToSeconds:function(e,t,i,n){"undefined"==typeof i?i=!1:"undefined"==typeof n&&(n=25);var o=e.split(":"),s=parseInt(o[0],10),r=parseInt(o[1],10),a=parseInt(o[2],10),l=0,c=0;return i&&(l=parseInt(o[3])/n),c=3600*s+60*r+a+l},convertSMPTEtoSeconds:function(e){if("string"!=typeof e)return!1;e=e.replace(",",".");var t=0,i=-1!=e.indexOf(".")?e.split(".")[1].length:0,n=1;e=e.split(":").reverse();for(var o=0;o<e.length;o++)n=1,o>0&&(n=Math.pow(60,o)),t+=Number(e[o])*n;return Number(t.toFixed(i))},removeSwf:function(e){var t=document.getElementById(e);t&&/object|embed/i.test(t.nodeName)&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}},mejs.PluginDetector={hasPluginVersion:function(e,t){var i=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,i,n,o){this.plugins[e]=this.detectPlugin(t,i,n,o)},detectPlugin:function(e,t,i,n){var o,s,r,a=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if(o=this.nav.plugins[e].description,o&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(a=o.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),s=0;s<a.length;s++)a[s]=parseInt(a[s].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{r=new ActiveXObject(i),r&&(a=n(r))}catch(l){}return a}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],i=e.GetVariable("$version");return i&&(i=i.split(" ")[1].split(","),t=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]),t}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],i=function(e,t,i,n){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[i]+=n;t[i]-=n};return i(e,t,0,1),i(e,t,1,1),i(e,t,2,1e4),i(e,t,2,1e3),i(e,t,2,100),i(e,t,2,10),i(e,t,2,1),i(e,t,3,1),t}),mejs.MediaFeatures={init:function(){var e,t,i=this,n=document,o=mejs.PluginDetector.nav,s=mejs.PluginDetector.ua.toLowerCase(),r=["source","track","audio","video"];i.isiPad=null!==s.match(/ipad/i),i.isiPhone=null!==s.match(/iphone/i),i.isiOS=i.isiPhone||i.isiPad,i.isAndroid=null!==s.match(/android/i),i.isBustedAndroid=null!==s.match(/android 2\.[12]/),i.isBustedNativeHTTPS="https:"===location.protocol&&(null!==s.match(/android [12]\./)||null!==s.match(/macintosh.* version.* safari/)),i.isIE=-1!=o.appName.toLowerCase().indexOf("microsoft")||null!==o.appName.toLowerCase().match(/trident/gi),i.isChrome=null!==s.match(/chrome/gi),i.isFirefox=null!==s.match(/firefox/gi),i.isWebkit=null!==s.match(/webkit/gi),i.isGecko=null!==s.match(/gecko/gi)&&!i.isWebkit&&!i.isIE,i.isOpera=null!==s.match(/opera/gi),i.hasTouch="ontouchstart"in window,i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(e=0;e<r.length;e++)t=document.createElement(r[e]);i.supportsMediaTag="undefined"!=typeof t.canPlayType||i.isBustedAndroid;try{t.canPlayType("video/mp4")}catch(a){i.supportsMediaTag=!1}i.hasSemiNativeFullScreen="undefined"!=typeof t.webkitEnterFullscreen,i.hasNativeFullscreen="undefined"!=typeof t.requestFullscreen,i.hasWebkitNativeFullScreen="undefined"!=typeof t.webkitRequestFullScreen,i.hasMozNativeFullScreen="undefined"!=typeof t.mozRequestFullScreen,i.hasMsNativeFullScreen="undefined"!=typeof t.msRequestFullscreen,i.hasTrueNativeFullScreen=i.hasWebkitNativeFullScreen||i.hasMozNativeFullScreen||i.hasMsNativeFullScreen,i.nativeFullScreenEnabled=i.hasTrueNativeFullScreen,i.hasMozNativeFullScreen?i.nativeFullScreenEnabled=document.mozFullScreenEnabled:i.hasMsNativeFullScreen&&(i.nativeFullScreenEnabled=document.msFullscreenEnabled),i.isChrome&&(i.hasSemiNativeFullScreen=!1),i.hasTrueNativeFullScreen&&(i.fullScreenEventName="",i.hasWebkitNativeFullScreen?i.fullScreenEventName="webkitfullscreenchange":i.hasMozNativeFullScreen?i.fullScreenEventName="mozfullscreenchange":i.hasMsNativeFullScreen&&(i.fullScreenEventName="MSFullscreenChange"),i.isFullScreen=function(){return t.mozRequestFullScreen?n.mozFullScreen:t.webkitRequestFullScreen?n.webkitIsFullScreen:t.hasMsNativeFullScreen?null!==n.msFullscreenElement:void 0},i.requestFullScreen=function(e){i.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():i.hasMozNativeFullScreen?e.mozRequestFullScreen():i.hasMsNativeFullScreen&&e.msRequestFullscreen()},i.cancelFullScreen=function(){i.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():i.hasMozNativeFullScreen?document.mozCancelFullScreen():i.hasMsNativeFullScreen&&document.msExitFullscreen()}),i.hasSemiNativeFullScreen&&s.match(/mac os x 10_5/i)&&(i.hasNativeFullScreen=!1,i.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if("string"==typeof e)this.src=e;else{var i,n;for(i=0;i<e.length;i++)if(n=e[i],this.canPlayType(n.type)){this.src=n.src;break}}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.PluginMediaElement=function(e,t,i){this.id=e,this.pluginType=t,this.src=i,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,i,n,o=mejs.plugins[this.pluginType];for(t=0;t<o.length;t++)if(n=o[t],mejs.PluginDetector.hasPluginVersion(this.pluginType,n.version))for(i=0;i<n.types.length;i++)if(e==n.types[i])return"probably";return""},positionFullscreenButton:function(e,t,i){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),i)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if("string"==typeof e)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else{var t,i;for(t=0;t<e.length;t++)if(i=e[t],this.canPlayType(i.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(i.src)),this.src=mejs.Utility.absolutizeUrl(e);break}}},setCurrentTime:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*e):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var n=this.events[e];if(!n)return!0;if(!t)return this.events[e]=[],!0;for(i=0;i<n.length;i++)if(n[i]===t)return this.events[e].splice(i,1),!0;return!1},dispatchEvent:function(e){var t,i,n=this.events[e];if(n)for(i=Array.prototype.slice.call(arguments,1),t=0;t<n.length;t++)n[t].apply(null,i)},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,i){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=i},unregisterPluginElement:function(e){delete this.pluginMediaElements[e],delete this.htmlMediaElements[e]},initPlugin:function(e){var t=this.pluginMediaElements[e],i=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}null!=t.pluginApi&&t.success&&t.success(t,i)}},fireEvent:function(e,t,i){var n,o,s,r=this.pluginMediaElements[e];if(r){n={type:t,target:r};for(o in i)r[o]=i[o],n[o]=i[o];s=i.bufferedTime||0,n.target.buffered=n.buffered={start:function(){return 0},end:function(){return s},length:1},r.dispatchEvent(n.type,n)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var i,n,o=mejs.MediaElementDefaults,s="string"==typeof e?document.getElementById(e):e,r=s.tagName.toLowerCase(),a="audio"===r||"video"===r,l=a?s.getAttribute("src"):s.getAttribute("href"),c=s.getAttribute("poster"),u=s.getAttribute("autoplay"),d=s.getAttribute("preload"),h=s.getAttribute("controls");for(n in t)o[n]=t[n];return l="undefined"==typeof l||null===l||""==l?null:l,c="undefined"==typeof c||null===c?"":c,d="undefined"==typeof d||null===d||"false"===d?"none":d,u=!("undefined"==typeof u||null===u||"false"===u),h=!("undefined"==typeof h||null===h||"false"===h),i=this.determinePlayback(s,o,mejs.MediaFeatures.supportsMediaTag,a,l),i.url=null!==i.url?mejs.Utility.absolutizeUrl(i.url):"","native"==i.method?(mejs.MediaFeatures.isBustedAndroid&&(s.src=i.url,s.addEventListener("click",function(){s.play()},!1)),this.updateNative(i,o,u,d)):""!==i.method?this.createPlugin(i,o,c,u,d,h):(this.createErrorMessage(i,o,c),this)},determinePlayback:function(e,t,i,n,o){var s,r,a,l,c,u,d,h,p,f,m,g=[],_={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase()};if("undefined"!=typeof t.type&&""!==t.type)if("string"==typeof t.type)g.push({type:t.type,url:o});else for(s=0;s<t.type.length;s++)g.push({type:t.type[s],url:o});else if(null!==o)u=this.formatType(o,e.getAttribute("type")),g.push({type:u,url:o});else for(s=0;s<e.childNodes.length;s++)c=e.childNodes[s],1==c.nodeType&&"source"==c.tagName.toLowerCase()&&(o=c.getAttribute("src"),u=this.formatType(o,c.getAttribute("type")),m=c.getAttribute("media"),(!m||!window.matchMedia||window.matchMedia&&window.matchMedia(m).matches)&&g.push({type:u,url:o}));if(!n&&g.length>0&&null!==g[0].url&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(_.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),i&&("auto"===t.mode||"auto_plugin"===t.mode||"native"===t.mode)&&(!mejs.MediaFeatures.isBustedNativeHTTPS||t.httpsBasicAuthSite!==!0)){for(n||(f=document.createElement(_.isVideo?"video":"audio"),e.parentNode.insertBefore(f,e),e.style.display="none",_.htmlMediaElement=e=f),s=0;s<g.length;s++)if(""!==e.canPlayType(g[s].type).replace(/no/,"")||""!==e.canPlayType(g[s].type.replace(/mp3/,"mpeg")).replace(/no/,"")){_.method="native",_.url=g[s].url;break}if("native"===_.method&&(null!==_.url&&(e.src=_.url),"auto_plugin"!==t.mode))return _}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(s=0;s<g.length;s++)for(u=g[s].type,r=0;r<t.plugins.length;r++)for(d=t.plugins[r],h=mejs.plugins[d],a=0;a<h.length;a++)if(p=h[a],null==p.version||mejs.PluginDetector.hasPluginVersion(d,p.version))for(l=0;l<p.types.length;l++)if(u==p.types[l])return _.method=d,_.url=g[s].url,_;return"auto_plugin"===t.mode&&"native"===_.method?_:(""===_.method&&g.length>0&&(_.url=g[0].url),_)},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){e=e.split("?")[0];var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+this.getTypeFromExtension(t)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,i){var n=e.htmlMediaElement,o=document.createElement("div");o.className="me-cannotplay";try{o.style.width=n.width+"px",o.style.height=n.height+"px"}catch(s){}t.customError?o.innerHTML=t.customError:o.innerHTML=""!==i?'<a href="'+e.url+'"><img src="'+i+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",n.parentNode.insertBefore(o,n),n.style.display="none",t.error(n)},createPlugin:function(e,t,i,n,o,s){var r,a,l,c=e.htmlMediaElement,u=1,d=1,h="me_"+e.method+"_"+mejs.meIndex++,p=new mejs.PluginMediaElement(h,e.method,e.url),f=document.createElement("div");p.tagName=c.tagName;for(var m=0;m<c.attributes.length;m++){var g=c.attributes[m];1==g.specified&&p.setAttribute(g.name,g.value)}for(a=c.parentNode;null!==a&&"body"!=a.tagName.toLowerCase();){if("p"==a.parentNode.tagName.toLowerCase()){a.parentNode.parentNode.insertBefore(a,a.parentNode);break}a=a.parentNode}switch(e.isVideo?(u=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:null!==c.getAttribute("width")?c.getAttribute("width"):t.defaultVideoWidth,d=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:null!==c.getAttribute("height")?c.getAttribute("height"):t.defaultVideoHeight,u=mejs.Utility.encodeUrl(u),d=mejs.Utility.encodeUrl(d)):t.enablePluginDebug&&(u=320,d=240),p.success=t.success,mejs.MediaPluginBridge.registerPluginElement(h,p,c),f.className="me-plugin",f.id=h+"_container",e.isVideo?c.parentNode.insertBefore(f,c):document.body.insertBefore(f,document.body.childNodes[0]),l=["id="+h,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(n?"true":"false"),"preload="+o,"width="+u,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+d,"pseudostreamstart="+t.pseudoStreamingStartQueryParam],null!==e.url&&("flash"==e.method?l.push("file="+mejs.Utility.encodeUrl(e.url)):l.push("file="+e.url)),t.enablePluginDebug&&l.push("debug=true"),t.enablePluginSmoothing&&l.push("smoothing=true"),t.enablePseudoStreaming&&l.push("pseudostreaming=true"),s&&l.push("controls=true"),t.pluginVars&&(l=l.concat(t.pluginVars)),e.method){case"silverlight":f.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+h+'" name="'+h+'" width="'+u+'" height="'+d+'" class="mejs-shim"><param name="initParams" value="'+l.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(r=document.createElement("div"),f.appendChild(r),r.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+h+'" width="'+u+'" height="'+d+'" class="mejs-shim"><param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+l.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):f.innerHTML='<embed id="'+h+'" name="'+h+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+l.join("&")+'" width="'+u+'" height="'+d+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var _=e.url.substr(e.url.lastIndexOf("=")+1);youtubeSettings={container:f,containerId:f.id,pluginMediaElement:p,pluginId:h,videoId:_,height:d,width:u},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":p.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),f.innerHTML='<iframe src="http://player.vimeo.com/video/'+p.vimeoid+'?portrait=0&byline=0&title=0" width="'+u+'" height="'+d+'" frameborder="0" class="mejs-shim"></iframe>'}return c.style.display="none",c.removeAttribute("autoplay"),p},updateNative:function(e,t){var i,n=e.htmlMediaElement;for(i in mejs.HtmlMediaElement)n[i]=mejs.HtmlMediaElement[i];return t.success(n,n),n}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="//www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,i=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=i,mejs.MediaPluginBridge.initPlugin(e.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(i,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,i,t)}}})},createEvent:function(e,t,i){var n={type:i,target:t};if(e&&e.getDuration){t.currentTime=n.currentTime=e.getCurrentTime(),t.duration=n.duration=e.getDuration(),n.paused=t.paused,n.ended=t.ended,n.muted=e.isMuted(),n.volume=e.getVolume()/100,n.bytesTotal=e.getVideoBytesTotal(),n.bufferedBytes=e.getVideoBytesLoaded();var o=n.bufferedBytes/n.bytesTotal*n.duration;n.target.buffered=n.buffered={start:function(){return 0},end:function(){return o},length:1}}t.dispatchEvent(n.type,n)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,i="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim"><param name="movie" value="'+i+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+i+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var t=this.flashPlayers[e],i=document.getElementById(e),n=t.pluginMediaElement;n.pluginApi=n.pluginElement=i,mejs.MediaPluginBridge.initPlugin(e),i.cueVideoById(t.videoId);var o=t.containerId+"_callback";window[o]=function(e){mejs.YouTubeApi.handleStateChange(e,i,n)},i.addEventListener("onStateChange",o),setInterval(function(){mejs.YouTubeApi.createEvent(i,n,"timeupdate")},250)},handleStateChange:function(e,t,i){switch(e){case-1:i.paused=!0,i.ended=!0,mejs.YouTubeApi.createEvent(t,i,"loadedmetadata");break;case 0:i.paused=!1,i.ended=!0,mejs.YouTubeApi.createEvent(t,i,"ended");break;case 1:i.paused=!1,i.ended=!1,mejs.YouTubeApi.createEvent(t,i,"play"),mejs.YouTubeApi.createEvent(t,i,"playing");break;case 2:i.paused=!0,i.ended=!1,mejs.YouTubeApi.createEvent(t,i,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,i,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(e,t){"use strict";var i={locale:{language:"",strings:{}},methods:{}};i.getLanguage=function(){var e=i.locale.language||window.navigator.userLanguage||window.navigator.language;return e.substr(0,2).toLowerCase()},"undefined"!=typeof mejsL10n&&(i.locale.language=mejsL10n.language),i.methods.checkPlain=function(e){var t,i,n={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};e=String(e);for(t in n)n.hasOwnProperty(t)&&(i=new RegExp(t,"g"),e=e.replace(i,n[t]));return e},i.methods.t=function(e,t){return i.locale.strings&&i.locale.strings[t.context]&&i.locale.strings[t.context][e]&&(e=i.locale.strings[t.context][e]),i.methods.checkPlain(e)},i.t=function(e,t){if("string"==typeof e&&e.length>0){var n=i.getLanguage();return t=t||{context:n},i.methods.t(e,t)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},t.i18n=i}(document,mejs),function(e){"use strict";"undefined"!=typeof mejsL10n&&(e[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(e){"use strict";"undefined"==typeof e.de&&(e.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schließen"})}(mejs.i18n.locale.strings),function(e){"use strict";"undefined"==typeof e.zh&&(e.zh={Fullscreen:"全螢幕","Go Fullscreen":"全屏模式","Turn off Fullscreen":"退出全屏模式",Close:"關閉"})}(mejs.i18n.locale.strings),"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?e.play():e.pause()}},{keys:[38],action:function(e,t){var i=Math.min(t.volume+.1,1);t.setVolume(i)}},{keys:[40],action:function(e,t){var i=Math.max(t.volume-.1,0);t.setVolume(i)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(i)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(i)}}},{keys:[70],action:function(e){"undefined"!=typeof e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(t,i){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(t,i);var n=this;return n.$media=n.$node=e(t),n.node=n.media=n.$media[0],"undefined"!=typeof n.node.player?n.node.player:(n.node.player=n,"undefined"==typeof i&&(i=n.$node.data("mejsoptions")),n.options=e.extend({},mejs.MepDefaults,i),n.id="mep_"+mejs.mepIndex++,mejs.players[n.id]=n,n.init(),n)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,i=mejs.MediaFeatures,n=e.extend(!0,{},t.options,{success:function(e,i){t.meReady(e,i)},error:function(e){t.handleError(e)}}),o=t.media.tagName.toLowerCase();if(t.isDynamic="audio"!==o&&"video"!==o,t.isDynamic?t.isVideo=t.options.isVideo:t.isVideo="audio"!==o&&t.options.isVideo,i.isiPad&&t.options.iPadUseNativeControls||i.isiPhone&&t.options.iPhoneUseNativeControls)t.$media.attr("controls","controls"),i.isiPad&&null!==t.media.getAttribute("autoplay")&&t.play();else if(i.isAndroid&&t.options.AndroidUseNativeControls);else{if(t.$media.removeAttr("controls"),t.container=e('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(t.$media[0].className).insertBefore(t.$media),t.container.addClass((i.isAndroid?"mejs-android ":"")+(i.isiOS?"mejs-ios ":"")+(i.isiPad?"mejs-ipad ":"")+(i.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),i.isiOS){var s=t.$media.clone();t.container.find(".mejs-mediaelement").append(s),t.$media.remove(),t.$node=t.$media=s,t.node=t.media=s[0]}else t.container.find(".mejs-mediaelement").append(t.$media);t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers");var r=t.isVideo?"video":"audio",a=r.substring(0,1).toUpperCase()+r.substring(1);t.options[r+"Width"]>0||t.options[r+"Width"].toString().indexOf("%")>-1?t.width=t.options[r+"Width"]:""!==t.media.style.width&&null!==t.media.style.width?t.width=t.media.style.width:null!==t.media.getAttribute("width")?t.width=t.$media.attr("width"):t.width=t.options["default"+a+"Width"],t.options[r+"Height"]>0||t.options[r+"Height"].toString().indexOf("%")>-1?t.height=t.options[r+"Height"]:""!==t.media.style.height&&null!==t.media.style.height?t.height=t.media.style.height:null!==t.$media[0].getAttribute("height")?t.height=t.$media.attr("height"):t.height=t.options["default"+a+"Height"],t.setPlayerSize(t.width,t.height),n.pluginWidth=t.width,n.pluginHeight=t.height}mejs.MediaElement(t.$media[0],n),"undefined"!=typeof t.container&&t.controlsAreVisible&&t.container.trigger("controlsshown")},showControls:function(e){var t=this;e="undefined"==typeof e||e,t.controlsAreVisible||(e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0,t.container.trigger("controlsshown")}),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(t){var i=this;t="undefined"==typeof t||t,i.controlsAreVisible&&!i.options.alwaysShowControls&&(t?(i.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block"),i.controlsAreVisible=!1,i.container.trigger("controlshidden")}),i.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})):(i.controls.css("visibility","hidden").css("display","block"),i.container.find(".mejs-control").css("visibility","hidden").css("display","block"),i.controlsAreVisible=!1,i.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(e){var t=this;e="undefined"!=typeof e?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(){var e=this;null!==e.controlsTimer&&(clearTimeout(e.controlsTimer),delete e.controlsTimer,e.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer(),e.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1),e.controlsEnabled=!0;
},meReady:function(e,t){var i,n,o=this,s=mejs.MediaFeatures,r=t.getAttribute("autoplay"),a=!("undefined"==typeof r||null===r||"false"===r);if(!o.created){if(o.created=!0,o.media=e,o.domNode=t,!(s.isAndroid&&o.options.AndroidUseNativeControls||s.isiPad&&o.options.iPadUseNativeControls||s.isiPhone&&o.options.iPhoneUseNativeControls)){o.buildposter(o,o.controls,o.layers,o.media),o.buildkeyboard(o,o.controls,o.layers,o.media),o.buildoverlays(o,o.controls,o.layers,o.media),o.findTracks();for(i in o.options.features)if(n=o.options.features[i],o["build"+n])try{o["build"+n](o,o.controls,o.layers,o.media)}catch(l){}o.container.trigger("controlsready"),o.setPlayerSize(o.width,o.height),o.setControlsSize(),o.isVideo&&(mejs.MediaFeatures.hasTouch?o.$media.bind("touchstart",function(){o.controlsAreVisible?o.hideControls(!1):o.controlsEnabled&&o.showControls(!1)}):(mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){o.options.clickToPlayPause&&(o.media.paused?o.play():o.pause())},o.media.addEventListener("click",o.clickToPlayPauseCallback,!1),o.container.bind("mouseenter mouseover",function(){o.controlsEnabled&&(o.options.alwaysShowControls||(o.killControlsTimer("enter"),o.showControls(),o.startControlsTimer(2500)))}).bind("mousemove",function(){o.controlsEnabled&&(o.controlsAreVisible||o.showControls(),o.options.alwaysShowControls||o.startControlsTimer(2500))}).bind("mouseleave",function(){o.controlsEnabled&&(o.media.paused||o.options.alwaysShowControls||o.startControlsTimer(1e3))})),o.options.hideVideoControlsOnLoad&&o.hideControls(!1),a&&!o.options.alwaysShowControls&&o.hideControls(),o.options.enableAutosize&&o.media.addEventListener("loadedmetadata",function(e){o.options.videoHeight<=0&&null===o.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(o.setPlayerSize(e.target.videoWidth,e.target.videoHeight),o.setControlsSize(),o.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),e.addEventListener("play",function(){var e;for(e in mejs.players){var t=mejs.players[e];t.id==o.id||!o.options.pauseOtherPlayers||t.paused||t.ended||t.pause(),t.hasFocus=!1}o.hasFocus=!0},!1),o.media.addEventListener("ended",function(){if(o.options.autoRewind)try{o.media.setCurrentTime(0)}catch(e){}o.media.pause(),o.setProgressRail&&o.setProgressRail(),o.setCurrentRail&&o.setCurrentRail(),o.options.loop?o.play():!o.options.alwaysShowControls&&o.controlsEnabled&&o.showControls()},!1),o.media.addEventListener("loadedmetadata",function(){o.updateDuration&&o.updateDuration(),o.updateCurrent&&o.updateCurrent(),o.isFullScreen||(o.setPlayerSize(o.width,o.height),o.setControlsSize())},!1),setTimeout(function(){o.setPlayerSize(o.width,o.height),o.setControlsSize()},50),o.globalBind("resize",function(){o.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||o.setPlayerSize(o.width,o.height),o.setControlsSize()}),"youtube"==o.media.pluginType&&o.container.find(".mejs-overlay-play").hide()}a&&"native"==e.pluginType&&o.play(),o.options.success&&("string"==typeof o.options.success?window[o.options.success](o.media,o.domNode,o):o.options.success(o.media,o.domNode,o))}},handleError:function(e){var t=this;t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(t,i){var n=this;if("undefined"!=typeof t&&(n.width=t),"undefined"!=typeof i&&(n.height=i),n.height.toString().indexOf("%")>0||"100%"===n.$node.css("max-width")||parseInt(n.$node.css("max-width").replace(/px/,""),10)/n.$node.offsetParent().width()===1||n.$node[0].currentStyle&&"100%"===n.$node[0].currentStyle.maxWidth){var o=n.isVideo?n.media.videoWidth&&n.media.videoWidth>0?n.media.videoWidth:n.options.defaultVideoWidth:n.options.defaultAudioWidth,s=n.isVideo?n.media.videoHeight&&n.media.videoHeight>0?n.media.videoHeight:n.options.defaultVideoHeight:n.options.defaultAudioHeight,r=n.container.parent().closest(":visible").width(),a=n.isVideo||!n.options.autosizeProgress?parseInt(r*s/o,10):s;"body"===n.container.parent()[0].tagName.toLowerCase()&&(r=e(window).width(),a=e(window).height()),0!=a&&0!=r&&(n.container.width(r).height(a),n.$media.add(n.container.find(".mejs-shim")).width("100%").height("100%"),n.isVideo&&n.media.setVideoSize&&n.media.setVideoSize(r,a),n.layers.children(".mejs-layer").width("100%").height("100%"))}else n.container.width(n.width).height(n.height),n.layers.children(".mejs-layer").width(n.width).height(n.height);var l=n.layers.find(".mejs-overlay-play"),c=l.find(".mejs-overlay-button");l.height(n.container.height()-n.controls.height()),c.css("margin-top","-"+(c.height()/2-n.controls.height()/2).toString()+"px")},setControlsSize:function(){var t=this,i=0,n=0,o=t.controls.find(".mejs-time-rail"),s=t.controls.find(".mejs-time-total"),r=(t.controls.find(".mejs-time-current"),t.controls.find(".mejs-time-loaded"),o.siblings());t.options&&!t.options.autosizeProgress&&(n=parseInt(o.css("width"))),0!==n&&n||(r.each(function(){var t=e(this);"absolute"!=t.css("position")&&t.is(":visible")&&(i+=e(this).outerWidth(!0))}),n=t.controls.width()-i-(o.outerWidth(!0)-o.width())),n-=2,o.width(n),s.width(n-(s.outerWidth(!0)-s.width())),t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail()},buildposter:function(t,i,n,o){var s=this,r=e('<div class="mejs-poster mejs-layer"></div>').appendTo(n),a=t.$media.attr("poster");""!==t.options.poster&&(a=t.options.poster),""!==a&&null!=a?s.setPoster(a):r.hide(),o.addEventListener("play",function(){r.hide()},!1),t.options.showPosterWhenEnded&&t.options.autoRewind&&o.addEventListener("ended",function(){r.show()},!1)},setPoster:function(t){var i=this,n=i.container.find(".mejs-poster"),o=n.find("img");0==o.length&&(o=e('<img width="100%" height="100%" />').appendTo(n)),o.attr("src",t),n.css({"background-image":"url("+t+")"})},buildoverlays:function(t,i,n,o){var s=this;if(t.isVideo){var r=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(n),a=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(n),l=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(n).bind("click touchstart",function(){s.options.clickToPlayPause&&o.paused&&s.play()});o.addEventListener("play",function(){l.hide(),r.hide(),i.find(".mejs-time-buffering").hide(),a.hide()},!1),o.addEventListener("playing",function(){l.hide(),r.hide(),i.find(".mejs-time-buffering").hide(),a.hide()},!1),o.addEventListener("seeking",function(){r.show(),i.find(".mejs-time-buffering").show()},!1),o.addEventListener("seeked",function(){r.hide(),i.find(".mejs-time-buffering").hide()},!1),o.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||l.show()},!1),o.addEventListener("waiting",function(){r.show(),i.find(".mejs-time-buffering").show()},!1),o.addEventListener("loadeddata",function(){r.show(),i.find(".mejs-time-buffering").show()},!1),o.addEventListener("canplay",function(){r.hide(),i.find(".mejs-time-buffering").hide()},!1),o.addEventListener("error",function(){r.hide(),i.find(".mejs-time-buffering").hide(),a.show(),a.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(t,i,n,o){var s=this;s.globalBind("keydown",function(e){if(t.hasFocus&&t.options.enableKeyboard)for(var i=0,n=t.options.keyActions.length;n>i;i++)for(var s=t.options.keyActions[i],r=0,a=s.keys.length;a>r;r++)if(e.keyCode==s.keys[r])return e.preventDefault(),s.action(t,o,e.keyCode),!1;return!0}),s.globalBind("click",function(i){0==e(i.target).closest(".mejs-container").length&&(t.hasFocus=!1)})},findTracks:function(){var t=this,i=t.$media.find("track");t.tracks=[],i.each(function(i,n){n=e(n),t.tracks.push({srclang:n.attr("srclang")?n.attr("srclang").toLowerCase():"",src:n.attr("src"),kind:n.attr("kind"),label:n.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e,t,i=this;for(e in i.options.features)if(t=i.options.features[e],i["clean"+t])try{i["clean"+t](i)}catch(n){}i.isDynamic?i.$node.insertBefore(i.container):(i.$media.prop("controls",!0),i.$node.clone().show().insertBefore(i.container),i.$node.remove()),"native"!==i.media.pluginType&&i.media.remove(),delete mejs.players[i.id],i.container.remove(),i.globalUnbind(),delete i.node.player}},function(){function t(t,n){var o={d:[],w:[]};return e.each((t||"").split(" "),function(e,t){var s=t+"."+n;0===s.indexOf(".")?(o.d.push(s),o.w.push(s)):o[i.test(t)?"w":"d"].push(s)}),o.d=o.d.join(" "),o.w=o.w.join(" "),o}var i=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(i,n,o){var s=this;i=t(i,s.id),i.d&&e(document).bind(i.d,n,o),i.w&&e(window).bind(i.w,n,o)},mejs.MediaElementPlayer.prototype.globalUnbind=function(i,n){var o=this;i=t(i,o.id),i.d&&e(document).unbind(i.d,n),i.w&&e(window).unbind(i.w,n)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(e){return e===!1?this.each(function(){var e=jQuery(this).data("mediaelementplayer");e&&e.remove(),jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,e))}),this}),e(document).ready(function(){e(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(e){e.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,i,n,o){var s=this,r=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+s.id+'" title="'+s.options.playpauseText+'" aria-label="'+s.options.playpauseText+'"></button></div>').appendTo(i).click(function(e){return e.preventDefault(),o.paused?o.play():o.pause(),!1});o.addEventListener("play",function(){r.removeClass("mejs-play").addClass("mejs-pause")},!1),o.addEventListener("playing",function(){r.removeClass("mejs-play").addClass("mejs-pause")},!1),o.addEventListener("pause",function(){r.removeClass("mejs-pause").addClass("mejs-play")},!1),o.addEventListener("paused",function(){r.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,i,n,o){var s=this;e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+s.id+'" title="'+s.options.stopText+'" aria-label="'+s.options.stopText+'"></button></div>').appendTo(i).click(function(){o.paused||o.pause(),o.currentTime>0&&(o.setCurrentTime(0),o.pause(),i.find(".mejs-time-current").width("0px"),i.find(".mejs-time-handle").css("left","0px"),i.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),i.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-poster").show())})}})}(mejs.$),function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,i,n,o){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(i),i.find(".mejs-time-buffering").hide();var s=this,r=i.find(".mejs-time-total"),a=i.find(".mejs-time-loaded"),l=i.find(".mejs-time-current"),c=i.find(".mejs-time-handle"),u=i.find(".mejs-time-float"),d=i.find(".mejs-time-float-current"),h=function(e){var t=e.pageX,i=r.offset(),n=r.outerWidth(!0),s=0,a=0,l=0;o.duration&&(t<i.left?t=i.left:t>n+i.left&&(t=n+i.left),l=t-i.left,s=l/n,a=.02>=s?0:s*o.duration,p&&a!==o.currentTime&&o.setCurrentTime(a),mejs.MediaFeatures.hasTouch||(u.css("left",l),d.html(mejs.Utility.secondsToTimeCode(a)),u.show()))},p=!1,f=!1;r.bind("mousedown",function(e){return 1===e.which?(p=!0,h(e),s.globalBind("mousemove.dur",function(e){h(e)}),s.globalBind("mouseup.dur",function(){p=!1,u.hide(),s.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(){f=!0,s.globalBind("mousemove.dur",function(e){h(e)}),mejs.MediaFeatures.hasTouch||u.show()}).bind("mouseleave",function(){f=!1,p||(s.globalUnbind(".dur"),u.hide())}),o.addEventListener("progress",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),o.addEventListener("timeupdate",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),s.loaded=a,s.total=r,s.current=l,s.handle=c},setProgressRail:function(e){var t=this,i=void 0!=e?e.target:t.media,n=null;i&&i.buffered&&i.buffered.length>0&&i.buffered.end&&i.duration?n=i.buffered.end(0)/i.duration:i&&void 0!=i.bytesTotal&&i.bytesTotal>0&&void 0!=i.bufferedBytes?n=i.bufferedBytes/i.bytesTotal:e&&e.lengthComputable&&0!=e.total&&(n=e.loaded/e.total),null!==n&&(n=Math.min(1,Math.max(0,n)),t.loaded&&t.total&&t.loaded.width(t.total.width()*n))},setCurrentRail:function(){var e=this;if(void 0!=e.media.currentTime&&e.media.duration&&e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),i=t-Math.round(e.handle.outerWidth(!0)/2);e.current.width(t),e.handle.css("left",i)}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,i,n,o){var s=this;e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(i),s.currenttime=s.controls.find(".mejs-currenttime"),o.addEventListener("timeupdate",function(){t.updateCurrent()},!1)},buildduration:function(t,i,n,o){var s=this;i.children().last().find(".mejs-currenttime").length>0?e(s.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(i.find(".mejs-time")):(i.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(i)),s.durationD=s.controls.find(".mejs-duration"),o.addEventListener("timeupdate",function(){t.updateDuration()},!1)},updateCurrent:function(){var e=this;e.currenttime&&e.currenttime.html(mejs.Utility.secondsToTimeCode(e.media.currentTime,e.options.alwaysShowHours||e.media.duration>3600,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))},updateDuration:function(){var e=this;e.container.toggleClass("mejs-long-video",e.media.duration>3600),e.durationD&&(e.options.duration>0||e.media.duration)&&e.durationD.html(mejs.Utility.secondsToTimeCode(e.options.duration>0?e.options.duration:e.media.duration,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,i,n,o){if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var s=this,r=s.isVideo?s.options.videoVolume:s.options.audioVolume,a="horizontal"==r?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(i):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(i),l=s.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),c=s.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),u=s.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),d=s.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!l.is(":visible")&&"undefined"==typeof t)return l.show(),h(e,!0),void l.hide();if(e=Math.max(0,e),e=Math.min(e,1),0==e?a.removeClass("mejs-mute").addClass("mejs-unmute"):a.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==r){var i=c.height(),n=c.position(),o=i-i*e;d.css("top",Math.round(n.top+o-d.height()/2)),u.height(i-o),u.css("top",n.top+o)}else{var s=c.width(),n=c.position(),p=s*e;d.css("left",Math.round(n.left+p-d.width()/2)),u.width(Math.round(p))}},p=function(e){var t=null,i=c.offset();if("vertical"==r){var n=c.height(),s=(parseInt(c.css("top").replace(/px/,""),10),e.pageY-i.top);if(t=(n-s)/n,0==i.top||0==i.left)return}else{var a=c.width(),l=e.pageX-i.left;t=l/a}t=Math.max(0,t),t=Math.min(t,1),h(t),0==t?o.setMuted(!0):o.setMuted(!1),o.setVolume(t)},f=!1,m=!1;a.hover(function(){l.show(),m=!0},function(){m=!1,f||"vertical"!=r||l.hide()}),l.bind("mouseover",function(){m=!0}).bind("mousedown",function(e){return p(e),s.globalBind("mousemove.vol",function(e){p(e)}),s.globalBind("mouseup.vol",function(){f=!1,s.globalUnbind(".vol"),m||"vertical"!=r||l.hide()}),f=!0,!1}),a.find("button").click(function(){o.setMuted(!o.muted)}),o.addEventListener("volumechange",function(){f||(o.muted?(h(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(h(o.volume),a.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),s.container.is(":visible")&&(h(t.options.startVolume),0===t.options.startVolume&&o.setMuted(!0),"native"===o.pluginType&&o.setVolume(t.options.startVolume))}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(t,i,n,o){if(t.isVideo){if(t.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){var s=function(){t.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))};mejs.MediaFeatures.hasMozNativeFullScreen?t.globalBind(mejs.MediaFeatures.fullScreenEventName,s):t.container.bind(mejs.MediaFeatures.fullScreenEventName,s)}var r=this,a=(t.container,e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+r.id+'" title="'+r.options.fullscreenText+'" aria-label="'+r.options.fullscreenText+'"></button></div>').appendTo(i));if("native"===r.media.pluginType||!r.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)a.click(function(){var e=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;e?t.exitFullScreen():t.enterFullScreen()});else{var l=null,c=function(){var e,t=document.createElement("x"),i=document.documentElement,n=window.getComputedStyle;return"pointerEvents"in t.style?(t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t),e=n&&"auto"===n(t,"").pointerEvents,i.removeChild(t),!!e):!1}();if(c&&!mejs.MediaFeatures.isOpera){var u,d,h=!1,p=function(){if(h){for(var e in f)f[e].hide();a.css("pointer-events",""),r.controls.css("pointer-events",""),r.media.removeEventListener("click",r.clickToPlayPauseCallback),h=!1}},f={},m=["top","left","right","bottom"],g=function(){var e=a.offset().left-r.container.offset().left,t=a.offset().top-r.container.offset().top,i=a.outerWidth(!0),n=a.outerHeight(!0),o=r.container.width(),s=r.container.height();for(u in f)f[u].css({position:"absolute",top:0,left:0});f.top.width(o).height(t),f.left.width(e).height(n).css({top:t}),f.right.width(o-e-i).height(n).css({top:t,left:e+i}),f.bottom.width(o).height(s-n-t).css({top:t+n})};for(r.globalBind("resize",function(){g()}),u=0,d=m.length;d>u;u++)f[m[u]]=e('<div class="mejs-fullscreen-hover" />').appendTo(r.container).mouseover(p).hide();a.on("mouseover",function(){if(!r.isFullScreen){var e=a.offset(),i=t.container.offset();o.positionFullscreenButton(e.left-i.left,e.top-i.top,!1),a.css("pointer-events","none"),r.controls.css("pointer-events","none"),r.media.addEventListener("click",r.clickToPlayPauseCallback);for(u in f)f[u].show();g(),h=!0}}),o.addEventListener("fullscreenchange",function(){r.isFullScreen=!r.isFullScreen,r.isFullScreen?r.media.removeEventListener("click",r.clickToPlayPauseCallback):r.media.addEventListener("click",r.clickToPlayPauseCallback),p()}),r.globalBind("mousemove",function(e){if(h){var t=a.offset();(e.pageY<t.top||e.pageY>t.top+a.outerHeight(!0)||e.pageX<t.left||e.pageX>t.left+a.outerWidth(!0))&&(a.css("pointer-events",""),r.controls.css("pointer-events",""),h=!1)}})}else a.on("mouseover",function(){null!==l&&(clearTimeout(l),delete l);var e=a.offset(),i=t.container.offset();o.positionFullscreenButton(e.left-i.left,e.top-i.top,!0)}).on("mouseout",function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout(function(){o.hideFullscreenButton()},1500)})}t.fullscreenBtn=a,r.globalBind("keydown",function(e){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||r.isFullScreen)&&27==e.keyCode&&t.exitFullScreen()})}},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if("native"===t.media.pluginType||!mejs.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){if(e(document.documentElement).addClass("mejs-fullscreen"),normalHeight=t.container.height(),normalWidth=t.container.width(),"native"===t.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function n(){t.isNativeFullScreen&&(e(window).width()!==screen.width?t.exitFullScreen():setTimeout(n,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return void t.media.webkitEnterFullscreen();if(t.isInIframe){var i=t.options.newWindowCallback(this);if(""!==i){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return t.pause(),void window.open(i,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(i,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),t.containerSizeTimeout=setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),"native"===t.media.pluginType?t.$media.width("100%").height("100%"):(t.container.find(".mejs-shim").width("100%").height("100%"),t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0,e(window).trigger("resize")}},exitFullScreen:function(){var t=this;return clearTimeout(t.containerSizeTimeout),"native"!==t.media.pluginType&&mejs.MediaFeatures.isFirefox?void t.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),e(document.documentElement).removeClass("mejs-fullscreen"),t.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===t.media.pluginType?t.$media.width(normalWidth).height(normalHeight):(t.container.find(".mejs-shim").width(normalWidth).height(normalHeight),t.media.setVideoSize(normalWidth,normalHeight)),t.layers.children("div").width(normalWidth).height(normalHeight),t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),t.setControlsSize(),t.isFullScreen=!1,void e(window).trigger("resize"))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(t,i,n,o){if(0!=t.tracks.length){var s,r=this;if(r.domNode.textTracks)for(var s=r.domNode.textTracks.length-1;s>=0;s--)r.domNode.textTracks[s].mode="hidden";t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(n).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(n).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+r.id+'" title="'+r.options.tracksText+'" aria-label="'+r.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(i);var a=0;for(s=0;s<t.tracks.length;s++)"subtitles"==t.tracks[s].kind&&a++;for(r.options.toggleCaptionsButtonWhenOnlyOne&&1==a?t.captionsButton.on("click",function(){if(null==t.selectedTrack)var e=t.tracks[0].srclang;else var e="none";t.setTrack(e)}):t.captionsButton.hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value,t.setTrack(lang)}),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("controlsshown",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){o.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,s=0;s<t.tracks.length;s++)"subtitles"==t.tracks[s].kind&&t.addTrackButton(t.tracks[s].srclang,t.tracks[s].label);t.loadNextTrack(),o.addEventListener("timeupdate",function(){t.displayCaptions()},!1),""!=t.options.slidesSelector&&(t.slidesContainer=e(t.options.slidesSelector),o.addEventListener("timeupdate",function(){t.displaySlides()},!1)),o.addEventListener("loadedmetadata",function(){t.displayChapters()},!1),t.container.hover(function(){t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!o.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden"),e(this).css("display","block")})}),null!==t.node.getAttribute("autoplay")&&t.chapters.css("visibility","hidden")}},setTrack:function(e){var t,i=this;if("none"==e)i.selectedTrack=null,i.captionsButton.removeClass("mejs-captions-enabled");else for(t=0;t<i.tracks.length;t++)if(i.tracks[t].srclang==e){null==i.selectedTrack&&i.captionsButton.addClass("mejs-captions-enabled"),i.selectedTrack=i.tracks[t],i.captions.attr("lang",i.selectedTrack.srclang),i.displayCaptions();break}},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):(e.isLoadingTrack=!1,e.checkForTracks())},loadTrack:function(t){var i=this,n=i.tracks[t],o=function(){n.isLoaded=!0,i.enableTrackButton(n.srclang,n.label),i.loadNextTrack()};e.ajax({url:n.src,dataType:"text",success:function(e){"string"==typeof e&&/<tt\s+xml/gi.exec(e)?n.entries=mejs.TrackFormatParser.dfxp.parse(e):n.entries=mejs.TrackFormatParser.webvvt.parse(e),o(),"chapters"==n.kind&&i.media.addEventListener("play",function(){i.media.duration>0&&i.displayChapters(n)},!1),"slides"==n.kind&&i.setupSlides(n)},error:function(){i.loadNextTrack()}})},enableTrackButton:function(t,i){var n=this;""===i&&(i=mejs.language.codes[t]||t),n.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(i),n.options.startLanguage==t&&e("#"+n.id+"_captions_"+t).click(),n.adjustLanguageBox()},addTrackButton:function(t,i){var n=this;""===i&&(i=mejs.language.codes[t]||t),n.captionsButton.find("ul").append(e('<li><input type="radio" name="'+n.id+'_captions" id="'+n.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+n.id+"_captions_"+t+'">'+i+" (loading)</label></li>")),n.adjustLanguageBox(),n.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+e.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var e=this,t=!1;if(e.options.hideCaptionsButtonWhenEmpty){for(i=0;i<e.tracks.length;i++)if("subtitles"==e.tracks[i].kind){t=!0;break}t||(e.captionsButton.hide(),e.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var e,t=this,i=t.selectedTrack;if(null!=i&&i.isLoaded){for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return t.captionsText.html(i.entries.text[e]),void t.captions.show().height(0);t.captions.hide()}else t.captions.hide()}},setupSlides:function(e){var t=this;t.slides=e,t.slides.entries.imgs=[t.slides.entries.text.length],t.showSlide(0)},showSlide:function(t){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var i=this,n=i.slides.entries.text[t],o=i.slides.entries.imgs[t];"undefined"==typeof o||"undefined"==typeof o.fadeIn?i.slides.entries.imgs[t]=o=e('<img src="'+n+'">').on("load",function(){o.appendTo(i.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):o.is(":visible")||o.is(":animated")||o.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var e,t=this,i=t.slides;for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return void t.showSlide(e)}},displayChapters:function(){var e,t=this;for(e=0;e<t.tracks.length;e++)if("chapters"==t.tracks[e].kind&&t.tracks[e].isLoaded){t.drawChapters(t.tracks[e]),t.hasChapters=!0;break}},drawChapters:function(t){var i,n,o=this,s=0,r=0;for(o.chapters.empty(),i=0;i<t.entries.times.length;i++)n=t.entries.times[i].stop-t.entries.times[i].start,s=Math.floor(n/o.media.duration*100),(s+r>100||i==t.entries.times.length-1&&100>s+r)&&(s=100-r),o.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[i].start+'" style="left: '+r.toString()+"%;width: "+s.toString()+'%;"><div class="mejs-chapter-block'+(i==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[i]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[i].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[i].stop)+"</span></div></div>")),
r+=s;o.chapters.find("div.mejs-chapter").click(function(){o.media.setCurrentTime(parseFloat(e(this).attr("rel"))),o.media.paused&&o.media.play()}),o.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){for(var i,n,o=0,s=mejs.TrackFormatParser.split2(t,/\r?\n/),r={text:[],times:[]};o<s.length;o++)if(this.pattern_identifier.exec(s[o])&&(o++,i=this.pattern_timecode.exec(s[o]),i&&o<s.length)){for(o++,n=s[o],o++;""!==s[o]&&o<s.length;)n=n+"\n"+s[o],o++;n=e.trim(n).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),r.text.push(n),r.times.push({start:0==mejs.Utility.convertSMPTEtoSeconds(i[1])?.2:mejs.Utility.convertSMPTEtoSeconds(i[1]),stop:mejs.Utility.convertSMPTEtoSeconds(i[3]),settings:i[5]})}return r}},dfxp:{parse:function(t){t=e(t).filter("tt");var i,n,o=0,s=t.children("div").eq(0),r=s.find("p"),a=t.find("#"+s.attr("style")),l={text:[],times:[]};if(a.length){var c=a.removeAttr("id").get(0).attributes;if(c.length)for(i={},o=0;o<c.length;o++)i[c[o].name.split(":")[1]]=c[o].value}for(o=0;o<r.length;o++){var u,d={start:null,stop:null,style:null};if(r.eq(o).attr("begin")&&(d.start=mejs.Utility.convertSMPTEtoSeconds(r.eq(o).attr("begin"))),!d.start&&r.eq(o-1).attr("end")&&(d.start=mejs.Utility.convertSMPTEtoSeconds(r.eq(o-1).attr("end"))),r.eq(o).attr("end")&&(d.stop=mejs.Utility.convertSMPTEtoSeconds(r.eq(o).attr("end"))),!d.stop&&r.eq(o+1).attr("begin")&&(d.stop=mejs.Utility.convertSMPTEtoSeconds(r.eq(o+1).attr("begin"))),i){u="";for(var h in i)u+=h+":"+i[h]+";"}u&&(d.style=u),0==d.start&&(d.start=.2),l.times.push(d),n=e.trim(r.eq(o).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),l.text.push(n),0==l.times.start&&(l.times.start=2)}return l}},split2:function(e,t){return e.split(t)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(e,t){var i,n=[],o="";for(i=0;i<e.length;i++)o+=e.substring(i,i+1),t.test(o)&&(n.push(o.replace(t,"")),o="");return n.push(o),n})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){return"undefined"==typeof e.enterFullScreen?null:e.isFullScreen?mejs.i18n.t("Turn off Fullscreen"):mejs.i18n.t("Go Fullscreen")},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?mejs.i18n.t("Unmute"):mejs.i18n.t("Mute")},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",function(e){return t.isContextMenuEnabled?(e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1):void 0}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;null!=e&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,i){for(var n=this,o="",s=n.options.contextMenuItems,r=0,a=s.length;a>r;r++)if(s[r].isSeparator)o+='<div class="mejs-contextmenu-separator"></div>';else{var l=s[r].render(n);null!=l&&(o+='<div class="mejs-contextmenu-item" data-itemindex="'+r+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}n.contextMenu.empty().append(e(o)).css({top:i,left:t}).show(),n.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),i=parseInt(t.data("itemindex"),10),o=n.options.contextMenuItems[i];"undefined"!=typeof o.show&&o.show(t,n),t.click(function(){"undefined"!=typeof o.click&&o.click(n),n.contextMenu.hide()})}),setTimeout(function(){n.killControlsTimer("rev3")},100)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),e.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,i,n){var o=this,s=o.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof s&&(t.postroll=e('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+o.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(n).hide(),o.media.addEventListener("ended",function(){e.ajax({dataType:"html",url:s,success:function(e){n.find(".mejs-postroll-layer-content").html(e)}}),t.postroll.show()},!1))}})}(mejs.$),function(){var e,t,i,n,o,s,r,a,l,c,u,d,h,p,f,m,g,_,v,y,b,w,x,T,C,S,k,$,E,D,M,A,O=[].slice;g='<span class="odometer-value"></span>',p='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+g+"</span></span>",n='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+p+"</span></span>",r='<span class="odometer-formatting-mark"></span>',i="(,ddd).dd",a=/^\(?([^)]*)\)?(?:(.)(d+))?$/,l=30,s=2e3,e=20,c=2,o=.5,u=1e3/l,t=1e3/e,f="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",C=document.createElement("div").style,m=null!=C.transition||null!=C.webkitTransition||null!=C.mozTransition||null!=C.oTransition,x=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,v=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.children[0]},w=function(e,t){return e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")},_=function(e,t){return w(e,t),e.className+=" "+t},S=function(e,t){var i;return null!=document.createEvent?(i=document.createEvent("HTMLEvents"),i.initEvent(t,!0,!0),e.dispatchEvent(i)):void 0},b=function(){var e,t;return null!=(e=null!=(t=window.performance)&&"function"==typeof t.now?t.now():void 0)?e:+new Date},T=function(e,t){return null==t&&(t=0),t?(e*=Math.pow(10,t),e+=.5,e=Math.floor(e),e/=Math.pow(10,t)):Math.round(e)},k=function(e){return 0>e?Math.ceil(e):Math.floor(e)},y=function(e){return e-T(e)},E=!1,($=function(){var e,t,i,n,o;if(!E&&null!=window.jQuery){for(E=!0,n=["html","text"],o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(function(e){var t;return t=window.jQuery.fn[e],window.jQuery.fn[e]=function(e){var i;return null==e||null==(null!=(i=this[0])?i.odometer:void 0)?t.apply(this,arguments):this[0].odometer.update(e)}}(e));return o}})(),setTimeout($,0),h=function(){function e(t){var i,n,o,r,a,l,d,h,p,f,m=this;if(this.options=t,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;this.el.odometer=this,h=e.options;for(n in h)r=h[n],null==this.options[n]&&(this.options[n]=r);null==(a=this.options).duration&&(a.duration=s),this.MAX_VALUES=this.options.duration/u/c|0,this.resetFormat(),this.value=this.cleanValue(null!=(p=this.options.value)?p:""),this.renderInside(),this.render();try{for(f=["innerHTML","innerText","textContent"],l=0,d=f.length;d>l;l++)o=f[l],null!=this.el[o]&&!function(e){return Object.defineProperty(m.el,e,{get:function(){var t;return"innerHTML"===e?m.inside.outerHTML:null!=(t=m.inside.innerText)?t:m.inside.textContent},set:function(e){return m.update(e)}})}(o)}catch(g){i=g,this.watchForMutations()}}return e.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},e.prototype.watchForMutations=function(){var e,t=this;if(null!=d)try{return null==this.observer&&(this.observer=new d(function(){var e;return e=t.el.innerText,t.renderInside(),t.render(t.value),t.update(e)})),this.watchMutations=!0,this.startWatchingMutations()}catch(i){e=i}},e.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},e.prototype.stopWatchingMutations=function(){var e;return null!=(e=this.observer)?e.disconnect():void 0},e.prototype.cleanValue=function(e){var t;return"string"==typeof e&&(e=e.replace(null!=(t=this.format.radix)?t:".","<radix>"),e=e.replace(/[.,]/g,""),e=e.replace("<radix>","."),e=parseFloat(e,10)||0),T(e,this.format.precision)},e.prototype.bindTransitionEnd=function(){var e,t,i,n,o,s,r=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,t=!1,o=f.split(" "),s=[],i=0,n=o.length;n>i;i++)e=o[i],s.push(this.el.addEventListener(e,function(){return t?!0:(t=!0,setTimeout(function(){return r.render(),t=!1,S(r.el,"odometerdone")},0),!0)},!1));return s}},e.prototype.resetFormat=function(){var e,t,n,o,s,r,l,c;if(e=null!=(l=this.options.format)?l:i,e||(e="d"),n=a.exec(e),!n)throw new Error("Odometer: Unparsable digit format");return c=n.slice(1,4),r=c[0],s=c[1],t=c[2],o=(null!=t?t.length:void 0)||0,this.format={repeating:r,radix:s,precision:o}},e.prototype.render=function(e){var t,i,n,o,s,r,a,l,c,u,d,h;for(null==e&&(e=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",r=this.options.theme,t=this.el.className.split(" "),s=[],l=0,u=t.length;u>l;l++)i=t[l],i.length&&((o=/^odometer-theme-(.+)$/.exec(i))?r=o[1]:/^odometer(-|$)/.test(i)||s.push(i));for(s.push("odometer"),m||s.push("odometer-no-transitions"),s.push(r?"odometer-theme-"+r:"odometer-auto-theme"),this.el.className=s.join(" "),this.ribbons={},this.digits=[],a=!this.format.precision||!y(e)||!1,h=e.toString().split("").reverse(),c=0,d=h.length;d>c;c++)n=h[c],"."===n&&(a=!0),this.addDigit(n,a);return this.startWatchingMutations()},e.prototype.update=function(e){var t,i=this;return e=this.cleanValue(e),(t=e-this.value)?(w(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),t>0?_(this.el,"odometer-animating-up"):_(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(e),this.startWatchingMutations(),setTimeout(function(){return i.el.offsetHeight,_(i.el,"odometer-animating")},0),this.value=e):void 0},e.prototype.renderDigit=function(){return v(n)},e.prototype.insertDigit=function(e,t){return null!=t?this.inside.insertBefore(e,t):this.inside.children.length?this.inside.insertBefore(e,this.inside.children[0]):this.inside.appendChild(e)},e.prototype.addSpacer=function(e,t,i){var n;return n=v(r),n.innerHTML=e,i&&_(n,i),this.insertDigit(n,t)},e.prototype.addDigit=function(e,t){var i,n,o,s;if(null==t&&(t=!0),"-"===e)return this.addSpacer(e,null,"odometer-negation-mark");if("."===e)return this.addSpacer(null!=(s=this.format.radix)?s:".",null,"odometer-radix-mark");if(t)for(o=!1;;){if(!this.format.repeating.length){if(o)throw new Error("Bad odometer format without digits");this.resetFormat(),o=!0}if(i=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===i)break;this.addSpacer(i)}return n=this.renderDigit(),n.querySelector(".odometer-value").innerHTML=e,this.digits.push(n),this.insertDigit(n)},e.prototype.animate=function(e){return m&&"count"!==this.options.animation?this.animateSlide(e):this.animateCount(e)},e.prototype.animateCount=function(e){var i,n,o,s,r,a=this;return(n=+e-this.value)?(s=o=b(),i=this.value,(r=function(){var l,c,u;return b()-s>a.options.duration?(a.value=e,a.render(),void S(a.el,"odometerdone")):(l=b()-o,l>t&&(o=b(),u=l/a.options.duration,c=n*u,i+=c,a.render(Math.round(i))),null!=x?x(r):setTimeout(r,t))})()):void 0},e.prototype.getDigitCount=function(){var e,t,i,n,o,s;for(n=1<=arguments.length?O.call(arguments,0):[],e=o=0,s=n.length;s>o;e=++o)i=n[e],n[e]=Math.abs(i);return t=Math.max.apply(Math,n),Math.ceil(Math.log(t+1)/Math.log(10))},e.prototype.getFractionalDigitCount=function(){var e,t,i,n,o,s,r;for(o=1<=arguments.length?O.call(arguments,0):[],t=/^\-?\d*\.(\d*?)0*$/,e=s=0,r=o.length;r>s;e=++s)n=o[e],o[e]=n.toString(),i=t.exec(o[e]),o[e]=null==i?0:i[1].length;return Math.max.apply(Math,o)},e.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},e.prototype.animateSlide=function(e){var t,i,n,s,r,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x,T,C,S,$,E,D,M;if(v=this.value,c=this.getFractionalDigitCount(v,e),c&&(e*=Math.pow(10,c),v*=Math.pow(10,c)),n=e-v){for(this.bindTransitionEnd(),s=this.getDigitCount(v,e),r=[],t=0,h=w=0;s>=0?s>w:w>s;h=s>=0?++w:--w){if(y=k(v/Math.pow(10,s-h-1)),l=k(e/Math.pow(10,s-h-1)),a=l-y,Math.abs(a)>this.MAX_VALUES){for(d=[],p=a/(this.MAX_VALUES+this.MAX_VALUES*t*o),i=y;a>0&&l>i||0>a&&i>l;)d.push(Math.round(i)),i+=p;d[d.length-1]!==l&&d.push(l),t++}else d=function(){M=[];for(var e=y;l>=y?l>=e:e>=l;l>=y?e++:e--)M.push(e);return M}.apply(this);for(h=x=0,C=d.length;C>x;h=++x)u=d[h],d[h]=Math.abs(u%10);r.push(d)}for(this.resetDigits(),D=r.reverse(),h=T=0,S=D.length;S>T;h=++T)for(d=D[h],this.digits[h]||this.addDigit(" ",h>=c),null==(b=this.ribbons)[h]&&(b[h]=this.digits[h].querySelector(".odometer-ribbon-inner")),this.ribbons[h].innerHTML="",0>n&&(d=d.reverse()),f=E=0,$=d.length;$>E;f=++E)u=d[f],g=document.createElement("div"),g.className="odometer-value",g.innerHTML=u,this.ribbons[h].appendChild(g),f===d.length-1&&_(g,"odometer-last-value"),0===f&&_(g,"odometer-first-value");return 0>y&&this.addDigit("-"),m=this.inside.querySelector(".odometer-radix-mark"),null!=m&&m.parent.removeChild(m),c?this.addSpacer(this.format.radix,this.digits[c-1],"odometer-radix-mark"):void 0}},e}(),h.options=null!=(M=window.odometerOptions)?M:{},setTimeout(function(){var e,t,i,n,o;if(window.odometerOptions){n=window.odometerOptions,o=[];for(e in n)t=n[e],o.push(null!=(i=h.options)[e]?(i=h.options)[e]:i[e]=t);return o}},0),h.init=function(){var e,t,i,n,o,s;if(null!=document.querySelectorAll){for(t=document.querySelectorAll(h.options.selector||".odometer"),s=[],i=0,n=t.length;n>i;i++)e=t[i],s.push(e.odometer=new h({el:e,value:null!=(o=e.innerText)?o:e.textContent}));return s}},null!=(null!=(A=document.documentElement)?A.doScroll:void 0)&&null!=document.createEventObject?(D=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&h.options.auto!==!1&&h.init(),null!=D?D.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){return h.options.auto!==!1?h.init():void 0},!1),"function"==typeof define&&define.amd?define(["jquery"],function(){return h}):typeof exports===!1?module.exports=h:window.Odometer=h}.call(this),function(e){"use strict";function t(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):void 0}function i(e,t){var i,n;for(i=0,n=e.length;n>i;i++)if(e[i]===t)return!0;return!1}function n(e,t){var i;e.createTextRange?(i=e.createTextRange(),i.move("character",t),i.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))}function o(e,t){try{return e.type=t,!0}catch(i){return!1}}e.Placeholders={Utils:{addEventListener:t,inArray:i,moveCaret:n,changeType:o}}}(this),function(e){"use strict";function t(){}function i(){try{return document.activeElement}catch(e){}}function n(e,t){var i,n,o=!!t&&e.value!==t,s=e.value===e.getAttribute(j);return(o||s)&&"true"===e.getAttribute(P)?(e.removeAttribute(P),e.value=e.value.replace(e.getAttribute(j),""),e.className=e.className.replace(O,""),n=e.getAttribute(H),parseInt(n,10)>=0&&(e.setAttribute("maxLength",n),e.removeAttribute(H)),i=e.getAttribute(I),i&&(e.type=i),!0):!1}function o(e){var t,i,n=e.getAttribute(j);return""===e.value&&n?(e.setAttribute(P,"true"),e.value=n,e.className+=" "+A,i=e.getAttribute(H),i||(e.setAttribute(H,e.maxLength),e.removeAttribute("maxLength")),t=e.getAttribute(I),t?e.type="text":"password"===e.type&&q.changeType(e,"text")&&e.setAttribute(I,"password"),!0):!1}function s(e,t){var i,n,o,s,r,a,l;if(e&&e.getAttribute(j))t(e);else for(o=e?e.getElementsByTagName("input"):m,s=e?e.getElementsByTagName("textarea"):g,i=o?o.length:0,n=s?s.length:0,l=0,a=i+n;a>l;l++)r=i>l?o[l]:s[l-i],t(r)}function r(e){s(e,n)}function a(e){s(e,o)}function l(e){return function(){_&&e.value===e.getAttribute(j)&&"true"===e.getAttribute(P)?q.moveCaret(e,0):n(e)}}function c(e){return function(){o(e)}}function u(e){return function(t){return y=e.value,"true"===e.getAttribute(P)&&y===e.getAttribute(j)&&q.inArray(D,t.keyCode)?(t.preventDefault&&t.preventDefault(),!1):void 0}}function d(e){return function(){n(e,y),""===e.value&&(e.blur(),q.moveCaret(e,0))}}function h(e){return function(){e===i()&&e.value===e.getAttribute(j)&&"true"===e.getAttribute(P)&&q.moveCaret(e,0)}}function p(e){return function(){r(e)}}function f(e){e.form&&(C=e.form,"string"==typeof C&&(C=document.getElementById(C)),C.getAttribute(L)||(q.addEventListener(C,"submit",p(C)),C.setAttribute(L,"true"))),q.addEventListener(e,"focus",l(e)),q.addEventListener(e,"blur",c(e)),_&&(q.addEventListener(e,"keydown",u(e)),q.addEventListener(e,"keyup",d(e)),q.addEventListener(e,"click",h(e))),e.setAttribute(N,"true"),e.setAttribute(j,x),(_||e!==i())&&o(e)}var m,g,_,v,y,b,w,x,T,C,S,k,$,E=["text","search","url","tel","email","password","number","textarea"],D=[27,33,34,35,36,37,38,39,40,8,46],M="#ccc",A="placeholdersjs",O=new RegExp("(?:^|\\s)"+A+"(?!\\S)"),j="data-placeholder-value",P="data-placeholder-active",I="data-placeholder-type",L="data-placeholder-submit",N="data-placeholder-bound",F="data-placeholder-focus",z="data-placeholder-live",H="data-placeholder-maxlength",B=document.createElement("input"),R=document.getElementsByTagName("head")[0],W=document.documentElement,V=e.Placeholders,q=V.Utils;if(V.nativeSupport=void 0!==B.placeholder,!V.nativeSupport){for(m=document.getElementsByTagName("input"),g=document.getElementsByTagName("textarea"),_="false"===W.getAttribute(F),v="false"!==W.getAttribute(z),b=document.createElement("style"),b.type="text/css",w=document.createTextNode("."+A+" { color:"+M+"; }"),b.styleSheet?b.styleSheet.cssText=w.nodeValue:b.appendChild(w),R.insertBefore(b,R.firstChild),$=0,k=m.length+g.length;k>$;$++)S=$<m.length?m[$]:g[$-m.length],x=S.attributes.placeholder,x&&(x=x.nodeValue,x&&q.inArray(E,S.type)&&f(S));T=setInterval(function(){for($=0,k=m.length+g.length;k>$;$++)S=$<m.length?m[$]:g[$-m.length],x=S.attributes.placeholder,x?(x=x.nodeValue,x&&q.inArray(E,S.type)&&(S.getAttribute(N)||f(S),(x!==S.getAttribute(j)||"password"===S.type&&!S.getAttribute(I))&&("password"===S.type&&!S.getAttribute(I)&&q.changeType(S,"text")&&S.setAttribute(I,"password"),S.value===S.getAttribute(j)&&(S.value=x),S.setAttribute(j,x)))):S.getAttribute(P)&&(n(S),S.removeAttribute(j));v||clearInterval(T)},100)}q.addEventListener(e,"beforeunload",function(){V.disable()}),V.disable=V.nativeSupport?t:r,V.enable=V.nativeSupport?t:a}(this),"createTouch"in document)try{var pattern=/:hover\b/,sheet,rule,selectors,newSelector,selectorAdded,newRule,i,j,k;for(i=0;i<document.styleSheets.length;i++)for(sheet=document.styleSheets[i],j=sheet.cssRules.length-1;j>=0;j--)if(rule=sheet.cssRules[j],rule.type===CSSRule.STYLE_RULE&&pattern.test(rule.selectorText)){for(selectors=rule.selectorText.split(","),newSelector="",selectorAdded=!1,k=0;k<selectors.length;k++)pattern.test(selectors[k])||(selectorAdded?newSelector+=", "+selectors[k]:(newSelector+=selectors[k],selectorAdded=!0));selectorAdded?(newRule=rule.cssText.replace(/([^{]*)?/,newSelector+" "),sheet.deleteRule(j),sheet.insertRule(newRule,j)):sheet.deleteRule(j)}}catch(e){}!function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),o=window.setTimeout(function(){t(i+n)},n);return e=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){"use strict";e.richsponsiveImage=function(){var t=$("span[data-picture]").not("[data-picture-ignore]"),i=!1;$.each(t,function(t,n){var o=$(n),s=o.parents(".royalSlider");if(1===s.length)if(1===s.parent().data("total"));else if(0===o.parents(".rsContainer").length)return!0;var r=null;if("true"===o.attr("data-filterby-orientation")){var a="landscape";o.height()>o.width()&&(a="portrait"),r=$("> span[data-orientation='"+a+"']",o)}else r=$("> span",o);var l=[];$.each(r,function(t,i){var n=$(i),o=n.attr("data-media");(!o||e.matchMedia&&e.matchMedia(o).matches)&&l.push(n)});var c=$(".image",o),u=null;if(0!==l.length){var d=l.pop(),h=!0;if(o.hasClass("backgroundImage")){var p=location.protocol+"//"+location.host,f=o.css("background-image"),m='"',g=new RegExp(m,"g");f=f.replace(g,""),m="'",g=new RegExp(m,"g"),f=f.replace(g,""),"none"===f?h=!1:(f==="url("+d.attr("data-src")+")"||f==="url("+p+d.attr("data-src")+")")&&(h=!1)}else if(0!==c.length){var _=$(c[0]);_.parent()[0]!==d[0]?_.remove():h=!1}if(h===!0){if(i=!0,""===d.attr("data-src"))return void(i=!1);if("undefined"!=typeof o.attr("data-background-image")){"data:"===o.css("background-image").substring(5,10)&&(i=!1),o.addClass("image backgroundImage").css({"background-image":'url("'+d.attr("data-src")+'")'});var v=o.data("align");"undefined"!==v&&o.css("background-position",v)}else d.append('<img class="image" />'),u=$("img.image",d),u.attr("alt",o.attr("data-alt")),u.attr("src",d.attr("data-src"))}}}),i===!0&&$(window).trigger("resize")}}(this),function(e){function t(t,i){var n,o=this,s=window.navigator,r=s.userAgent.toLowerCase();o.uid=e.rsModules.uid++,o.ns=".rs"+o.uid;var a,l=document.createElement("div").style,c=["webkit","Moz","ms","O"],u="",d=0;for(n=0;n<c.length;n++)a=c[n],!u&&a+"Transform"in l&&(u=a),a=a.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[a+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-d)),n=window.setTimeout(function(){e(t+i)},i);return d=t+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),o.isIPAD=r.match(/(ipad)/),o.isIOS=o.isIPAD||r.match(/(iphone|ipod)/),n=function(e){return e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],{browser:e[1]||"",version:e[2]||"0"}}(r),c={},n.browser&&(c[n.browser]=!0,c.version=n.version),c.chrome&&(c.webkit=!0),o._a=c,o.isAndroid=-1<r.indexOf("android"),o.slider=e(t),o.ev=e(o),o._b=e(document),o.st=e.extend({},e.fn.royalSlider.defaults,i),o._c=o.st.transitionSpeed,o._d=0,!o.st.allowCSS3||c.webkit&&!o.st.allowCSS3OnWebkit||(n=u+(u?"T":"t"),o._e=n+"ransform"in l&&n+"ransition"in l,o._e&&(o._f=u+(u?"P":"p")+"erspective"in l)),u=u.toLowerCase(),o._g="-"+u+"-",o._h="vertical"===o.st.slidesOrientation?!1:!0,o._i=o._h?"left":"top",o._j=o._h?"width":"height",o._k=-1,o._l="fade"===o.st.transitionType?!1:!0,o._l||(o.st.sliderDrag=!1,o._m=10),o._n="z-index:0; display:none; opacity:0;",o._o=0,o._p=0,o._q=0,e.each(e.rsModules,function(e,t){"uid"!==e&&t.call(o)}),o.slides=[],o._r=0,(o.st.slides?e(o.st.slides):o.slider.children().detach()).each(function(){o._s(this,!0)}),o.st.randomizeSlides&&o.slides.sort(function(){return.5-Math.random()}),o.numSlides=o.slides.length,o._t(),o.st.startSlideId?o.st.startSlideId>o.numSlides-1&&(o.st.startSlideId=o.numSlides-1):o.st.startSlideId=0,o._o=o.staticSlideId=o.currSlideId=o._u=o.st.startSlideId,o.currSlide=o.slides[o.currSlideId],o._v=0,o.pointerMultitouch=!1,o.slider.addClass((o._h?"rsHor":"rsVer")+(o._l?"":" rsFade")),l='<div class="rsOverflow"><div class="rsContainer">',o.slidesSpacing=o.st.slidesSpacing,o._w=(o._h?o.slider.width():o.slider.height())+o.st.slidesSpacing,o._x=Boolean(0<o._y),1>=o.numSlides&&(o._z=!1),o._a1=o._z&&o._l?2===o.numSlides?1:2:0,o._b1=6>o.numSlides?o.numSlides:6,o._c1=0,o._d1=0,o.slidesJQ=[];for(n=0;n<o.numSlides;n++)o.slidesJQ.push(e('<div style="'+(o._l?"":n!==o.currSlideId?o._n:"z-index:0;")+'" class="rsSlide "></div>'));o._e1=l=e(l+"</div></div>");var h=o.ns,u=function(e,t,i,n,s){o._j1=e+t+h,o._k1=e+i+h,o._l1=e+n+h,s&&(o._m1=e+s+h)};n=s.pointerEnabled,o.pointerEnabled=n||s.msPointerEnabled,o.pointerEnabled?(o.hasTouch=!1,o._n1=.2,o.pointerMultitouch=Boolean(1<s[(n?"m":"msM")+"axTouchPoints"]),n?u("pointer","down","move","up","cancel"):u("MSPointer","Down","Move","Up","Cancel")):(o.isIOS?o._j1=o._k1=o._l1=o._m1="":u("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(o.hasTouch=!0,o._j1+=" touchstart"+h,o._k1+=" touchmove"+h,o._l1+=" touchend"+h,o._m1+=" touchcancel"+h,o._n1=.5,o.st.sliderTouch&&(o._f1=!0)):(o.hasTouch=!1,o._n1=.2)),o.st.sliderDrag&&(o._f1=!0,c.msie||c.opera?o._g1=o._h1="move":c.mozilla?(o._g1="-moz-grab",o._h1="-moz-grabbing"):c.webkit&&-1!=s.platform.indexOf("Mac")&&(o._g1="-webkit-grab",o._h1="-webkit-grabbing"),o._i1()),o.slider.html(l),o._o1=o.st.controlsInside?o._e1:o.slider,o._p1=o._e1.children(".rsContainer"),o.pointerEnabled&&o._p1.css((n?"":"-ms-")+"touch-action",o._h?"pan-y":"pan-x"),o._q1=e('<div class="rsPreloader"></div>'),s=o._p1.children(".rsSlide"),o._r1=o.slidesJQ[o.currSlideId],o._s1=0,o._e?(o._t1="transition-property",o._u1="transition-duration",o._v1="transition-timing-function",o._w1=o._x1=o._g+"transform",o._f?(c.webkit&&!c.chrome&&o.slider.addClass("rsWebkit3d"),o._y1="translate3d(",o._z1="px, ",o._a2="px, 0px)"):(o._y1="translate(",o._z1="px, ",o._a2="px)"),o._l?o._p1[o._g+o._t1]=o._g+"transform":(c={},c[o._g+o._t1]="opacity",c[o._g+o._u1]=o.st.transitionSpeed+"ms",c[o._g+o._v1]=o.st.css3easeInOut,s.css(c))):(o._x1="left",o._w1="top");var p;e(window).on("resize"+o.ns,function(){p&&clearTimeout(p),p=setTimeout(function(){o.updateSliderSize()},50)}),o.ev.trigger("rsAfterPropsSetup"),o.updateSliderSize(),o.st.keyboardNavEnabled&&o._b2(),o.st.arrowsNavHideOnTouch&&(o.hasTouch||o.pointerMultitouch)&&(o.st.arrowsNav=!1),o.st.arrowsNav&&(s=o._o1,e('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(s),o._c2=s.children(".rsArrowLeft").click(function(e){e.preventDefault(),o.prev()}),o._d2=s.children(".rsArrowRight").click(function(e){e.preventDefault(),o.next()}),o.st.arrowsNavAutoHide&&!o.hasTouch&&(o._c2.addClass("rsHidden"),o._d2.addClass("rsHidden"),s.one("mousemove.arrowshover",function(){o._c2.removeClass("rsHidden"),o._d2.removeClass("rsHidden")}),s.hover(function(){o._e2||(o._c2.removeClass("rsHidden"),o._d2.removeClass("rsHidden"))},function(){o._e2||(o._c2.addClass("rsHidden"),o._d2.addClass("rsHidden"))})),o.ev.on("rsOnUpdateNav",function(){o._f2()}),o._f2()),o._f1?o._p1.on(o._j1,function(e){o._g2(e)}):o.dragSuccess=!1;var f=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];o._p1.click(function(t){if(!o.dragSuccess){var i=e(t.target).attr("class");if(-1!==e.inArray(i,f)&&o.toggleVideo())return!1;if(o.st.navigateByClick&&!o._h2){if(e(t.target).closest(".rsNoDrag",o._r1).length)return!0;o._i2(t)}o.ev.trigger("rsSlideClick",t)}}).on("click.rs","a",function(){return o.dragSuccess?!1:(o._h2=!0,void setTimeout(function(){o._h2=!1},3))}),o.ev.trigger("rsAfterInit")}e.rsModules||(e.rsModules={uid:0}),t.prototype={constructor:t,_i2:function(e){e=e[this._h?"pageX":"pageY"]-this._j2,e>=this._q?this.next():0>e&&this.prev()},_t:function(){var e;e=this.st.numImagesToPreload,(this._z=this.st.loop)&&(2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1)),this._z&&e>0&&(4>=this.numSlides?e=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(e=Math.floor((this.numSlides-1)/2))),this._y=e},_s:function(t,i){function n(e,t){if(t?a.images.push(e.attr(t)):a.images.push(e.text()),l){l=!1,a.caption="src"===t?e.attr("alt"):e.contents(),a.image=a.images[0],a.videoURL=e.attr("data-rsVideo");var i=e.attr("data-rsw"),n=e.attr("data-rsh");"undefined"!=typeof i&&!1!==i&&"undefined"!=typeof n&&!1!==n?(a.iW=parseInt(i,10),a.iH=parseInt(n,10)):r.st.imgWidth&&r.st.imgHeight&&(a.iW=r.st.imgWidth,a.iH=r.st.imgHeight)}}var o,s,r=this,a={},l=!0;return t=e(t),r._k2=t,r.ev.trigger("rsBeforeParseNode",[t,a]),a.stopParsing?void 0:(t=r._k2,a.id=r._r,a.contentAdded=!1,r._r++,a.images=[],a.isBig=!1,a.hasCover||(t.hasClass("rsImg")?(s=t,o=!0):(s=t.find(".rsImg"),s.length&&(o=!0)),o?(a.bigImage=s.eq(0).attr("data-rsBigImg"),s.each(function(){var t=e(this);t.is("a")?n(t,"href"):t.is("img")?n(t,"src"):n(t)})):t.is("img")&&(t.addClass("rsImg rsMainSlideImage"),n(t,"src"))),s=t.find(".rsCaption"),s.length&&(a.caption=s.remove()),a.content=t,r.ev.trigger("rsAfterParseNode",[t,a]),i&&r.slides.push(a),0===a.images.length&&(a.isLoaded=!0,a.isRendered=!1,a.isLoading=!1,a.images=null),a)},_b2:function(){var e,t,i=this,n=function(e){37===e?i.prev():39===e&&i.next()};i._b.on("keydown"+i.ns,function(o){i._l2||(t=o.keyCode,37!==t&&39!==t||e||(n(t),e=setInterval(function(){n(t)},700)))}).on("keyup"+i.ns,function(){e&&(clearInterval(e),e=null)})},goTo:function(e,t){e!==this.currSlideId&&this._m2(e,this.st.transitionSpeed,!0,!t)},destroy:function(t){this.ev.trigger("rsBeforeDestroy"),this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1),this._p1.off(this._j1+" click"),this.slider.data("royalSlider",null),e.removeData(this.slider,"royalSlider"),e(window).off("resize"+this.ns),this.loadingTimeout&&clearTimeout(this.loadingTimeout),t&&this.slider.remove(),this.ev=this.slider=this.slides=null},_n2:function(t,i){function n(i,n,r){i.isAdded?(o(n,i),s(n,i)):(r||(r=c.slidesJQ[n]),i.holder?r=i.holder:(r=c.slidesJQ[n]=e(r),i.holder=r),i.appendOnLoaded=!1,s(n,i,r),o(n,i),c._p2(i,r,t),i.isAdded=!0)}function o(e,i){i.contentAdded||(c.setItemHtml(i,t),t||(i.contentAdded=!0))}function s(e,t,i){c._l&&(i||(i=c.slidesJQ[e]),i.css(c._i,(e+c._d1+h)*c._w))}function r(e){if(u){if(e>d-1)return r(e-d);if(0>e)return r(d+e)}return e}var a,l,c=this,u=c._z,d=c.numSlides;if(!isNaN(i))return r(i);var h,p,f=c.currSlideId,m=t?Math.abs(c._o2-c.currSlideId)>=c.numSlides-1?0:1:c._y,g=Math.min(2,m),_=!1,v=!1;for(l=f;f+1+g>l;l++)if(p=r(l),(a=c.slides[p])&&(!a.isAdded||!a.positionSet)){_=!0;break}for(l=f-1;l>f-1-g;l--)if(p=r(l),(a=c.slides[p])&&(!a.isAdded||!a.positionSet)){v=!0;break}if(_)for(l=f;f+m+1>l;l++)p=r(l),h=Math.floor((c._u-(f-l))/c.numSlides)*c.numSlides,(a=c.slides[p])&&n(a,p);if(v)for(l=f-1;l>f-1-m;l--)p=r(l),h=Math.floor((c._u-(f-l))/d)*d,
(a=c.slides[p])&&n(a,p);if(!t)for(g=r(f-m),f=r(f+m),m=g>f?0:g,l=0;d>l;l++)g>f&&l>g-1||!(m>l||l>f)||(a=c.slides[l])&&a.holder&&(a.holder.detach(),a.isAdded=!1)},setItemHtml:function(t,i){var n=this,o=function(){if(t.images){if(!t.isLoading){var i,o;if(t.content.hasClass("rsImg")?(i=t.content,o=!0):i=t.content.find(".rsImg:not(img)"),i&&!i.is("img")&&i.each(function(){var i=e(this),n='<img class="rsImg" src="'+(i.is("a")?i.attr("href"):i.text())+'" />';o?t.content=e(n):i.replaceWith(n)}),i=o?t.content:t.content.find("img.rsImg"),c(),i.eq(0).addClass("rsMainSlideImage"),t.iW&&t.iH&&(t.isLoaded||n._q2(t),a()),t.isLoading=!0,t.isBig)e("<img />").on("load.rs error.rs",function(){e(this).off("load.rs error.rs"),s([this],!0)}).attr("src",t.image);else{t.loaded=[],t.numStartedLoad=0,i=function(){e(this).off("load.rs error.rs"),t.loaded.push(this),t.loaded.length===t.numStartedLoad&&s(t.loaded,!1)};for(var r=0;r<t.images.length;r++){var l=e("<img />");t.numStartedLoad++,l.on("load.rs error.rs",i).attr("src",t.images[r])}}}}else t.isRendered=!0,t.isLoaded=!0,t.isLoading=!1,a(!0)},s=function(e,i){if(e.length){var n=e[0];if(i!==t.isBig)(n=t.holder.children())&&1<n.length&&u();else if(t.iW&&t.iH)r();else if(t.iW=n.width,t.iH=n.height,t.iW&&t.iH)r();else{var o=new Image;o.onload=function(){o.width?(t.iW=o.width,t.iH=o.height,r()):setTimeout(function(){o.width&&(t.iW=o.width,t.iH=o.height),r()},1e3)},o.src=n.src}}else r()},r=function(){t.isLoaded=!0,t.isLoading=!1,a(),u(),l()},a=function(){if(!t.isAppended&&n.ev){var e=n.st.visibleNearby,o=t.id-n._o;i||t.appendOnLoaded||!n.st.fadeinLoadedSlide||0!==o&&(!(e||n._r2||n._l2)||-1!==o&&1!==o)||(e={visibility:"visible",opacity:0},e[n._g+"transition"]="opacity 400ms ease-in-out",t.content.css(e),setTimeout(function(){t.content.css("opacity",1)},16)),t.holder.find(".rsPreloader").length?t.holder.append(t.content):t.holder.html(t.content),t.isAppended=!0,t.isLoaded&&(n._q2(t),l()),t.sizeReady||(t.sizeReady=!0,setTimeout(function(){n.ev.trigger("rsMaybeSizeReady",t)},100))}},l=function(){!t.loadedTriggered&&n.ev&&(t.isLoaded=t.loadedTriggered=!0,t.holder.trigger("rsAfterContentSet"),n.ev.trigger("rsAfterContentSet",t))},c=function(){n.st.usePreloader&&t.holder.html(n._q1.clone())},u=function(e){n.st.usePreloader&&(e=t.holder.find(".rsPreloader"),e.length&&e.remove())};t.isLoaded?a():i?!n._l&&t.images&&t.iW&&t.iH?o():(t.holder.isWaiting=!0,c(),t.holder.slideId=-99):o()},_p2:function(e){this._p1.append(e.holder),e.appendOnLoaded=!1},_g2:function(t,i){var n,o=this,s="touchstart"===t.type;if(o._s2=s,o.ev.trigger("rsDragStart"),e(t.target).closest(".rsNoDrag",o._r1).length)return o.dragSuccess=!1,!0;if(!i&&o._r2&&(o._t2=!0,o._u2()),o.dragSuccess=!1,o._l2)s&&(o._v2=!0);else{if(s&&(o._v2=!1),o._w2(),s){var r=t.originalEvent.touches;if(!(r&&0<r.length))return;n=r[0],1<r.length&&(o._v2=!0)}else t.preventDefault(),n=t,o.pointerEnabled&&(n=n.originalEvent);o._l2=!0,o._b.on(o._k1,function(e){o._x2(e,i)}).on(o._l1,function(e){o._y2(e,i)}),o._z2="",o._a3=!1,o._b3=n.pageX,o._c3=n.pageY,o._d3=o._v=(i?o._e3:o._h)?n.pageX:n.pageY,o._f3=0,o._g3=0,o._h3=i?o._i3:o._p,o._j3=(new Date).getTime(),s&&o._e1.on(o._m1,function(e){o._y2(e,i)})}},_k3:function(e,t){if(this._l3){var i=this._m3,n=e.pageX-this._b3,o=e.pageY-this._c3,s=this._h3+n,r=this._h3+o,a=t?this._e3:this._h,s=a?s:r,r=this._z2;this._a3=!0,this._b3=e.pageX,this._c3=e.pageY,"x"===r&&0!==n?this._f3=n>0?1:-1:"y"===r&&0!==o&&(this._g3=o>0?1:-1),r=a?this._b3:this._c3,n=a?n:o,t?s>this._n3?s=this._h3+n*this._n1:s<this._o3&&(s=this._h3+n*this._n1):this._z||(0>=this.currSlideId&&0<r-this._d3&&(s=this._h3+n*this._n1),this.currSlideId>=this.numSlides-1&&0>r-this._d3&&(s=this._h3+n*this._n1)),this._h3=s,200<i-this._j3&&(this._j3=i,this._v=r),t?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(e,t){var i,n=this,o="touchmove"===e.type;if(!n._s2||o){if(o){if(n._r3)return;var s=e.originalEvent.touches;if(!s)return;if(1<s.length)return;i=s[0]}else i=e,n.pointerEnabled&&(i=i.originalEvent);if(n._a3||(n._e&&(t?n._s3:n._p1).css(n._g+n._u1,"0s"),function r(){n._l2&&(n._t3=requestAnimationFrame(r),n._u3&&n._k3(n._u3,t))}()),n._l3)e.preventDefault(),n._m3=(new Date).getTime(),n._u3=i;else if(s=t?n._e3:n._h,i=Math.abs(i.pageX-n._b3)-Math.abs(i.pageY-n._c3)-(s?-7:7),i>7){if(s)e.preventDefault(),n._z2="x";else if(o)return void n._v3(e);n._l3=!0}else if(-7>i){if(s){if(o)return void n._v3(e)}else e.preventDefault(),n._z2="y";n._l3=!0}}},_v3:function(e){this._r3=!0,this._a3=this._l2=!1,this._y2(e)},_y2:function(t,i){function n(e){return 100>e?100:e>500?500:e}function o(e,t){(c._l||i)&&(a=(-c._u-c._d1)*c._w,l=Math.abs(c._p-a),c._c=l/t,e&&(c._c+=250),c._c=n(c._c),c._x3(a,!1))}var s,r,a,l,c=this;if(s=-1<t.type.indexOf("touch"),!c._s2||s)if(c._s2=!1,c.ev.trigger("rsDragRelease"),c._u3=null,c._l2=!1,c._r3=!1,c._l3=!1,c._m3=0,cancelAnimationFrame(c._t3),c._a3&&(i?c._q3(c._h3):c._l&&c._p3(c._h3)),c._b.off(c._k1).off(c._l1),s&&c._e1.off(c._m1),c._i1(),!c._a3&&!c._v2&&i&&c._w3){var u=e(t.target).closest(".rsNavItem");u.length&&c.goTo(u.index())}else{if(r=i?c._e3:c._h,!c._a3||"y"===c._z2&&r||"x"===c._z2&&!r){if(i||!c._t2)return c._t2=!1,void(c.dragSuccess=!1);if(c._t2=!1,c.st.navigateByClick)return c._i2(c.pointerEnabled?t.originalEvent:t),void(c.dragSuccess=!0);c.dragSuccess=!0}else c.dragSuccess=!0;c._t2=!1,c._z2="";var d=c.st.minSlideOffset;s=s?t.originalEvent.changedTouches[0]:c.pointerEnabled?t.originalEvent:t;var h=r?s.pageX:s.pageY,p=c._d3;s=c._v;var f=c.currSlideId,m=c.numSlides,g=r?c._f3:c._g3,_=c._z;if(Math.abs(h-p),s=h-s,r=(new Date).getTime()-c._j3,r=Math.abs(s)/r,0===g||1>=m)o(!0,r);else{if(!_&&!i)if(0>=f){if(g>0)return void o(!0,r)}else if(f>=m-1&&0>g)return void o(!0,r);if(i){if(a=c._i3,a>c._n3)a=c._n3;else if(a<c._o3)a=c._o3;else{if(h=r*r/.006,u=-c._i3,p=c._y3-c._z3+c._i3,s>0&&h>u?(u+=c._z3/(15/(h/r*.003)),r=r*u/h,h=u):0>s&&h>p&&(p+=c._z3/(15/(h/r*.003)),r=r*p/h,h=p),u=Math.max(Math.round(r/.003),50),a+=h*(0>s?-1:1),a>c._n3)return void c._a4(a,u,!0,c._n3,200);if(a<c._o3)return void c._a4(a,u,!0,c._o3,200)}c._a4(a,u,!0)}else u=function(e){var t=Math.floor(e/c._w);return e-t*c._w>d&&t++,t},h>p+d?0>g?o(!1,r):(u=u(h-p),c._m2(c.currSlideId-u,n(Math.abs(c._p-(-c._u-c._d1+u)*c._w)/r),!1,!0,!0)):p-d>h?g>0?o(!1,r):(u=u(p-h),c._m2(c.currSlideId+u,n(Math.abs(c._p-(-c._u-c._d1-u)*c._w)/r),!1,!0,!0)):o(!1,r)}}},_p3:function(e){e=this._p=e,this._e?this._p1.css(this._x1,this._y1+(this._h?e+this._z1+0:0+this._z1+e)+this._a2):this._p1.css(this._h?this._x1:this._w1,e)},updateSliderSize:function(e){var t,i;if(this.st.autoScaleSlider){var n=this.st.autoScaleSliderWidth,o=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(t=this.slider.width(),t!=this.width&&(this.slider.css("height",o/n*t),t=this.slider.width()),i=this.slider.height()):(i=this.slider.height(),i!=this.height&&(this.slider.css("width",n/o*i),i=this.slider.height()),t=this.slider.width())}else t=this.slider.width(),i=this.slider.height();if(e||t!=this.width||i!=this.height){for(this.width=t,this.height=i,this._b4=t,this._c4=i,this.ev.trigger("rsBeforeSizeSet"),this.ev.trigger("rsAfterSizePropSet"),this._e1.css({width:this._b4,height:this._c4}),this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing,this._d4=this.st.imageScalePadding,t=0;t<this.slides.length;t++)e=this.slides[t],e.positionSet=!1,e&&e.images&&e.isLoaded&&(e.isRendered=!1,this._q2(e));if(this._e4)for(t=0;t<this._e4.length;t++)e=this._e4[t],e.holder.css(this._i,(e.id+this._d1)*this._w);this._n2(),this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w)),this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset(),this._j2=this._j2[this._i]},appendSlide:function(t,i){var n=this._s(t);(isNaN(i)||i>this.numSlides)&&(i=this.numSlides),this.slides.splice(i,0,n),this.slidesJQ.splice(i,0,e('<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>')),i<this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[n,i]),this._f4(i),i===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this.slides[e];t&&(t.holder&&t.holder.remove(),e<this.currSlideId&&this.currSlideId--,this.slides.splice(e,1),this.slidesJQ.splice(e,1),this.ev.trigger("rsOnRemoveSlide",[e]),this._f4(e),e===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(e){var t=this;for(e=t.numSlides,e=0>=t._u?0:Math.floor(t._u/e),t.numSlides=t.slides.length,0===t.numSlides?(t.currSlideId=t._d1=t._u=0,t.currSlide=t._g4=null):t._u=e*t.numSlides+t.currSlideId,e=0;e<t.numSlides;e++)t.slides[e].id=e;t.currSlide=t.slides[t.currSlideId],t._r1=t.slidesJQ[t.currSlideId],t.currSlideId>=t.numSlides?t.goTo(t.numSlides-1):0>t.currSlideId&&t.goTo(0),t._t(),t._l&&t._z&&t._p1.css(t._g+t._u1,"0ms"),t._h4&&clearTimeout(t._h4),t._h4=setTimeout(function(){t._l&&t._p3((-t._u-t._d1)*t._w),t._n2(),t._l||t._r1.css({display:"block",opacity:1})},14),t.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(e){this._m2("next",this.st.transitionSpeed,!0,!e)},prev:function(e){this._m2("prev",this.st.transitionSpeed,!0,!e)},_m2:function(e,t,i,n,o){var s,r,a,l=this;if(l.ev.trigger("rsBeforeMove",[e,n]),a="next"===e?l.currSlideId+1:"prev"===e?l.currSlideId-1:e=parseInt(e,10),!l._z){if(0>a)return void l._i4("left",!n);if(a>=l.numSlides)return void l._i4("right",!n)}l._r2&&(l._u2(!0),i=!1),r=a-l.currSlideId,a=l._o2=l.currSlideId;var c=l.currSlideId+r;n=l._u;var u;l._z?(c=l._n2(!1,c),n+=r):n=c,l._o=c,l._g4=l.slidesJQ[l.currSlideId],l._u=n,l.currSlideId=l._o,l.currSlide=l.slides[l.currSlideId],l._r1=l.slidesJQ[l.currSlideId];var c=l.st.slidesDiff,d=Boolean(r>0);r=Math.abs(r);var h=Math.floor(a/l._y),p=Math.floor((a+(d?c:-c))/l._y),h=(d?Math.max(h,p):Math.min(h,p))*l._y+(d?l._y-1:0);if(h>l.numSlides-1?h=l.numSlides-1:0>h&&(h=0),a=d?h-a:a-h,a>l._y&&(a=l._y),r>a+c)for(l._d1+=(r-(a+c))*(d?-1:1),t*=1.4,a=0;a<l.numSlides;a++)l.slides[a].positionSet=!1;l._c=t,l._n2(!0),o||(u=!0),s=(-n-l._d1)*l._w,u?setTimeout(function(){l._j4=!1,l._x3(s,e,!1,i),l.ev.trigger("rsOnUpdateNav")},0):(l._x3(s,e,!1,i),l.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),this._z||this.st.loopRewind||(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(t,i,n,o,s){function r(){var e;a&&(e=a.data("rsTimeout"))&&(a!==l&&a.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),a.data("rsTimeout","")),(e=l.data("rsTimeout"))&&(clearTimeout(e),l.data("rsTimeout",""))}var a,l,c=this,u={};isNaN(c._c)&&(c._c=400),c._p=c._h3=t,c.ev.trigger("rsBeforeAnimStart"),c._e?c._l?(c._c=parseInt(c._c,10),n=c._g+c._v1,u[c._g+c._u1]=c._c+"ms",u[n]=o?e.rsCSS3Easing[c.st.easeInOut]:e.rsCSS3Easing[c.st.easeOut],c._p1.css(u),o||!c.hasTouch?setTimeout(function(){c._p3(t)},5):c._p3(t)):(c._c=c.st.transitionSpeed,a=c._g4,l=c._r1,l.data("rsTimeout")&&l.css("opacity",0),r(),a&&a.data("rsTimeout",setTimeout(function(){u[c._g+c._u1]="0ms",u.zIndex=0,u.display="none",a.data("rsTimeout",""),a.css(u),setTimeout(function(){a.css("opacity",0)},16)},c._c+60)),u.display="block",u.zIndex=c._m,u.opacity=0,u[c._g+c._u1]="0ms",u[c._g+c._v1]=e.rsCSS3Easing[c.st.easeInOut],l.css(u),l.data("rsTimeout",setTimeout(function(){l.css(c._g+c._u1,c._c+"ms"),l.data("rsTimeout",setTimeout(function(){l.css("opacity",1),l.data("rsTimeout","")},20))},20))):c._l?(u[c._h?c._x1:c._w1]=t+"px",c._p1.animate(u,c._c,o?c.st.easeInOut:c.st.easeOut)):(a=c._g4,l=c._r1,l.stop(!0,!0).css({opacity:0,display:"block",zIndex:c._m}),c._c=c.st.transitionSpeed,l.animate({opacity:1},c._c,c.st.easeInOut),r(),a&&a.data("rsTimeout",setTimeout(function(){a.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},c._c+60))),c._r2=!0,c.loadingTimeout&&clearTimeout(c.loadingTimeout),c.loadingTimeout=s?setTimeout(function(){c.loadingTimeout=null,s.call()},c._c+60):setTimeout(function(){c.loadingTimeout=null,c._k4(i)},c._c+60)},_u2:function(e){if(this._r2=!1,clearTimeout(this.loadingTimeout),this._l)if(this._e){if(!e){e=this._p;var t=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms"),e!==t&&this._p3(t)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._x1),10);else 20<this._m?this._m=10:this._m++},_l4:function(){var e=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),t=0===e[0].indexOf("matrix3d");return parseInt(e[this._h?t?12:4:t?13:5],10)},_m4:function(e,t){return this._e?this._y1+(t?e+this._z1+0:0+this._z1+e)+this._a2:e},_k4:function(){this._l||(this._r1.css("z-index",0),this._m=10),this._r2=!1,this.staticSlideId=this.currSlideId,this._n2(),this._n4=!1,this.ev.trigger("rsAfterSlideChange")},_i4:function(e,t){var i=this,n=(-i._u-i._d1)*i._w;if(0!==i.numSlides&&!i._r2)if(i.st.loopRewind)i.goTo("left"===e?i.numSlides-1:0,t);else if(i._l){i._c=200;var o=function(){i._r2=!1};i._x3(n+("left"===e?30:-30),"",!1,!0,function(){i._r2=!1,i._x3(n,"",!1,!0,o)})}},_q2:function(e){if(!e.isRendered){var t,i,n=e.content,o="rsMainSlideImage",s=this.st.imageAlignCenter,r=this.st.imageScaleMode;if(e.videoURL&&(o="rsVideoContainer","fill"!==r?t=!0:(i=n,i.hasClass(o)||(i=i.find("."+o)),i.css({width:"100%",height:"100%"}),o="rsMainSlideImage")),n.hasClass(o)||(n=n.find("."+o)),n){var a=e.iW,l=e.iH;if(e.isRendered=!0,"none"!==r||s){o="fill"!==r?this._d4:0,i=this._b4-2*o;var c,u,d=this._c4-2*o,h={};"fit-if-smaller"===r&&(a>i||l>d)&&(r="fit"),("fill"===r||"fit"===r)&&(c=i/a,u=d/l,c="fill"==r?c>u?c:u:"fit"==r?u>c?c:u:1,a=Math.ceil(a*c,10),l=Math.ceil(l*c,10)),"none"!==r&&(h.width=a,h.height=l,t&&n.find(".rsImg").css({width:"100%",height:"100%"})),s&&(h.marginLeft=Math.floor((i-a)/2)+o,h.marginTop=Math.floor((d-l)/2)+o),n.css(h)}}}}},e.rsProto=t.prototype,e.fn.royalSlider=function(i){var n=arguments;return this.each(function(){var o=e(this);if("object"!=typeof i&&i){if((o=o.data("royalSlider"))&&o[i])return o[i].apply(o,Array.prototype.slice.call(n,1))}else o.data("royalSlider")||o.data("royalSlider",new t(o,i))})},e.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},e.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},e.extend(jQuery.easing,{easeInOutSine:function(e,t,i,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+i},easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i}})}(jQuery,window),function(e){e.extend(e.rsProto,{_i5:function(){var t=this;"bullets"===t.st.controlNavigation&&(t.ev.one("rsAfterPropsSetup",function(){t._j5=!0,t.slider.addClass("rsWithBullets");for(var i='<div class="rsNav rsBullets">',n=0;n<t.numSlides;n++)i+='<div class="rsNavItem rsBullet"><span></span></div>';t._k5=i=e(i+"</div>"),t._l5=i.appendTo(t.slider).children(),t._k5.on("click.rs",".rsNavItem",function(){t._m5||t.goTo(e(this).index())})}),t.ev.on("rsOnAppendSlide",function(e,i,n){n>=t.numSlides?t._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):t._l5.eq(n).before('<div class="rsNavItem rsBullet"><span></span></div>'),t._l5=t._k5.children()}),t.ev.on("rsOnRemoveSlide",function(e,i){var n=t._l5.eq(i);n&&n.length&&(n.remove(),t._l5=t._k5.children())}),t.ev.on("rsOnUpdateNav",function(){var e=t.currSlideId;t._n5&&t._n5.removeClass("rsNavSelected"),e=t._l5.eq(e),e.addClass("rsNavSelected"),t._n5=e}))}}),e.rsModules.bullets=e.rsProto._i5}(jQuery),function(e){e.extend(e.rsProto,{_h6:function(){var t=this;"thumbnails"===t.st.controlNavigation&&(t._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},t.st.thumbs=e.extend({},t._i6,t.st.thumbs),t._j6=!0,!1===t.st.thumbs.firstMargin?t.st.thumbs.firstMargin=0:!0===t.st.thumbs.firstMargin&&(t.st.thumbs.firstMargin=t.st.thumbs.spacing),t.ev.on("rsBeforeParseNode",function(t,i,n){i=e(i),n.thumbnail=i.find(".rsTmb").remove(),n.thumbnail.length?n.thumbnail=e(document.createElement("div")).append(n.thumbnail).html():(n.thumbnail=i.attr("data-rsTmb"),n.thumbnail||(n.thumbnail=i.find(".rsImg").attr("data-rsTmb")),n.thumbnail=n.thumbnail?'<img src="'+n.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._k6()}),t._n5=null,t.ev.on("rsOnUpdateNav",function(){var i=e(t._l5[t.currSlideId]);i!==t._n5&&(t._n5&&(t._n5.removeClass("rsNavSelected"),t._n5=null),t._l6&&t._m6(t.currSlideId),t._n5=i.addClass("rsNavSelected"))}),t.ev.on("rsOnAppendSlide",function(e,i,n){e="<div"+t._n6+' class="rsNavItem rsThumb">'+t._o6+i.thumbnail+"</div>",n>=t.numSlides?t._s3.append(e):t._l5.eq(n).before(e),t._l5=t._s3.children(),t.updateThumbsSize()}),t.ev.on("rsOnRemoveSlide",function(e,i){var n=t._l5.eq(i);n&&(n.remove(),t._l5=t._s3.children(),t.updateThumbsSize())}))},_k6:function(){var t,i,n=this,o="rsThumbs",s=n.st.thumbs,r="",a=s.spacing;n._j5=!0,n._e3="vertical"===s.orientation?!1:!0,n._n6=t=a?' style="margin-'+(n._e3?"right":"bottom")+":"+a+'px;"':"",n._i3=0,n._p6=!1,n._m5=!1,n._l6=!1,n._q6=s.arrows&&s.navigation,i=n._e3?"Hor":"Ver",n.slider.addClass("rsWithThumbs rsWithThumbs"+i),r+='<div class="rsNav rsThumbs rsThumbs'+i+'"><div class="'+o+'Container">',n._o6=s.appendSpan?'<span class="thumbIco"></span>':"";for(var l=0;l<n.numSlides;l++)i=n.slides[l],r+="<div"+t+' class="rsNavItem rsThumb">'+i.thumbnail+n._o6+"</div>";r=e(r+"</div></div>"),t={},s.paddingTop&&(t[n._e3?"paddingTop":"paddingLeft"]=s.paddingTop),s.paddingBottom&&(t[n._e3?"paddingBottom":"paddingRight"]=s.paddingBottom),r.css(t),n._s3=e(r).find("."+o+"Container"),n._q6&&(o+="Arrow",s.arrowLeft?n._r6=s.arrowLeft:(n._r6=e('<div class="'+o+" "+o+'Left"><div class="'+o+'Icn"></div></div>'),r.append(n._r6)),s.arrowRight?n._s6=s.arrowRight:(n._s6=e('<div class="'+o+" "+o+'Right"><div class="'+o+'Icn"></div></div>'),r.append(n._s6)),n._r6.click(function(){var e=(Math.floor(n._i3/n._t6)+n._u6)*n._t6+n._v6;n._a4(e>n._n3?n._n3:e)}),n._s6.click(function(){var e=(Math.floor(n._i3/n._t6)-n._u6)*n._t6+n._v6;n._a4(e<n._o3?n._o3:e)}),s.arrowsAutoHide&&!n.hasTouch&&(n._r6.css("opacity",0),n._s6.css("opacity",0),r.one("mousemove.rsarrowshover",function(){n._l6&&(n._r6.css("opacity",1),n._s6.css("opacity",1))}),r.hover(function(){n._l6&&(n._r6.css("opacity",1),n._s6.css("opacity",1))},function(){n._l6&&(n._r6.css("opacity",0),n._s6.css("opacity",0))}))),n._k5=r,n._l5=n._s3.children(),n.msEnabled&&n.st.thumbs.navigation&&n._s3.css("-ms-touch-action",n._e3?"pan-y":"pan-x"),n.slider.append(r),n._w3=!0,n._v6=a,s.navigation&&n._e&&n._s3.css(n._g+"transition-property",n._g+"transform"),n._k5.on("click.rs",".rsNavItem",function(){n._m5||n.goTo(e(this).index())}),n.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){n._w6=n._e3?n._c4:n._b4,n.updateThumbsSize(!0)}),n.ev.off("rsAutoHeightChange.thumbs").on("rsAutoHeightChange.thumbs",function(e,t){n.updateThumbsSize(!0,t)})},updateThumbsSize:function(e,t){var i=this,n=i._l5.first(),o={},s=i._l5.length;i._t6=(i._e3?n.outerWidth():n.outerHeight())+i._v6,i._y3=s*i._t6-i._v6,o[i._e3?"width":"height"]=i._y3+i._v6,i._z3=i._e3?i._k5.width():void 0!==t?t:i._k5.height(),i._w3&&(i.isFullscreen||i.st.thumbs.fitInViewport)&&(i._e3?i._c4=i._w6-i._k5.outerHeight():i._b4=i._w6-i._k5.outerWidth()),i._z3&&(i._o3=-(i._y3-i._z3)-i.st.thumbs.firstMargin,i._n3=i.st.thumbs.firstMargin,i._u6=Math.floor(i._z3/i._t6),i._y3<i._z3?(i.st.thumbs.autoCenter&&i._q3((i._z3-i._y3)/2),i.st.thumbs.arrows&&i._r6&&(i._r6.addClass("rsThumbsArrowDisabled"),i._s6.addClass("rsThumbsArrowDisabled")),i._l6=!1,i._m5=!1,i._k5.off(i._j1)):i.st.thumbs.navigation&&!i._l6&&(i._l6=!0,!i.hasTouch&&i.st.thumbs.drag||i.hasTouch&&i.st.thumbs.touch)&&(i._m5=!0,i._k5.on(i._j1,function(e){i._g2(e,!0)})),i._s3.css(o),e&&t&&i._m6(i.currSlideId),i._e&&(o[i._g+"transition-duration"]="0ms"))},setThumbsOrientation:function(e,t){this._w3&&(this.st.thumbs.orientation=e,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._j1),t||this.updateSliderSize(!0))},_q3:function(e){this._i3=e,this._e?this._s3.css(this._x1,this._y1+(this._e3?e+this._z1+0:0+this._z1+e)+this._a2):this._s3.css(this._e3?this._x1:this._w1,e)},_a4:function(t,i,n,o,s){var r=this;if(r._l6){i||(i=r.st.thumbs.transitionSpeed),r._i3=t,r._x6&&clearTimeout(r._x6),r._p6&&(r._e||r._s3.stop(),n=!0);var a={};r._p6=!0,r._e?(a[r._g+"transition-duration"]=i+"ms",a[r._g+"transition-timing-function"]=n?e.rsCSS3Easing[r.st.easeOut]:e.rsCSS3Easing[r.st.easeInOut],r._s3.css(a),r._q3(t)):(a[r._e3?r._x1:r._w1]=t+"px",r._s3.animate(a,i,n?"easeOutCubic":r.st.easeInOut)),o&&(r._i3=o),r._y6(),r._x6=setTimeout(function(){r._p6=!1,s&&(r._a4(o,s,!0),s=null)},i)}},_y6:function(){this._q6&&(this._i3===this._n3?this._r6.addClass("rsThumbsArrowDisabled"):this._r6.removeClass("rsThumbsArrowDisabled"),this._i3===this._o3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(e,t){var i,n=0,o=e*this._t6+2*this._t6-this._v6+this._n3,s=Math.floor(this._i3/this._t6);this._l6&&(this._j6&&(t=!0,this._j6=!1),o+this._i3>this._z3?(e===this.numSlides-1&&(n=1),s=-e+this._u6-2+n,i=s*this._t6+this._z3%this._t6+this._v6-this._n3):0!==e?(e-1)*this._t6<=-this._i3+this._n3&&e-1<=this.numSlides-this._u6&&(i=(-e+1)*this._t6+this._n3):i=this._n3,i!==this._i3&&(n=void 0===i?this._i3:i,n>this._n3?this._q3(this._n3):n<this._o3?this._q3(this._o3):void 0!==i&&(t?this._q3(i):this._a4(i))),this._y6())}}),e.rsModules.thumbnails=e.rsProto._h6}(jQuery),function(e){e.extend(e.rsProto,{_f6:function(){var t=this;"tabs"===t.st.controlNavigation&&(t.ev.on("rsBeforeParseNode",function(t,i,n){i=e(i),n.thumbnail=i.find(".rsTmb").remove(),n.thumbnail.length?n.thumbnail=e(document.createElement("div")).append(n.thumbnail).html():(n.thumbnail=i.attr("data-rsTmb"),n.thumbnail||(n.thumbnail=i.find(".rsImg").attr("data-rsTmb")),n.thumbnail=n.thumbnail?'<img src="'+n.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._g6()}),t.ev.on("rsOnAppendSlide",function(e,i,n){n>=t.numSlides?t._k5.append('<div class="rsNavItem rsTab">'+i.thumbnail+"</div>"):t._l5.eq(n).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>"),t._l5=t._k5.children()}),t.ev.on("rsOnRemoveSlide",function(e,i){var n=t._l5.eq(i);n&&(n.remove(),t._l5=t._k5.children())}),t.ev.on("rsOnUpdateNav",function(){var e=t.currSlideId;t._n5&&t._n5.removeClass("rsNavSelected"),e=t._l5.eq(e),e.addClass("rsNavSelected"),t._n5=e}))},_g6:function(){var t,i=this;i._j5=!0,t='<div class="rsNav rsTabs">';for(var n=0;n<i.numSlides;n++)t+='<div class="rsNavItem rsTab">'+i.slides[n].thumbnail+"</div>";t=e(t+"</div>"),i._k5=t,i._l5=t.children(".rsNavItem"),i.slider.append(t),i._k5.click(function(t){t=e(t.target).closest(".rsNavItem"),t.length&&i.goTo(t.index())})}}),e.rsModules.tabs=e.rsProto._f6}(jQuery),function(e){e.extend(e.rsProto,{_q5:function(){var t=this;t._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0},t.st.fullscreen=e.extend({},t._r5,t.st.fullscreen),t.st.fullscreen.enabled&&t.ev.one("rsBeforeSizeSet",function(){t._s5()})},_s5:function(){var t=this;if(t._t5=!t.st.keyboardNavEnabled&&t.st.fullscreen.keyboardNav,t.st.fullscreen.nativeFS){t._u5={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var i=["webkit","moz","o","ms","khtml"];if(!t.isAndroid)if("undefined"!=typeof document.cancelFullScreen)t._u5.supportsFullScreen=!0;else for(var n=0;n<i.length;n++)if(t._u5.prefix=i[n],"undefined"!=typeof document[t._u5.prefix+"CancelFullScreen"]){t._u5.supportsFullScreen=!0;break}t._u5.supportsFullScreen?(t.nativeFS=!0,t._u5.fullScreenEventName=t._u5.prefix+"fullscreenchange"+t.ns,t._u5.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},t._u5.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},t._u5.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):t._u5=!1}t.st.fullscreen.buttonFS&&(t._v5=e('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(t._o1).on("click.rs",function(){t.isFullscreen?t.exitFullscreen():t.enterFullscreen()}))},enterFullscreen:function(t){var i=this;if(i._u5){if(!t)return i._b.on(i._u5.fullScreenEventName,function(){i._u5.isFullScreen()?i.enterFullscreen(!0):i.exitFullscreen(!0)}),void i._u5.requestFullScreen(e("html")[0]);i._u5.requestFullScreen(e("html")[0])}if(!i._w5){i._w5=!0,i._b.on("keyup"+i.ns+"fullscreen",function(e){27===e.keyCode&&i.exitFullscreen()}),i._t5&&i._b2(),t=e(window),i._x5=t.scrollTop(),i._y5=t.scrollLeft(),i._z5=e("html").attr("style"),i._a6=e("body").attr("style"),i._b6=i.slider.attr("style"),e("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"}),i.slider.addClass("rsFullscreen");var n;for(n=0;n<i.numSlides;n++)t=i.slides[n],t.isRendered=!1,t.bigImage&&(t.isBig=!0,t.isMedLoaded=t.isLoaded,t.isMedLoading=t.isLoading,t.medImage=t.image,t.medIW=t.iW,t.medIH=t.iH,t.slideId=-99,t.bigImage!==t.medImage&&(t.sizeType="big"),t.isLoaded=t.isBigLoaded,t.isLoading=!1,t.image=t.bigImage,t.images[0]=t.bigImage,t.iW=t.bigIW,t.iH=t.bigIH,t.isAppended=t.contentAdded=!1,i._c6(t));i.isFullscreen=!0,i._w5=!1,i.updateSliderSize(),i.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(t){var i=this;if(i._u5){if(!t)return void i._u5.cancelFullScreen(e("html")[0]);i._b.off(i._u5.fullScreenEventName)}if(!i._w5){i._w5=!0,i._b.off("keyup"+i.ns+"fullscreen"),i._t5&&i._b.off("keydown"+i.ns),e("html").attr("style",i._z5||""),e("body").attr("style",i._a6||"");var n;for(n=0;n<i.numSlides;n++)t=i.slides[n],t.isRendered=!1,t.bigImage&&(t.isBig=!1,t.slideId=-99,t.isBigLoaded=t.isLoaded,t.isBigLoading=t.isLoading,t.bigImage=t.image,t.bigIW=t.iW,t.bigIH=t.iH,t.isLoaded=t.isMedLoaded,t.isLoading=!1,t.image=t.medImage,t.images[0]=t.medImage,t.iW=t.medIW,t.iH=t.medIH,t.isAppended=t.contentAdded=!1,i._c6(t,!0),t.bigImage!==t.medImage&&(t.sizeType="med"));i.isFullscreen=!1,t=e(window),t.scrollTop(i._x5),t.scrollLeft(i._y5),i._w5=!1,i.slider.removeClass("rsFullscreen"),i.updateSliderSize(),setTimeout(function(){i.updateSliderSize()},1),i.ev.trigger("rsExitFullscreen")}},_c6:function(t){var i=t.isLoaded||t.isLoading?'<img class="rsImg rsMainSlideImage" src="'+t.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+t.image+'"></a>';t.content.hasClass("rsImg")?t.content=e(i):t.content.find(".rsImg").eq(0).replaceWith(i),t.isLoaded||t.isLoading||!t.holder||t.holder.html(t.content)}}),e.rsModules.fullscreen=e.rsProto._q5}(jQuery),function(e){e.extend(e.rsProto,{_x4:function(){var t,i=this;i._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!i.st.autoPlay&&i.st.autoplay&&(i.st.autoPlay=i.st.autoplay),i.st.autoPlay=e.extend({},i._y4,i.st.autoPlay),i.st.autoPlay.enabled&&(i.ev.on("rsBeforeParseNode",function(i,n,o){n=e(n),(t=n.attr("data-rsDelay"))&&(o.customDelay=parseInt(t,10))}),i.ev.one("rsAfterInit",function(){i._z4()}),i.ev.on("rsBeforeDestroy",function(){i.stopAutoPlay(),i.slider.off("mouseenter mouseleave"),e(window).off("blur"+i.ns+" focus"+i.ns)}))},_z4:function(){var t=this;t.startAutoPlay(),t.ev.on("rsAfterContentSet",function(e,i){t._l2||t._r2||!t._a5||i!==t.currSlide||t._b5()}),t.ev.on("rsDragRelease",function(){t._a5&&t._c5&&(t._c5=!1,t._b5())}),t.ev.on("rsAfterSlideChange",function(){t._a5&&t._c5&&(t._c5=!1,t.currSlide.isLoaded&&t._b5())}),t.ev.on("rsDragStart",function(){t._a5&&(t.st.autoPlay.stopAtAction?t.stopAutoPlay():(t._c5=!0,t._d5()))}),t.ev.on("rsBeforeMove",function(e,i,n){t._a5&&(n&&t.st.autoPlay.stopAtAction?t.stopAutoPlay():(t._c5=!0,t._d5()))}),t._e5=!1,t.ev.on("rsVideoStop",function(){t._a5&&(t._e5=!1,t._b5())}),t.ev.on("rsVideoPlay",function(){t._a5&&(t._c5=!1,t._d5(),t._e5=!0)}),e(window).on("blur"+t.ns,function(){t._a5&&(t._c5=!0,t._d5())}).on("focus"+t.ns,function(){t._a5&&t._c5&&(t._c5=!1,t._b5())}),t.st.autoPlay.pauseOnHover&&(t._f5=!1,t.slider.hover(function(){t._a5&&(t._c5=!1,t._d5(),t._f5=!0)},function(){t._a5&&(t._f5=!1,t._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0,this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1,this._d5()},_b5:function(){var e=this;e._f5||e._e5||(e._g5=!0,e._h5&&clearTimeout(e._h5),e._h5=setTimeout(function(){var t;e._z||e.st.loopRewind||(t=!0,e.st.loopRewind=!0),e.next(!0),t&&(e.st.loopRewind=!1)},e.currSlide.customDelay?e.currSlide.customDelay:e.st.autoPlay.delay))},_d5:function(){this._f5||this._e5||(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}}),e.rsModules.autoplay=e.rsProto._x4}(jQuery),function(e){e.extend(e.rsProto,{_z6:function(){var t=this;t._a7={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?rel=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&portrait=0&autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},t.st.video=e.extend({},t._a7,t.st.video),t.ev.on("rsBeforeSizeSet",function(){t._b7&&setTimeout(function(){var e=t._r1,e=e.hasClass("rsVideoContainer")?e:e.find(".rsVideoContainer");t._c7&&t._c7.css({width:e.width(),height:e.height()})},32)});var i=t._a.mozilla;t.ev.on("rsAfterParseNode",function(n,o,s){if(n=e(o),s.videoURL){t.st.video.disableCSS3inFF&&i&&(t._e=t._f=!1),o=e('<div class="rsVideoContainer"></div>');var r=e('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');n.hasClass("rsImg")?s.content=o.append(n).append(r):s.content.find(".rsImg").wrap(o).after(r)}}),t.ev.on("rsAfterSlideChange",function(){t.stopVideo()})},toggleVideo:function(){return this._b7?this.stopVideo():this.playVideo()},playVideo:function(){var t=this;if(!t._b7){var i=t.currSlide;if(!i.videoURL)return!1;t._d7=i;var n,o,s=t._e7=i.content,i=i.videoURL;return i.match(/youtu\.be/i)||i.match(/youtube\.com/i)?(o=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(o=i.match(o))&&11==o[7].length&&(n=o[7]),void 0!==n&&(t._c7=t.st.video.youTubeCode.replace("%id%",n))):i.match(/vimeo\.com/i)&&(o=/(www\.)?vimeo.com\/(\d+)($|\/)/,(o=i.match(o))&&(n=o[2]),void 0!==n&&(t._c7=t.st.video.vimeoCode.replace("%id%",n))),t.videoObj=e(t._c7),t.ev.trigger("rsOnCreateVideoElement",[i]),
t.videoObj.length&&(t._c7=e('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),t._c7.find(".rsPreloader").after(t.videoObj),s=s.hasClass("rsVideoContainer")?s:s.find(".rsVideoContainer"),t._c7.css({width:s.width(),height:s.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(e){return t.stopVideo(),e.preventDefault(),e.stopPropagation(),!1}),s.append(t._c7),t.isIPAD&&s.addClass("rsIOSVideo"),t._f7(!1),setTimeout(function(){t._c7.addClass("rsVideoActive")},10),t.ev.trigger("rsVideoPlay"),t._b7=!0),!0}return!1},stopVideo:function(){var e=this;return e._b7?(e.isIPAD&&e.slider.find(".rsCloseVideoBtn").remove(),e._f7(!0),setTimeout(function(){e.ev.trigger("rsOnDestroyVideoElement",[e.videoObj]);var t=e._c7.find("iframe");if(t.length)try{t.attr("src","")}catch(i){}e._c7.remove(),e._c7=null},16),e.ev.trigger("rsVideoStop"),e._b7=!1,!0):!1},_f7:function(e){var t=[],i=this.st.video;if(i.autoHideArrows&&(this._c2&&(t.push(this._c2,this._d2),this._e2=!e),this._v5&&t.push(this._v5)),i.autoHideControlNav&&this._k5&&t.push(this._k5),i.autoHideBlocks&&this._d7.animBlocks&&t.push(this._d7.animBlocks),i.autoHideCaption&&this.globalCaption&&t.push(this.globalCaption),this.slider[e?"removeClass":"addClass"]("rsVideoPlaying"),t.length)for(i=0;i<t.length;i++)e?t[i].removeClass("rsHidden"):t[i].addClass("rsHidden")}}),e.rsModules.video=e.rsProto._z6}(jQuery),function(e){e.extend(e.rsProto,{_p4:function(){function t(){var e=n.currSlide;if(n.currSlide&&n.currSlide.isLoaded&&n._t4!==e){if(0<n._s4.length){for(i=0;i<n._s4.length;i++)clearTimeout(n._s4[i]);n._s4=[]}if(0<n._r4.length){var t;for(i=0;i<n._r4.length;i++)(t=n._r4[i])&&(n._e?(t.block.css(n._g+n._u1,"0s"),t.block.css(t.css)):t.block.stop(!0).css(t.css),n._t4=null,e.animBlocksDisplayed=!1);n._r4=[]}e.animBlocks&&(e.animBlocksDisplayed=!0,n._t4=e,n._u4(e.animBlocks))}}var i,n=this;n._q4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200},n.st.block=e.extend({},n._q4,n.st.block),n._r4=[],n._s4=[],n.ev.on("rsAfterInit",function(){t()}),n.ev.on("rsBeforeParseNode",function(t,i,n){i=e(i),n.animBlocks=i.find(".rsABlock").css("display","none"),n.animBlocks.length||(i.hasClass("rsABlock")?n.animBlocks=i.css("display","none"):n.animBlocks=!1)}),n.ev.on("rsAfterContentSet",function(e,i){i.id===n.slides[n.currSlideId].id&&setTimeout(function(){t()},n.st.fadeinLoadedSlide?300:0)}),n.ev.on("rsAfterSlideChange",function(){t()})},_v4:function(e,t){setTimeout(function(){e.css(t)},6)},_u4:function(t){var i,n,o,s,r,a,l,c=this;c._s4=[],t.each(function(t){i=e(this),n={},o={},s=null;var u=i.attr("data-move-offset"),u=u?parseInt(u,10):c.st.block.moveOffset;if(u>0&&((a=i.data("move-effect"))?(a=a.toLowerCase(),"none"===a?a=!1:"left"!==a&&"top"!==a&&"bottom"!==a&&"right"!==a&&(a=c.st.block.moveEffect,"none"===a&&(a=!1))):a=c.st.block.moveEffect,a&&"none"!==a)){var d;d="right"===a||"left"===a?!0:!1;var h;l=!1,c._e?(h=0,r=c._x1):(d?isNaN(parseInt(i.css("right"),10))?r="left":(r="right",l=!0):isNaN(parseInt(i.css("bottom"),10))?r="top":(r="bottom",l=!0),r="margin-"+r,l&&(u=-u),c._e?h=parseInt(i.css(r),10):(h=i.data("rs-start-move-prop"),void 0===h&&(h=parseInt(i.css(r),10),isNaN(h)&&(h=0),i.data("rs-start-move-prop",h)))),o[r]=c._m4("top"===a||"left"===a?h-u:h+u,d),n[r]=c._m4(h,d)}u=i.attr("data-fade-effect"),u?("none"===u.toLowerCase()||"false"===u.toLowerCase())&&(u=!1):u=c.st.block.fadeEffect,u&&(o.opacity=0,n.opacity=1),(u||a)&&(s={},s.hasFade=Boolean(u),Boolean(a)&&(s.moveProp=r,s.hasMove=!0),s.speed=i.data("speed"),isNaN(s.speed)&&(s.speed=c.st.block.speed),s.easing=i.data("easing"),s.easing||(s.easing=c.st.block.easing),s.css3Easing=e.rsCSS3Easing[s.easing],s.delay=i.data("delay"),isNaN(s.delay)&&(s.delay=c.st.block.delay*t)),u={},c._e&&(u[c._g+c._u1]="0ms"),u.moveProp=n.moveProp,u.opacity=n.opacity,u.display="none",c._r4.push({block:i,css:u}),c._v4(i,o),c._s4.push(setTimeout(function(e,t,i,n){return function(){if(e.css("display","block"),i){var o={};if(c._e){var s="";i.hasMove&&(s+=i.moveProp),i.hasFade&&(i.hasMove&&(s+=", "),s+="opacity"),o[c._g+c._t1]=s,o[c._g+c._u1]=i.speed+"ms",o[c._g+c._v1]=i.css3Easing,e.css(o),setTimeout(function(){e.css(t)},24)}else setTimeout(function(){e.animate(t,i.speed,i.easing)},16)}delete c._s4[n]}}(i,n,s,t),6>=s.delay?12:s.delay))})}}),e.rsModules.animatedBlocks=e.rsProto._p4}(jQuery),function(e){e.extend(e.rsProto,{_w4:function(){var e=this;if(e.st.autoHeight){var t,i,n,o=!0,s=function(s){n=e.slides[e.currSlideId],(t=n.holder)&&(i=t.height())&&void 0!==i&&i>(e.st.minAutoHeight||30)&&(e._c4=i,e._e||!s?e._e1.css("height",i):e._e1.stop(!0,!0).animate({height:i},e.st.transitionSpeed),e.ev.trigger("rsAutoHeightChange",i),o&&(e._e&&setTimeout(function(){e._e1.css(e._g+"transition","height "+e.st.transitionSpeed+"ms ease-in-out")},16),o=!1))};e.ev.on("rsMaybeSizeReady.rsAutoHeight",function(e,t){n===t&&s()}),e.ev.on("rsAfterContentSet.rsAutoHeight",function(e,t){n===t&&s()}),e.slider.addClass("rsAutoHeight"),e.ev.one("rsAfterInit",function(){setTimeout(function(){s(!1),setTimeout(function(){e.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)}),e.ev.on("rsBeforeAnimStart",function(){s(!0)}),e.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){s(!1)},16)})}}}),e.rsModules.autoHeight=e.rsProto._w4}(jQuery),function(e){e.extend(e.rsProto,{_d6:function(){var t=this;t.st.globalCaption&&(t.ev.on("rsAfterInit",function(){t.globalCaption=e('<div class="rsGCaption"></div>').appendTo(t.st.globalCaptionInside?t._e1:t.slider),t.globalCaption.html(t.currSlide.caption)}),t.ev.on("rsBeforeAnimStart",function(){t.globalCaption.html(t.currSlide.caption)}))}}),e.rsModules.globalCaption=e.rsProto._d6}(jQuery),function(e){e.rsProto._o4=function(){var e,t=this;t.st.addActiveClass&&t.ev.on("rsOnUpdateNav",function(){e&&clearTimeout(e),e=setTimeout(function(){t._g4&&t._g4.removeClass("rsActiveSlide"),t._r1&&t._r1.addClass("rsActiveSlide"),e=null},50)})},e.rsModules.activeClass=e.rsProto._o4}(jQuery),function(e){e.extend(e.rsProto,{_o5:function(){var t,i,n,o=this;if(o._p5={enabled:!1,change:!1,prefix:""},o.st.deeplinking=e.extend({},o._p5,o.st.deeplinking),o.st.deeplinking.enabled){var s=o.st.deeplinking.change,r=o.st.deeplinking.prefix,a="#"+r,l=function(){var e=window.location.hash;return e&&0<e.indexOf(r)&&(e=parseInt(e.substring(a.length),10),e>=0)?e-1:-1},c=l();-1!==c&&(o.st.startSlideId=c),s&&(e(window).on("hashchange"+o.ns,function(e){t||(e=l(),0>e||(e>o.numSlides-1&&(e=o.numSlides-1),o.goTo(e)))}),o.ev.on("rsBeforeAnimStart",function(){i&&clearTimeout(i),n&&clearTimeout(n)}),o.ev.on("rsAfterSlideChange",function(){i&&clearTimeout(i),n&&clearTimeout(n),n=setTimeout(function(){t=!0,window.location.replace((""+window.location).split("#")[0]+a+(o.currSlideId+1)),i=setTimeout(function(){t=!1,i=null},60)},400)})),o.ev.on("rsBeforeDestroy",function(){i=n=null,s&&e(window).off("hashchange"+o.ns)})}}}),e.rsModules.deeplinking=e.rsProto._o5}(jQuery),function(e,t,i){function n(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var o,s="hashchange",r=document,a=e.event.special,l=r.documentMode,c="on"+s in t&&(l===i||l>7);e.fn[s]=function(e){return e?this.bind(s,e):this.trigger(s)},e.fn[s].delay=50,a[s]=e.extend(a[s],{setup:function(){return c?!1:void e(o.start)},teardown:function(){return c?!1:void e(o.stop)}}),o=function(){function o(){var i=n(),r=p(u);i!==u?(h(u=i,r),e(t).trigger(s)):r!==u&&(location.href=location.href.replace(/#.*/,"")+r),a=setTimeout(o,e.fn[s].delay)}var a,l={},u=n(),d=function(e){return e},h=d,p=d;return l.start=function(){a||o()},l.stop=function(){a&&clearTimeout(a),a=i},t.attachEvent&&!t.addEventListener&&!c&&function(){var t,i;l.start=function(){t||(i=(i=e.fn[s].src)&&i+n(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||h(n()),o()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow,r.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=r.title)}catch(e){}})},l.stop=d,p=function(){return n(t.location.href)},h=function(i,n){var o=t.document,a=e.fn[s].domain;i!==n&&(o.title=r.title,o.open(),a&&o.write('<script>document.domain="'+a+'"</script>'),o.close(),t.location.hash=i)}}(),l}()}(jQuery,this),function(e){e.rsProto._g7=function(){var t=this;t.st.visibleNearby&&t.st.visibleNearby.enabled&&(t._h7={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},t.st.visibleNearby=e.extend({},t._h7,t.st.visibleNearby),t.ev.one("rsAfterPropsSetup",function(){t._i7=t._e1.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent(),t.st.visibleNearby.hiddenOverflow||t._i7.css("overflow","visible"),t._o1=t.st.controlsInside?t._i7:t.slider}),t.ev.on("rsAfterSizePropSet",function(){var e,i=t.st.visibleNearby;e=i.breakpoint&&t.width<i.breakpoint?i.breakpointCenterArea:i.centerArea,t._h?(t._b4*=e,t._i7.css({height:t._c4,width:t._b4/e}),t._d=t._b4*(1-e)/2/e):(t._c4*=e,t._i7.css({height:t._c4/e,width:t._b4}),t._d=t._c4*(1-e)/2/e),i.navigateByCenterClick||(t._q=t._h?t._b4:t._c4),i.center&&t._e1.css("margin-"+(t._h?"left":"top"),t._d)}))},e.rsModules.visibleNearby=e.rsProto._g7}(jQuery),function(e,t){var i=function(e,t,i){var n;return function(){function o(){i||e.apply(s,r),n=null}var s=this,r=arguments;n?clearTimeout(n):i&&e.apply(s,r),n=setTimeout(o,t||100)}};e("html").hasClass("lt-ie9")?jQuery.fn[t]=function(e){return e?this.bind("ieResize",i(e)):this.trigger(t)}:jQuery.fn[t]=function(e){return e?this.bind("resize",i(e)):this.trigger(t)}}(jQuery,"smartresize");var smartresize_windowWidth=0,smartresize_windowHeight=0;$("html").hasClass("lt-ie9")&&(document.body.onresize=function(){(smartresize_windowWidth!==document.documentElement.clientWidth||smartresize_windowHeight!==document.documentElement.clientHeight)&&(smartresize_windowWidth=document.documentElement.clientWidth,smartresize_windowHeight=document.documentElement.clientHeight,$(window).trigger("ieResize"))}),function(e,t){"$:nomunge";var i,n=e.jQuery||e.Cowboy||(e.Cowboy={});n.throttle=i=function(e,i,o,s){function r(){function n(){l=+new Date,o.apply(c,d)}function r(){a=t}var c=this,u=+new Date-l,d=arguments;s&&!a&&n(),a&&clearTimeout(a),s===t&&u>e?n():i!==!0&&(a=setTimeout(s?r:n,s===t?e-u:e))}var a,l=0;return"boolean"!=typeof i&&(s=o,o=i,i=t),n.guid&&(r.guid=o.guid=o.guid||n.guid++),r},n.debounce=function(e,n,o){return o===t?i(e,n,!1):i(e,o,n!==!1)}}(this),function(e){"use strict";function t(e,t,i){for(e=String(e);e.length<t;)e=String(i)+e;return e}function i(e,t,i){return e>i?i:t>e?t:e}function n(e,t,i,n){for(;e>i;)e-=n;for(;t>e;)e+=n;return e}function o(e){return e.preventDefault(),!1}function s(){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}function r(e,t,i){i&&e.bind(t+"."+d,i)}function a(e){e.unbind("."+d)}function l(e){var t,i,n="string"==typeof e.source?[e.source]:e.source,o=0,s=[],r=e.preloadCount||s.length,a=!1,l=!1,c=function(){o+=1,"function"==typeof e.progress&&e.progress({index:s.indexOf(this),loaded:o,total:n.length,percent:Math.round(o/n.length*100)}),l=l||this===s[0],!a&&o>=r&&l&&"function"==typeof e.complete&&(a=!0,e.complete(s))};for(t=0;t<n.length;t+=1)i=new Image,s.push(i),i.onload=i.onabort=i.onerror=c,i.src=n[t];"function"==typeof e.initiated&&e.initiated(s)}function c(e,t){var i=(t||e).width,n=(t||e).height;if(1048576>=i*n)return!1;var o;if(o=document.createElement("canvas"),!o||!o.getContext)return!1;var r=o.getContext("2d");if(!r)return!1;o.width=o.height=1,r.fillStyle="#FF00FF",r.fillRect(0,0,1,1),r.drawImage(e,-i+1,0);try{var a=r.getImageData(0,0,1,1).data;return 255===a[0]&&0===a[1]&&255===a[2]}catch(l){return s(l.message,l.stack),!1}}function u(e){var t=new Image;return t.src=e.src,{width:t.width,height:t.height}}var d="spritespin",h=["mousedown","mousemove","mouseup","mouseenter","mouseover","mouseleave","dblclick","touchstart","touchmove","touchend","touchcancel","selectstart","gesturestart","gesturechange","gestureend"],p=["dragstart"],f={};window.SpriteSpin=f,f.namespace=d,f.mods={},f.defaults={source:void 0,width:void 0,height:void 0,frames:void 0,framesX:void 0,lanes:1,module:"360",behavior:"drag",renderer:"canvas",lane:0,frame:0,frameTime:40,animate:!0,reverse:!1,loop:!0,stopFrame:0,wrap:!0,wrapLane:!1,sense:1,senseLane:void 0,orientation:"horizontal",detectSubsampling:!0,scrollThreshold:50,preloadCount:void 0,onInit:void 0,onProgress:void 0,onLoad:void 0,onFrame:void 0,onDraw:void 0},f.clamp=i,f.wrap=n,f.sourceArray=function(e,i){var n=0,o=0,s=0,r=0,a=i.digits||2;i.frame&&(n=i.frame[0],o=i.frame[1]),i.lane&&(s=i.lane[0],r=i.lane[1]);var l,c,u,d=[];for(l=s;r>=l;l+=1)for(c=n;o>=c;c+=1)u=e.replace("{lane}",t(l,a,0)),u=u.replace("{frame}",t(c,a,0)),d.push(u);return d},f.measureSource=function(e){var t=e.images[0],i=u(t);if(1===e.images.length){if(e.sourceWidth=i.width,e.sourceHeight=i.height,e.detectSubsampling&&c(t,i)&&(e.sourceWidth/=2,e.sourceHeight/=2),e.framesX=e.framesX||e.frames,!e.frameWidth||!e.frameHeight)if(e.framesX){e.frameWidth=Math.floor(e.sourceWidth/e.framesX);var n=Math.ceil(e.frames*e.lanes/e.framesX);e.frameHeight=Math.floor(e.sourceHeight/n)}else e.frameWidth=i.width,e.frameHeight=i.height}else e.sourceWidth=e.frameWidth=i.width,e.sourceHeight=e.frameHeight=i.height,c(t,i)&&(e.sourceWidth=e.frameWidth=i.width/2,e.sourceHeight=e.frameHeight=i.height/2),e.frames=e.frames||e.images.length},f.resetInput=function(e){e.startX=e.startY=void 0,e.currentX=e.currentY=void 0,e.oldX=e.oldY=void 0,e.dX=e.dY=e.dW=0,e.ddX=e.ddY=e.ddW=0},f.updateInput=function(e,t){void 0===e.touches&&void 0!==e.originalEvent&&(e.touches=e.originalEvent.touches),t.oldX=t.currentX,t.oldY=t.currentY,void 0!==e.touches&&e.touches.length>0?(t.currentX=e.touches[0].clientX||0,t.currentY=e.touches[0].clientY||0):(t.currentX=e.clientX||0,t.currentY=e.clientY||0),(void 0===t.oldX||void 0===t.oldY)&&(t.oldX=t.currentX,t.oldY=t.currentY),(void 0===t.startX||void 0===t.startY)&&(t.startX=t.currentX,t.startY=t.currentY,t.clickframe=t.frame,t.clicklane=t.lane),t.dX=t.currentX-t.startX,t.dY=t.currentY-t.startY,t.ddX=t.currentX-t.oldX,t.ddY=t.currentY-t.oldY,t.ndX=t.dX/t.width,t.ndY=t.dY/t.height,t.nddX=t.ddX/t.width,t.nddY=t.ddY/t.height},f.updateFrame=function(e,t,o){void 0!==t?e.frame=Number(t):e.animation&&(e.frame+=e.reverse?-1:1),e.animation?(e.frame=n(e.frame,0,e.frames-1,e.frames),e.loop||e.frame!==e.stopFrame||f.stopAnimation(e)):e.wrap?e.frame=n(e.frame,0,e.frames-1,e.frames):e.frame=i(e.frame,0,e.frames-1),void 0!==o&&(e.lane=o,e.lane=i(e.lane,0,e.lanes-1)),e.target.trigger("onFrame",e),e.target.trigger("onDraw",e)},f.stopAnimation=function(e){e.animate=!1,e.animation&&(window.clearInterval(e.animation),e.animation=null)},f.setAnimation=function(e){e.animate?f.requestFrame(e):f.stopAnimation(e)},f.requestFrame=function(e){e.animation||(void 0===e.frameFunction&&(e.frameFunction=function(){try{f.updateFrame(e)}catch(t){}}),e.animation=window.setInterval(e.frameFunction,e.frameTime))},f.setModules=function(t){var i,n,o;for(i=0;i<t.mods.length;i+=1)n=t.mods[i],"string"==typeof n&&(o=f.mods[n],o?t.mods[i]=o:e.error("No module found with name "+n))},f.setLayout=function(e){e.target.attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"});var t=Math.floor(e.width||e.frameWidth||e.target.innerWidth()),i=Math.floor(e.height||e.frameHeight||e.target.innerHeight());e.target.css({width:t,height:i,position:"relative",overflow:"hidden"});var n={width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"};e.stage.css(n).hide(),e.canvas&&(e.canvas[0].width=t,e.canvas[0].height=i,e.canvas.css(n).hide())},f.setEvents=function(e){var t,i,n,s=e.target;for(a(s),i=0;i<p.length;i+=1)r(s,p[i],o);for(t=0;t<e.mods.length;t+=1){for(n=e.mods[t],i=0;i<h.length;i+=1)r(s,h[i],n[h[i]]);r(s,"onInit",n.onInit),r(s,"onProgress",n.onProgress),r(s,"onLoad",n.onLoad),r(s,"onFrame",n.onFrame),r(s,"onDraw",n.onDraw)}r(s,"onLoad",function(e,t){f.setAnimation(t)}),r(s,"onInit",e.onInit),r(s,"onProgress",e.onProgress),r(s,"onLoad",e.onLoad),r(s,"onFrame",e.onFrame),r(s,"onDraw",e.onDraw)},f.boot=function(e){f.setModules(e),f.setLayout(e),f.setEvents(e),e.target.addClass("loading").trigger("onInit",e),e.loading=!0,l({source:e.source,preloadCount:e.preloadCount,progress:function(t){e.target.trigger("onProgress",[t,e])},complete:function(t){e.images=t,e.loading=!1,f.measureSource(e),e.stage.show(),e.target.removeClass("loading").trigger("onLoad",e).trigger("onFrame",e).trigger("onDraw",e)}})},f.create=function(t){var i=t.target,n=i.data(d);if(n)e.extend(n,t);else{if(n=e.extend({},f.defaults,t),n.source=n.source||[],i.find("img").each(function(){n.source.push(e(this).attr("src"))}),i.empty().addClass("spritespin-instance").append("<div class='spritespin-stage'></div>"),"canvas"===n.renderer){var o=e("<canvas class='spritespin-canvas'></canvas>")[0];o.getContext&&o.getContext("2d")?(n.canvas=e(o),n.context=o.getContext("2d"),i.append(n.canvas),i.addClass("with-canvas")):n.renderer="image"}n.target=i,n.stage=i.find(".spritespin-stage"),i.data(d,n)}"string"==typeof n.source&&(n.source=[n.source]),n.mods&&(delete n.behavior,delete n.module),(n.behavior||n.module)&&(n.mods=[],n.behavior&&n.mods.push(n.behavior),n.module&&n.mods.push(n.module),delete n.behavior,delete n.module),f.boot(n)},f.destroy=function(e){e&&(f.stopAnimation(e),a(e.target),e.target.removeData(d))},f.registerModule=function(t,i){return f.mods[t]&&e.error("Module name is already taken: "+t),i=i||{},f.mods[t]=i,i},f.Api=function(e){this.data=e},f.extendApi=function(t){var i,n=f.Api.prototype;for(i in t)t.hasOwnProperty(i)&&(n[i]?e.error("API method is already defined: "+i):n[i]=t[i]);return n},e.fn.spritespin=function(t,i){if("data"===t)return this.data(d);if("api"===t){var n=this.data(d);return n.api=n.api||new f.Api(n),n.api}if("destroy"===t)return e(this).each(function(){f.destroy(e(this).data(d))});if(2===arguments.length&&"string"==typeof t){var o={};o[t]=i,t=o}return"object"==typeof t?(t.target=t.target||e(this),f.create(t),t.target):e.error("Invalid call to spritespin")}}(window.jQuery||window.Zepto||window.$),function(){"use strict";var e=window.SpriteSpin;e.extendApi({isPlaying:function(){return null!==this.data.animation},isLooping:function(){return this.data.loop},toggleAnimation:function(){this.data.animate=!this.data.animate,e.setAnimation(this.data)},stopAnimation:function(){this.data.animate=!1,e.setAnimation(this.data)},startAnimation:function(){this.data.animate=!0,e.setAnimation(this.data)},loop:function(t){return this.data.loop=t,e.setAnimation(this.data),this},currentFrame:function(){return this.data.frame},updateFrame:function(t){return e.updateFrame(this.data,t),this},skipFrames:function(t){var i=this.data;return e.updateFrame(i,i.frame+(i.reverse?-t:+t)),this},nextFrame:function(){return this.skipFrames(1)},prevFrame:function(){return this.skipFrames(-1)},playTo:function(t,i){var n=this.data;if(i=i||{},i.force||n.frame!==t){if(i.nearest){var o=t-n.frame,s=t>n.frame?o-n.frames:o+n.frames,r=Math.abs(o)<Math.abs(s)?o:s;n.reverse=0>r}return n.animate=!0,n.loop=!1,n.stopFrame=t,e.setAnimation(n),this}}})}(window.jQuery||window.Zepto||window.$),function(e,t){"use strict";function i(i){var n=e(this),o=n.data("spritespin");t.updateInput(i,o);var s,r;"horizontal"===o.orientation?(s=o.target.innerWidth()/2,r=o.currentX-o.target.offset().left):(s=o.target.innerHeight()/2,r=o.currentY-o.target.offset().top),r>s?n.spritespin("next"):n.spritespin("prev")}t.registerModule("click",{mouseup:i,touchend:i})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function i(i){var n=e(this).spritespin("data");n.loading||n.dragging||!n.stage.is(":visible")||(n.dragFrame=n.frame||0,n.dragLane=n.lane||0,t.updateInput(i,n),n.dragging=!0)}function n(){var i=e(this),n=i.spritespin("data");n.dragging=!1,n.stage.is(":visible")&&t.resetInput(n)}function o(i){var n,o,s=e(this),r=s.spritespin("data");if(r.dragging){if(t.updateInput(i,r),Math.abs(r.ddX)+Math.abs(r.ddY)>r.scrollThreshold)return r.dragging=!1,void t.resetInput(r);i.preventDefault();var a=0;a="number"==typeof r.orientation?(Number(r.orientation)||0)*Math.PI/180:"horizontal"===r.orientation?0:Math.PI/2;var l=Math.sin(a),c=Math.cos(a),u=(r.nddX*c-r.nddY*l)*r.sense||0,d=(r.nddX*l+r.nddY*c)*(r.senseLane||r.sense)||0;r.dragFrame+=r.frames*u,r.dragLane+=r.lanes*d,r.wrap||(r.dragFrame=Math.min(r.dragFrame,r.frames),r.dragFrame=Math.max(r.dragFrame,0)),r.wrapLane||(r.dragLane=Math.min(r.dragLane,r.lanes),r.dragLane=Math.max(r.dragLane,0)),o=Math.floor(r.dragFrame),n=Math.floor(r.dragLane),t.updateFrame(r,o,n),t.stopAnimation(r)}}t.registerModule("drag",{mousedown:i,mousemove:o,mouseup:n,mouseleave:n,touchstart:i,touchmove:o,touchend:n,touchcancel:n}),t.registerModule("move",{mousemove:function(e){i.call(this,e),o.call(this,e)},mouseleave:n,touchstart:i,touchmove:o,touchend:n,touchcancel:n})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function i(i){var n=e(this),o=n.spritespin("data");o.loading||(t.updateInput(i,o),o.dragging=!0,n.spritespin("api").startAnimation())}function n(){var i=e(this),n=i.spritespin("data");t.resetInput(n),n.dragging=!1,i.spritespin("api").stopAnimation()}function o(i){var n=e(this),o=n.spritespin("data");if(o.dragging){t.updateInput(i,o);var s,r;"horizontal"===o.orientation?(s=o.target.innerWidth()/2,r=(o.currentX-o.target.offset().left-s)/s):(s=o.height/2,r=(o.currentY-o.target.offset().top-s)/s),o.reverse=0>r,r=0>r?-r:r,o.frameTime=80*(1-r)+20,("horizontal"===o.orientation&&o.dX<o.dY||"vertical"===o.orientation&&o.dX<o.dY)&&i.preventDefault()}}t.registerModule("hold",{mousedown:i,mousemove:o,mouseup:n,mouseleave:n,touchstart:i,touchmove:o,touchend:n,touchcancel:n,onFrame:function(){e(this).spritespin("api").startAnimation()}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function i(i){var n=e(this).spritespin("data");n.loading||(t.updateInput(i,n),n.dragging=!0)}function n(){var i=e(this).spritespin("data");i.dragging=!1,t.resetInput(i)}function o(i){var n=e(this),o=n.spritespin("data");if(o.dragging){t.updateInput(i,o);var s,r,a=o.frame,l=o.snap||.25;"horizontal"===o.orientation?(s=o.dX,r=o.target.innerWidth()*l):(s=o.dY,r=o.target.innerHeight()*l),s>r?(a=o.frame-1,o.dragging=!1):-r>s&&(a=o.frame+1,o.dragging=!1),n.spritespin("update",a),n.spritespin("animate",!1),("horizontal"===o.orientation&&o.dX<o.dY||"vertical"===o.orientation&&o.dX<o.dY)&&i.preventDefault()}}t.registerModule("swipe",{mousedown:i,mousemove:o,mouseup:n,mouseleave:n,touchstart:i,touchmove:o,touchend:n,touchcancel:n})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function i(t){var i=t.lane*t.frames+t.frame,n=t.frameWidth*(i%t.framesX),s=t.frameHeight*o(i/t.framesX);return"canvas"===t.renderer?(t.context.clearRect(0,0,t.width,t.height),void t.context.drawImage(t.images[0],n,s,t.frameWidth,t.frameHeight,0,0,t.width,t.height)):(n=-o(n*t.scaleWidth),s=-o(s*t.scaleHeight),void("background"===t.renderer?t.stage.css({"background-image":["url('",t.source[0],"')"].join(""),"background-position":[n,"px ",s,"px"].join("")}):e(t.images).css({top:s,left:n})))}function n(t){var i=t.lane*t.frames+t.frame,n=t.images[i];"canvas"===t.renderer?n&&(t.context.clearRect(0,0,t.width,t.height),t.context.drawImage(t.images[i],0,0,t.width,t.height)):"background"===t.renderer?t.stage.css({"background-image":["url('",t.source[i],"')"].join(""),"background-position":[0,"px ",0,"px"].join("")}):(e(t.images).hide(),e(t.images[i]).show())}var o=Math.floor;t.registerModule("360",{onLoad:function(t,i){var n,s;if(i.scaleWidth=i.width/i.frameWidth,i.scaleHeight=i.height/i.frameHeight,i.sourceIsSprite=1===i.images.length,i.stage.empty().css({"background-image":"none"}).show(),"canvas"===i.renderer)i.context.clearRect(0,0,i.width,i.height),i.canvas.show();else if("background"===i.renderer){i.sourceIsSprite?(n=o(i.sourceWidth*i.scaleWidth),s=o(i.sourceHeight*i.scaleHeight)):(n=o(i.frameWidth*i.scaleWidth),s=o(i.frameHeight*i.scaleHeight));var r=[n,"px ",s,"px"].join("");i.stage.css({"background-repeat":"no-repeat","-webkit-background-size":r,"-moz-background-size":r,"-o-background-size":r,"background-size":r})}else"image"===i.renderer&&(i.sourceIsSprite?(n=o(i.sourceWidth*i.scaleWidth),s=o(i.sourceHeight*i.scaleHeight)):n=s="100%",e(i.images).appendTo(i.stage).css({width:n,height:s,position:"absolute"}))},onDraw:function(e,t){t.sourceIsSprite?i(t):n(t)}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e){"use strict";var t=window.SpriteSpin.mods.gallery={};t.onLoad=function(t,i){i.images=[],i.offsets=[],i.stage.empty(),i.speed=500,i.opacity=.25,i.oldFrame=0;var n,o=0;for(n=0;n<i.source.length;n+=1){var s=e("<img src='"+i.source[n]+"'/>");i.stage.append(s),i.images.push(s),i.offsets.push(-o+(i.width-s[0].width)/2),o+=s[0].width,s.css({opacity:.25})}i.stage.css({width:o}),i.images[i.oldFrame].animate({opacity:1},i.speed)},t.onDraw=function(e,t){t.oldFrame!==t.frame&&t.offsets?(t.stage.stop(!0,!1),t.stage.animate({left:t.offsets[t.frame]},t.speed),t.images[t.oldFrame].animate({opacity:t.opacity},t.speed),t.oldFrame=t.frame,t.images[t.oldFrame].animate({opacity:1},t.speed)):t.stage.css({left:t.offsets[t.frame]+t.dX})},t.resetInput=function(e,t){t.onDrag||t.stage.animate({left:t.offsets[t.frame]})}}(window.jQuery||window.Zepto||window.$),function(e,t){"use strict";var i=Math.floor;t.registerModule("panorama",{onLoad:function(e,t){t.stage.empty().show(),t.frames=t.sourceWidth,"horizontal"===t.orientation?(t.scale=t.height/t.sourceHeight,t.frames=t.sourceWidth):(t.scale=t.width/t.sourceWidth,t.frames=t.sourceHeight);var n=i(t.sourceWidth*t.scale),o=i(t.sourceHeight*t.scale),s=[n,"px ",o,"px"].join("");t.stage.css({"background-image":["url('",t.source[0],"')"].join(""),"background-repeat":"repeat-both","-webkit-background-size":s,"-moz-background-size":s,"-o-background-size":s,"background-size":s})},onDraw:function(e,t){var n=0,o=0;"horizontal"===t.orientation?n=-i(t.frame%t.frames*t.scale):o=-i(t.frame%t.frames*t.scale),t.stage.css({"background-position":[n,"px ",o,"px"].join("")})}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function i(e,i){e.preventDefault(),i.dragging=!1,!e.touches&&e.originalEvent&&(e.touches=e.originalEvent.touches);var n,o;e.touches&&e.touches.length?(n=e.touches[0].clientX||0,o=e.touches[0].clientY||0):(n=e.clientX||0,o=e.clientY||0),i.zoomX=n/i.width,i.zoomY=o/i.height,i.zoomX=i.zoomX>1?1:i.zoomX<0?0:i.zoomX,i.zoomY=i.zoomY>1?1:i.zoomY<0?0:i.zoomY,t.updateFrame(i)}function n(t){t.preventDefault();var n=e(this).spritespin("data"),o=(new Date).getTime();if(!n.zoomClickTime)return void(n.zoomClickTime=o);var s=o-n.zoomClickTime;return s>500?void(n.zoomClickTime=o):(n.zoomClickTime=0,void(e(this).spritespin("api").toggleZoom()&&i(t,n)))}function o(t){var n=e(this).spritespin("data");n.zoomStage.is(":visible")&&i(t,n)}t.registerModule("zoom",{mousedown:n,touchstart:n,mousemove:o,touchmove:o,onInit:function(t,i){i.zoomStage||(i.zoomStage=e("<div class='spritezoom-stage'></div>").css({width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"}).appendTo(i.target).hide())},onDraw:function(e,t){var i=t.lane*t.frames+t.frame,n=t.source[i];if(t.zoomSource&&(n=t.zoomSource[i]),n){var o=t.zoomX,s=t.zoomY;(null==o||null==s)&&(o=t.zoomX=.5,s=t.zoomY=.5),t.zoomStage.css({"background-repeat":"no-repeat","background-image":["url('",n,"')"].join(""),"background-position":[100*o|0,"% ",100*s|0,"%"].join("")})}}}),t.extendApi({toggleZoom:function(){var t=this.data;return t.zoomStage?t.zoomStage.is(":visible")?(t.zoomStage.fadeOut(),t.stage.fadeIn(),!1):(t.zoomStage.fadeIn(),t.stage.fadeOut(),!0):(e.error("zoom module is not initialized or is not available."),!1)}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(){"use strict";function e(e){e.fn.swiper=function(i){var n;return e(this).each(function(){var e=new t(this,i);n||(n=e)}),n}}var t=function(e,n){function o(){return"horizontal"===g.params.direction}function s(){g.autoplayTimeoutId=setTimeout(function(){g.params.loop?(g.fixLoop(),g._slideNext()):g.isEnd?n.autoplayStopOnLast?g.stopAutoplay():g._slideTo(0):g._slideNext()},g.params.autoplay)}function r(e,t){var i=_(e.target);if(!i.is(t))if("string"==typeof t)i=i.parents(t);else if(t.nodeType){var n;return i.parents().each(function(e,i){i===t&&(n=t)}),n?t:void 0}return 0===i.length?void 0:i[0]}function a(e,t){t=t||{};var i=window.MutationObserver||window.WebkitMutationObserver,n=new i(function(e){e.forEach(function(e){g.onResize(!0),g.emit("onObserverUpdate",g,e)})});n.observe(e,{attributes:"undefined"==typeof t.attributes?!0:t.attributes,childList:"undefined"==typeof t.childList?!0:t.childList,characterData:"undefined"==typeof t.characterData?!0:t.characterData}),g.observers.push(n)}function l(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!g.params.allowSwipeToNext&&(o()&&39===t||!o()&&40===t))return!1;if(!g.params.allowSwipeToPrev&&(o()&&37===t||!o()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var i=!1;if(g.container.parents(".swiper-slide").length>0&&0===g.container.parents(".swiper-slide-active").length)return;for(var n={left:window.pageXOffset,top:window.pageYOffset},s=window.innerWidth,r=window.innerHeight,a=g.container.offset(),l=[[a.left,a.top],[a.left+g.width,a.top],[a.left,a.top+g.height],[a.left+g.width,a.top+g.height]],c=0;c<l.length;c++){var u=l[c];u[0]>=n.left&&u[0]<=n.left+s&&u[1]>=n.top&&u[1]<=n.top+r&&(i=!0)}if(!i)return}o()?((37===t||39===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),39===t&&g.slideNext(),37===t&&g.slidePrev()):((38===t||40===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&g.slideNext(),38===t&&g.slidePrev())}}function c(e){e.originalEvent&&(e=e.originalEvent);var t=g._wheelEvent,i=0;if(e.detail)i=-e.detail;else if("mousewheel"===t)if(g.params.mousewheelForceToAxis)if(o()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;i=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;i=e.wheelDeltaY}else i=e.wheelDelta;else if("DOMMouseScroll"===t)i=-e.detail;else if("wheel"===t)if(g.params.mousewheelForceToAxis)if(o()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;i=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;i=-e.deltaY}else i=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(g.params.freeMode){var n=g.getWrapperTranslate()+i;if(n>0&&(n=0),n<g.maxTranslate()&&(n=g.maxTranslate()),g.setWrapperTransition(0),g.setWrapperTranslate(n),g.updateProgress(),g.updateActiveIndex(),0===n||n===g.maxTranslate())return}else(new window.Date).getTime()-g._lastWheelScrollTime>60&&(0>i?g.slideNext():g.slidePrev()),g._lastWheelScrollTime=(new window.Date).getTime();return g.params.autoplay&&g.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function u(e,t){e=_(e);var i,n,s;i=e.attr("data-swiper-parallax")||"0",n=e.attr("data-swiper-parallax-x"),s=e.attr("data-swiper-parallax-y"),n||s?(n=n||"0",s=s||"0"):o()?(n=i,s="0"):(s=i,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*t+"%":n*t+"px",s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",e.transform("translate3d("+n+", "+s+",0px)")}function d(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(e,n);
var h={direction:"horizontal",differentSlideWidths:!1,touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},p=n&&n.virtualTranslate;n=n||{};for(var f in h)if("undefined"==typeof n[f])n[f]=h[f];else if("object"==typeof n[f])for(var m in h[f])"undefined"==typeof n[f][m]&&(n[f][m]=h[f][m]);var g=this;g.version="3.0.7",g.params=n,g.classNames=[];var _;if(_="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i,_&&(g.$=_,g.container=_(e),0!==g.container.length)){if(g.container.length>1)return void g.container.each(function(){new t(this,n)});g.container[0].swiper=g,g.container.data("swiper",g),g.classNames.push("swiper-container-"+g.params.direction),g.params.freeMode&&g.classNames.push("swiper-container-free-mode"),g.support.flexbox||(g.classNames.push("swiper-container-no-flexbox"),g.params.slidesPerColumn=1),(g.params.parallax||g.params.watchSlidesVisibility)&&(g.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(g.params.effect)>=0&&(g.support.transforms3d?(g.params.watchSlidesProgress=!0,g.classNames.push("swiper-container-3d")):g.params.effect="slide"),"slide"!==g.params.effect&&g.classNames.push("swiper-container-"+g.params.effect),"cube"===g.params.effect&&(g.params.resistanceRatio=0,g.params.slidesPerView=1,g.params.slidesPerColumn=1,g.params.slidesPerGroup=1,g.params.centeredSlides=!1,g.params.spaceBetween=0,g.params.virtualTranslate=!0,g.params.setWrapperSize=!1),"fade"===g.params.effect&&(g.params.slidesPerView=1,g.params.slidesPerColumn=1,g.params.slidesPerGroup=1,g.params.watchSlidesProgress=!0,g.params.spaceBetween=0,"undefined"==typeof p&&(g.params.virtualTranslate=!0)),g.params.grabCursor&&g.support.touch&&(g.params.grabCursor=!1),g.wrapper=g.container.children("."+g.params.wrapperClass),g.params.pagination&&(g.paginationContainer=_(g.params.pagination),g.params.paginationClickable&&g.paginationContainer.addClass("swiper-pagination-clickable")),g.rtl=o()&&("rtl"===g.container[0].dir.toLowerCase()||"rtl"===g.container.css("direction")),g.rtl&&g.classNames.push("swiper-container-rtl"),g.rtl&&(g.wrongRTL="-webkit-box"===g.wrapper.css("display")),g.params.slidesPerColumn>1&&g.classNames.push("swiper-container-multirow"),g.device.android&&g.classNames.push("swiper-container-android"),g.container.addClass(g.classNames.join(" ")),g.translate=0,g.progress=0,g.velocity=0,g.lockSwipeToNext=function(){g.params.allowSwipeToNext=!1},g.lockSwipeToPrev=function(){g.params.allowSwipeToPrev=!1},g.lockSwipes=function(){g.params.allowSwipeToNext=g.params.allowSwipeToPrev=!1},g.unlockSwipeToNext=function(){g.params.allowSwipeToNext=!0},g.unlockSwipeToPrev=function(){g.params.allowSwipeToPrev=!0},g.unlockSwipes=function(){g.params.allowSwipeToNext=g.params.allowSwipeToPrev=!0},g.params.grabCursor&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grab",g.container[0].style.cursor="-moz-grab",g.container[0].style.cursor="grab"),g.imagesToLoad=[],g.imagesLoaded=0,g.loadImage=function(e,t,i,n){function o(){n&&n()}var s;e.complete&&i?o():t?(s=new window.Image,s.onload=o,s.onerror=o,s.src=t):o()},g.preloadImages=function(){function e(){"undefined"!=typeof g&&null!==g&&(void 0!==g.imagesLoaded&&g.imagesLoaded++,g.imagesLoaded===g.imagesToLoad.length&&(g.params.updateOnImagesReady&&g.update(),g.emit("onImagesReady",g)))}g.imagesToLoad=g.container.find("img");for(var t=0;t<g.imagesToLoad.length;t++)g.loadImage(g.imagesToLoad[t],g.imagesToLoad[t].currentSrc||g.imagesToLoad[t].getAttribute("src"),!0,e)},g.autoplayTimeoutId=void 0,g.autoplaying=!1,g.autoplayPaused=!1,g.startAutoplay=function(){return"undefined"!=typeof g.autoplayTimeoutId?!1:g.params.autoplay?g.autoplaying?!1:(g.autoplaying=!0,g.emit("onAutoplayStart",g),void s()):!1},g.stopAutoplay=function(){g.autoplayTimeoutId&&(g.autoplayTimeoutId&&clearTimeout(g.autoplayTimeoutId),g.autoplaying=!1,g.autoplayTimeoutId=void 0,g.emit("onAutoplayStop",g))},g.pauseAutoplay=function(e){g.autoplayPaused||(g.autoplayTimeoutId&&clearTimeout(g.autoplayTimeoutId),g.autoplayPaused=!0,0===e?(g.autoplayPaused=!1,s()):g.wrapper.transitionEnd(function(){g&&(g.autoplayPaused=!1,g.autoplaying?s():g.stopAutoplay())}))},g.minTranslate=function(){return-g.snapGrid[0]},g.maxTranslate=function(){return-g.snapGrid[g.snapGrid.length-1]},g.updateContainerSize=function(){var e,t;e="undefined"!=typeof g.params.width?g.params.width:g.container[0].clientWidth,t="undefined"!=typeof g.params.height?g.params.height:g.container[0].clientHeight,0===e&&o()||0===t&&!o()||(g.width=e,g.height=t,g.size=o()?g.width:g.height)},g.updateSlidesSize=function(){g.slides=g.wrapper.children("."+g.params.slideClass),g.snapGrid=[],g.slidesGrid=[],g.slidesSizesGrid=[];var e,t=g.params.spaceBetween,i=0,n=0,s=0;"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*g.size),g.virtualSize=-t,g.rtl?g.slides.css({marginLeft:"",marginTop:""}):g.slides.css({marginRight:"",marginBottom:""});var r;g.params.slidesPerColumn>1&&(r=Math.floor(g.slides.length/g.params.slidesPerColumn)===g.slides.length/g.params.slidesPerColumn?g.slides.length:Math.ceil(g.slides.length/g.params.slidesPerColumn)*g.params.slidesPerColumn);var a;for(e=0;e<g.slides.length;e++){a=0;var l=g.slides.eq(e);if(g.params.slidesPerColumn>1){var c,u,d,h,p=g.params.slidesPerColumn;"column"===g.params.slidesPerColumnFill?(u=Math.floor(e/p),d=e-u*p,c=u+d*r/p,l.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(h=r/p,d=Math.floor(e/h),u=e-d*h),l.css({"margin-top":0!==d&&g.params.spaceBetween&&g.params.spaceBetween+"px"}).attr("data-swiper-column",u).attr("data-swiper-row",d)}"none"!==l.css("display")&&("auto"===g.params.slidesPerView?a=g.params.differentSlideWidths?o()?l.outerWidth(!0,!0):l.outerHeight(!0):o()?l.outerWidth(!0,!1):l.outerHeight(!0):(a=(g.size-(g.params.slidesPerView-1)*t)/g.params.slidesPerView,o()?g.slides[e].style.width=a+"px":g.slides[e].style.height=a+"px"),g.slides[e].swiperSlideSize=a,g.slidesSizesGrid.push(a),g.params.centeredSlides?(i=i+a/2+n/2+t,0===e&&(i=i-g.size/2-t),Math.abs(i)<.001&&(i=0),s%g.params.slidesPerGroup===0&&g.snapGrid.push(i),g.slidesGrid.push(i)):(s%g.params.slidesPerGroup===0&&g.snapGrid.push(i),g.slidesGrid.push(i),i=i+a+t),g.virtualSize+=a+t,n=a,s++)}g.virtualSize=Math.max(g.virtualSize,g.size);var f;if(g.rtl&&g.wrongRTL&&("slide"===g.params.effect||"coverflow"===g.params.effect)&&g.wrapper.css({width:g.virtualSize+g.params.spaceBetween+"px"}),(!g.support.flexbox||g.params.setWrapperSize)&&(o()?g.wrapper.css({width:g.virtualSize+g.params.spaceBetween+"px"}):g.wrapper.css({height:g.virtualSize+g.params.spaceBetween+"px"})),g.params.slidesPerColumn>1&&(g.virtualSize=(a+g.params.spaceBetween)*r,g.virtualSize=Math.ceil(g.virtualSize/g.params.slidesPerColumn)-g.params.spaceBetween,g.wrapper.css({width:g.virtualSize+g.params.spaceBetween+"px"}),g.params.centeredSlides)){for(f=[],e=0;e<g.snapGrid.length;e++)g.snapGrid[e]<g.virtualSize+g.snapGrid[0]&&f.push(g.snapGrid[e]);g.snapGrid=f}if(!g.params.centeredSlides){for(f=[],e=0;e<g.snapGrid.length;e++)g.snapGrid[e]<=g.virtualSize-g.size&&f.push(g.snapGrid[e]);g.snapGrid=f,Math.floor(g.virtualSize-g.size)>Math.floor(g.snapGrid[g.snapGrid.length-1])&&g.snapGrid.push(g.virtualSize-g.size)}0===g.snapGrid.length&&(g.snapGrid=[0]),0!==g.params.spaceBetween&&(o()?g.rtl?g.slides.css({marginLeft:t+"px"}):g.slides.css({marginRight:t+"px"}):g.slides.css({marginBottom:t+"px"})),g.params.watchSlidesProgress&&g.updateSlidesOffset()},g.updateSlidesOffset=function(){for(var e=0;e<g.slides.length;e++)g.slides[e].swiperSlideOffset=o()?g.slides[e].offsetLeft:g.slides[e].offsetTop},g.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=g.translate||0),0!==g.slides.length){"undefined"==typeof g.slides[0].swiperSlideOffset&&g.updateSlidesOffset();var t=g.params.centeredSlides?-e+g.size/2:-e;g.rtl&&(t=g.params.centeredSlides?e-g.size/2:e),g.container[0].getBoundingClientRect(),o()?"left":"top",o()?"right":"bottom",g.slides.removeClass(g.params.slideVisibleClass);for(var i=0;i<g.slides.length;i++){var n=g.slides[i],s=g.params.centeredSlides===!0?n.swiperSlideSize/2:0,r=(t-n.swiperSlideOffset-s)/(n.swiperSlideSize+g.params.spaceBetween);if(g.params.watchSlidesVisibility){var a=-(t-n.swiperSlideOffset-s),l=a+g.slidesSizesGrid[i],c=a>=0&&a<g.size||l>0&&l<=g.size||0>=a&&l>=g.size;c&&g.slides.eq(i).addClass(g.params.slideVisibleClass)}n.progress=g.rtl?-r:r}}},g.updateProgress=function(e){"undefined"==typeof e&&(e=g.translate||0);var t=g.maxTranslate()-g.minTranslate();0===t?(g.progress=0,g.isBeginning=g.isEnd=!0):(g.progress=(e-g.minTranslate())/t,g.isBeginning=g.progress<=0,g.isEnd=g.progress>=1),g.isBeginning&&g.emit("onReachBeginning",g),g.isEnd&&g.emit("onReachEnd",g),g.params.watchSlidesProgress&&g.updateSlidesProgress(e),g.emit("onProgress",g,g.progress)},g.updateActiveIndex=function(){var e,t,i,n=g.rtl?g.translate:-g.translate;for(t=0;t<g.slidesGrid.length;t++)"undefined"!=typeof g.slidesGrid[t+1]?n>=g.slidesGrid[t]&&n<g.slidesGrid[t+1]-(g.slidesGrid[t+1]-g.slidesGrid[t])/2?e=t:n>=g.slidesGrid[t]&&n<g.slidesGrid[t+1]&&(e=t+1):n>=g.slidesGrid[t]&&(e=t);(0>e||"undefined"==typeof e)&&(e=0),i=Math.floor(e/g.params.slidesPerGroup),i>=g.snapGrid.length&&(i=g.snapGrid.length-1),e!==g.activeIndex&&(g.snapIndex=i,g.previousIndex=g.activeIndex,g.activeIndex=e,g.updateClasses())},g.updateClasses=function(){g.slides.removeClass(g.params.slideActiveClass+" "+g.params.slideNextClass+" "+g.params.slidePrevClass);var e=g.slides.eq(g.activeIndex);if(e.addClass(g.params.slideActiveClass),e.next("."+g.params.slideClass).addClass(g.params.slideNextClass),e.prev("."+g.params.slideClass).addClass(g.params.slidePrevClass),g.bullets&&g.bullets.length>0){g.bullets.removeClass(g.params.bulletActiveClass);var t;g.params.loop?(t=Math.ceil(g.activeIndex-g.loopedSlides)/g.params.slidesPerGroup,t>g.slides.length-1-2*g.loopedSlides&&(t-=g.slides.length-2*g.loopedSlides),t>g.bullets.length-1&&(t-=g.bullets.length)):t="undefined"!=typeof g.snapIndex?g.snapIndex:g.activeIndex||0,g.paginationContainer.length>1?g.bullets.each(function(){_(this).index()===t&&_(this).addClass(g.params.bulletActiveClass)}):(t%2!==0&&t--,g.bullets.eq(t).addClass(g.params.bulletActiveClass))}g.params.loop||(g.params.prevButton&&(g.isBeginning?(_(g.params.prevButton).addClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.disable(_(g.params.prevButton))):(_(g.params.prevButton).removeClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.enable(_(g.params.prevButton)))),g.params.nextButton&&(g.isEnd?(_(g.params.nextButton).addClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.disable(_(g.params.nextButton))):(_(g.params.nextButton).removeClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.enable(_(g.params.nextButton)))))},g.updatePagination=function(){if(g.params.pagination&&g.paginationContainer&&g.paginationContainer.length>0){for(var e="",t=g.params.loop?Math.ceil((g.slides.length-2*g.loopedSlides)/g.params.slidesPerGroup):g.snapGrid.length,i=0;t>i;i++)e+=g.params.paginationBulletRender?g.params.paginationBulletRender(i,g.params.bulletClass):'<span class="'+g.params.bulletClass+'"></span>';g.paginationContainer.html(e),g.bullets=g.paginationContainer.find("."+g.params.bulletClass)}},g.update=function(e){function t(){n=Math.min(Math.max(g.translate,g.maxTranslate()),g.minTranslate()),g.setWrapperTranslate(n),g.updateActiveIndex(),g.updateClasses()}if(g.updateContainerSize(),g.updateSlidesSize(),g.updateProgress(),g.updatePagination(),g.updateClasses(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),e){var i,n;g.params.freeMode?t():(i="auto"===g.params.slidesPerView&&g.isEnd&&!g.params.centeredSlides?g.slideTo(g.slides.length-1,0,!1,!0):g.slideTo(g.activeIndex,0,!1,!0),i||t())}},g.onResize=function(e){if(g.updateContainerSize(),g.updateSlidesSize(),g.updateProgress(),("auto"===g.params.slidesPerView||g.params.freeMode||e)&&g.updatePagination(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),g.params.freeMode){var t=Math.min(Math.max(g.translate,g.maxTranslate()),g.minTranslate());g.setWrapperTranslate(t),g.updateActiveIndex(),g.updateClasses()}else g.updateClasses(),"auto"===g.params.slidesPerView&&g.isEnd&&!g.params.centeredSlides?g.slideTo(g.slides.length-1,0,!1,!0):g.slideTo(g.activeIndex,0,!1,!0)};var v=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?v=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(v=["MSPointerDown","MSPointerMove","MSPointerUp"]),g.touchEvents={start:g.support.touch||!g.params.simulateTouch?"touchstart":v[0],move:g.support.touch||!g.params.simulateTouch?"touchmove":v[1],end:g.support.touch||!g.params.simulateTouch?"touchend":v[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===g.params.touchEventsTarget?g.container:g.wrapper).addClass("swiper-wp8-"+g.params.direction),g.initEvents=function(e){var t=e?"off":"on",i=e?"removeEventListener":"addEventListener",o="container"===g.params.touchEventsTarget?g.container[0]:g.wrapper[0],s=g.support.touch?o:document,r=g.params.nested?!0:!1;g.browser.ie?(o[i](g.touchEvents.start,g.onTouchStart,!1),s[i](g.touchEvents.move,g.onTouchMove,r),s[i](g.touchEvents.end,g.onTouchEnd,!1)):(g.support.touch&&(o[i](g.touchEvents.start,g.onTouchStart,!1),o[i](g.touchEvents.move,g.onTouchMove,r),o[i](g.touchEvents.end,g.onTouchEnd,!1)),!n.simulateTouch||g.device.ios||g.device.android||(o[i]("mousedown",g.onTouchStart,!1),document[i]("mousemove",g.onTouchMove,r),document[i]("mouseup",g.onTouchEnd,!1))),window[i]("resize",g.onResize),g.params.nextButton&&(_(g.params.nextButton)[t]("click",g.onClickNext),g.params.a11y&&g.a11y&&_(g.params.nextButton)[t]("keydown",g.a11y.onEnterKey)),g.params.prevButton&&(_(g.params.prevButton)[t]("click",g.onClickPrev),g.params.a11y&&g.a11y&&_(g.params.prevButton)[t]("keydown",g.a11y.onEnterKey)),g.params.pagination&&g.params.paginationClickable&&_(g.paginationContainer)[t]("click","."+g.params.bulletClass,g.onClickIndex),(g.params.preventClicks||g.params.preventClicksPropagation)&&o[i]("click",g.preventClicks,!0)},g.attachEvents=function(){g.initEvents()},g.detachEvents=function(){g.initEvents(!0)},g.allowClick=!0,g.preventClicks=function(e){g.allowClick||(g.params.preventClicks&&e.preventDefault(),g.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},g.onClickNext=function(e){e.preventDefault(),g.slideNext()},g.onClickPrev=function(e){e.preventDefault(),g.slidePrev()},g.onClickIndex=function(e){e.preventDefault();var t=_(this).index()*g.params.slidesPerGroup;g.params.loop&&(t+=g.loopedSlides),g.slideTo(t)},g.updateClickedSlide=function(e){var t=r(e,"."+g.params.slideClass),i=!1;if(t)for(var n=0;n<g.slides.length;n++)g.slides[n]===t&&(i=!0);if(!t||!i)return g.clickedSlide=void 0,void(g.clickedIndex=void 0);if(g.clickedSlide=t,g.clickedIndex=_(t).index(),g.params.slideToClickedSlide&&void 0!==g.clickedIndex&&g.clickedIndex!==g.activeIndex){var o,s=g.clickedIndex;if(g.params.loop)if(o=_(g.clickedSlide).attr("data-swiper-slide-index"),s>g.slides.length-g.params.slidesPerView)g.fixLoop(),s=g.wrapper.children("."+g.params.slideClass+'[data-swiper-slide-index="'+o+'"]').eq(0).index(),setTimeout(function(){g.slideTo(s)},0);else if(s<g.params.slidesPerView-1){g.fixLoop();var a=g.wrapper.children("."+g.params.slideClass+'[data-swiper-slide-index="'+o+'"]');s=a.eq(a.length-1).index(),setTimeout(function(){g.slideTo(s)},0)}else g.slideTo(s);else g.slideTo(s)}};var y,b,w,x,T,C,S,k,$,E="input, select, textarea, button",D=Date.now(),M=[];g.animating=!1,g.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var A,O;if(g.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),A="touchstart"===e.type,A||!("which"in e)||3!==e.which){if(g.params.noSwiping&&r(e,"."+g.params.noSwipingClass))return void(g.allowClick=!0);if(!g.params.swipeHandler||r(e,g.params.swipeHandler)){if(y=!0,b=!1,x=void 0,O=void 0,g.touches.startX=g.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,g.touches.startY=g.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,w=Date.now(),g.allowClick=!0,g.updateContainerSize(),g.swipeDirection=void 0,g.params.threshold>0&&(S=!1),"touchstart"!==e.type){var t=!0;_(e.target).is(E)&&(t=!1),document.activeElement&&_(document.activeElement).is(E)&&document.activeElement.blur(),t&&e.preventDefault()}g.emit("onTouchStart",g,e)}}},g.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(A&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(g.params.onlyExternal)return b=!0,void(g.allowClick=!1);if(A&&document.activeElement&&e.target===document.activeElement&&_(e.target).is(E))return b=!0,void(g.allowClick=!1);if(g.emit("onTouchMove",g,e),!(e.targetTouches&&e.targetTouches.length>1)){if(g.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,g.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof x){var t=180*Math.atan2(Math.abs(g.touches.currentY-g.touches.startY),Math.abs(g.touches.currentX-g.touches.startX))/Math.PI;x=o()?t>g.params.touchAngle:90-t>g.params.touchAngle}if(x&&g.emit("onTouchMoveOpposite",g,e),"undefined"==typeof O&&g.browser.ieTouch&&(g.touches.currentX!==g.touches.startX||g.touches.currentY!==g.touches.startY)&&(O=!0),y){if(x)return void(y=!1);if(O||!g.browser.ieTouch){g.allowClick=!1,g.emit("onSliderMove",g,e),e.preventDefault(),g.params.touchMoveStopPropagation&&!g.params.nested&&e.stopPropagation(),b||(n.loop&&g.fixLoop(),C=g.getWrapperTranslate(),g.setWrapperTransition(0),g.animating&&g.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),g.params.autoplay&&g.autoplaying&&(g.params.autoplayDisableOnInteraction?g.stopAutoplay():g.pauseAutoplay()),$=!1,g.params.grabCursor&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grabbing",g.container[0].style.cursor="-moz-grabbin",g.container[0].style.cursor="grabbing")),b=!0;var i=g.touches.diff=o()?g.touches.currentX-g.touches.startX:g.touches.currentY-g.touches.startY;i*=g.params.touchRatio,g.rtl&&(i=-i),g.swipeDirection=i>0?"prev":"next",T=i+C;var s=!0;if(i>0&&T>g.minTranslate()?(s=!1,g.params.resistance&&(T=g.minTranslate()-1+Math.pow(-g.minTranslate()+C+i,g.params.resistanceRatio))):0>i&&T<g.maxTranslate()&&(s=!1,g.params.resistance&&(T=g.maxTranslate()+1-Math.pow(g.maxTranslate()-C-i,g.params.resistanceRatio))),s&&(e.preventedByNestedSwiper=!0),!g.params.allowSwipeToNext&&"next"===g.swipeDirection&&C>T&&(T=C),!g.params.allowSwipeToPrev&&"prev"===g.swipeDirection&&T>C&&(T=C),g.params.followFinger){if(g.params.threshold>0){if(!(Math.abs(i)>g.params.threshold||S))return void(T=C);if(!S)return S=!0,g.touches.startX=g.touches.currentX,g.touches.startY=g.touches.currentY,T=C,void(g.touches.diff=o()?g.touches.currentX-g.touches.startX:g.touches.currentY-g.touches.startY)}(g.params.freeMode||g.params.watchSlidesProgress)&&g.updateActiveIndex(),g.params.freeMode&&(0===M.length&&M.push({position:g.touches[o()?"startX":"startY"],time:w}),M.push({position:g.touches[o()?"currentX":"currentY"],time:(new window.Date).getTime()})),g.updateProgress(T),g.setWrapperTranslate(T)}}}}}},g.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),g.emit("onTouchEnd",g,e),y){g.params.grabCursor&&b&&y&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grab",g.container[0].style.cursor="-moz-grab",g.container[0].style.cursor="grab");var t=Date.now(),i=t-w;if(g.allowClick&&(g.updateClickedSlide(e),g.emit("onTap",g,e),300>i&&t-D>300&&(k&&clearTimeout(k),k=setTimeout(function(){g&&(g.params.paginationHide&&g.paginationContainer.length>0&&!_(e.target).hasClass(g.params.bulletClass)&&g.paginationContainer.toggleClass(g.params.paginationHiddenClass),g.emit("onClick",g,e))},300)),300>i&&300>t-D&&(k&&clearTimeout(k),g.emit("onDoubleTap",g,e))),D=Date.now(),setTimeout(function(){g&&g.allowClick&&(g.allowClick=!0)},0),!y||!b||!g.swipeDirection)return void(y=b=!1);y=b=!1;var n;if(n=g.params.followFinger?g.rtl?g.translate:-g.translate:-T,g.params.freeMode){if(n<-g.minTranslate())return void g.slideTo(g.activeIndex);if(n>-g.maxTranslate())return void(g.slides.length<g.snapGrid.length?g.slideTo(g.snapGrid.length-1):g.slideTo(g.slides.length-1));if(g.params.freeModeMomentum){if(M.length>1){var o=M.pop(),s=M.pop(),r=o.position-s.position,a=o.time-s.time;g.velocity=r/a,g.velocity=g.velocity/2,Math.abs(g.velocity)<.02&&(g.velocity=0),(a>150||(new window.Date).getTime()-o.time>300)&&(g.velocity=0)}else g.velocity=0;M.length=0;var l=1e3*g.params.freeModeMomentumRatio,c=g.velocity*l,u=g.translate+c;g.rtl&&(u=-u);var d,h=!1,p=20*Math.abs(g.velocity)*g.params.freeModeMomentumBounceRatio;if(u<g.maxTranslate())g.params.freeModeMomentumBounce?(u+g.maxTranslate()<-p&&(u=g.maxTranslate()-p),d=g.maxTranslate(),h=!0,$=!0):u=g.maxTranslate();else if(u>g.minTranslate())g.params.freeModeMomentumBounce?(u-g.minTranslate()>p&&(u=g.minTranslate()+p),d=g.minTranslate(),h=!0,$=!0):u=g.minTranslate();else if(g.params.freeModeSticky){var f,m=0;for(m=0;m<g.snapGrid.length;m+=1)if(g.snapGrid[m]>-u){f=m;break}u=Math.abs(g.snapGrid[f]-u)<Math.abs(g.snapGrid[f-1]-u)||"next"===g.swipeDirection?g.snapGrid[f]:g.snapGrid[f-1],g.rtl||(u=-u)}if(0!==g.velocity)l=g.rtl?Math.abs((-u-g.translate)/g.velocity):Math.abs((u-g.translate)/g.velocity);else if(g.params.freeModeSticky)return void g.slideReset();g.params.freeModeMomentumBounce&&h?(g.updateProgress(d),g.setWrapperTransition(l),g.setWrapperTranslate(u),g.onTransitionStart(),g.animating=!0,g.wrapper.transitionEnd(function(){g&&$&&(g.emit("onMomentumBounce",g),g.setWrapperTransition(g.params.speed),g.setWrapperTranslate(d),g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd()}))})):g.velocity?(g.updateProgress(u),g.setWrapperTransition(l),g.setWrapperTranslate(u),g.onTransitionStart(),g.animating||(g.animating=!0,g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd()}))):g.updateProgress(u),g.updateActiveIndex()}return void((!g.params.freeModeMomentum||i>=g.params.longSwipesMs)&&(g.updateProgress(),g.updateActiveIndex()))}var v,x=0,C=g.slidesSizesGrid[0];for(v=0;v<g.slidesGrid.length;v+=g.params.slidesPerGroup)"undefined"!=typeof g.slidesGrid[v+g.params.slidesPerGroup]?n>=g.slidesGrid[v]&&n<g.slidesGrid[v+g.params.slidesPerGroup]&&(x=v,C=g.slidesGrid[v+g.params.slidesPerGroup]-g.slidesGrid[v]):n>=g.slidesGrid[v]&&(x=v,C=g.slidesGrid[g.slidesGrid.length-1]-g.slidesGrid[g.slidesGrid.length-2]);var S=(n-g.slidesGrid[x])/C;if(i>g.params.longSwipesMs){if(!g.params.longSwipes)return void g.slideTo(g.activeIndex);"next"===g.swipeDirection&&(S>=g.params.longSwipesRatio?g.slideTo(x+g.params.slidesPerGroup):g.slideTo(x)),"prev"===g.swipeDirection&&(S>1-g.params.longSwipesRatio?g.slideTo(x+g.params.slidesPerGroup):g.slideTo(x))}else{if(!g.params.shortSwipes)return void g.slideTo(g.activeIndex);"next"===g.swipeDirection&&g.slideTo(x+g.params.slidesPerGroup),"prev"===g.swipeDirection&&g.slideTo(x)}}},g._slideTo=function(e,t){return g.slideTo(e,t,!0,!0)},g.slideTo=function(e,t,i,n){"undefined"==typeof i&&(i=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),g.snapIndex=Math.floor(e/g.params.slidesPerGroup),g.snapIndex>=g.snapGrid.length&&(g.snapIndex=g.snapGrid.length-1);var s=-g.snapGrid[g.snapIndex];if(!g.params.allowSwipeToNext&&s<g.translate)return!1;if(!g.params.allowSwipeToPrev&&s>g.translate)return!1;g.params.autoplay&&g.autoplaying&&(n||!g.params.autoplayDisableOnInteraction?g.pauseAutoplay(t):g.stopAutoplay()),g.updateProgress(s);for(var r=0;r<g.slidesGrid.length;r++)g.params.differentSlideWidths?-Math.floor(s)>=Math.floor(g.slidesGrid[r])&&(e=r):-s>=g.slidesGrid[r]&&(e=r);return"undefined"==typeof t&&(t=g.params.speed),g.previousIndex=g.activeIndex||0,g.activeIndex=e,s===g.translate?(g.updateClasses(),!1):(g.updateClasses(),g.onTransitionStart(i),o()?s:0,o()?0:s,0===t?(g.setWrapperTransition(0),g.setWrapperTranslate(s),g.onTransitionEnd(i)):(g.setWrapperTransition(t),g.setWrapperTranslate(s),g.animating||(g.animating=!0,g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd(i)}))),!0)},g.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),g.lazy&&g.lazy.onTransitionStart(),e&&(g.emit("onTransitionStart",g),g.activeIndex!==g.previousIndex&&g.emit("onSlideChangeStart",g))},g.onTransitionEnd=function(e){g.animating=!1,g.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),g.lazy&&g.lazy.onTransitionEnd(),e&&(g.emit("onTransitionEnd",g),g.activeIndex!==g.previousIndex&&g.emit("onSlideChangeEnd",g)),g.params.hashnav&&g.hashnav&&g.hashnav.setHash()},g.slideNext=function(e,t,i){return g.params.loop?g.animating?!1:(g.fixLoop(),g.container[0].clientLeft,g.slideTo(g.activeIndex+g.params.slidesPerGroup,t,e,i)):g.slideTo(g.activeIndex+g.params.slidesPerGroup,t,e,i)},g._slideNext=function(e){return g.slideNext(!0,e,!0)},g.slidePrev=function(e,t,i){return g.params.loop?g.animating?!1:(g.fixLoop(),g.container[0].clientLeft,g.slideTo(g.activeIndex-1,t,e,i)):g.slideTo(g.activeIndex-1,t,e,i)},g._slidePrev=function(e){return g.slidePrev(!0,e,!0)},g.slideReset=function(e,t){return g.slideTo(g.activeIndex,t,e)},g.setWrapperTransition=function(e,t){g.wrapper.transition(e),"slide"!==g.params.effect&&g.effects[g.params.effect]&&g.effects[g.params.effect].setTransition(e),g.params.parallax&&g.parallax&&g.parallax.setTransition(e),g.params.scrollbar&&g.scrollbar&&g.scrollbar.setTransition(e),g.params.control&&g.controller&&g.controller.setTransition(e,t),g.emit("onSetTransition",g,e)},g.setWrapperTranslate=function(e,t,i){var n=0,s=0,r=0;o()?n=g.rtl?-e:e:s=e,g.params.virtualTranslate||(g.support.transforms3d?g.wrapper.transform("translate3d("+n+"px, "+s+"px, "+r+"px)"):g.wrapper.transform("translate("+n+"px, "+s+"px)")),g.translate=o()?n:s,t&&g.updateActiveIndex(),"slide"!==g.params.effect&&g.effects[g.params.effect]&&g.effects[g.params.effect].setTranslate(g.translate),g.params.parallax&&g.parallax&&g.parallax.setTranslate(g.translate),g.params.scrollbar&&g.scrollbar&&g.scrollbar.setTranslate(g.translate),g.params.control&&g.controller&&g.controller.setTranslate(g.translate,i),g.emit("onSetTranslate",g,g.translate)},g.getTranslate=function(e,t){var i,n,o,s;return"undefined"==typeof t&&(t="x"),g.params.virtualTranslate?g.rtl?-g.translate:g.translate:(o=window.getComputedStyle(e,null),window.WebKitCSSMatrix?s=new window.WebKitCSSMatrix("none"===o.webkitTransform?"":o.webkitTransform):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=window.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),g.rtl&&n&&(n=-n),n||0)},g.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=o()?"x":"y"),g.getTranslate(g.wrapper[0],e)},g.observers=[],g.initObservers=function(){if(g.params.observeParents)for(var e=g.container.parents(),t=0;t<e.length;t++)a(e[t]);a(g.container[0],{childList:!1}),a(g.wrapper[0],{attributes:!1})},g.disconnectObservers=function(){for(var e=0;e<g.observers.length;e++)g.observers[e].disconnect();g.observers=[]},g.createLoop=function(){g.wrapper.children("."+g.params.slideClass+"."+g.params.slideDuplicateClass).remove();var e=g.wrapper.children("."+g.params.slideClass);g.loopedSlides=parseInt(g.params.loopedSlides||g.params.slidesPerView,10),g.loopedSlides=g.loopedSlides+g.params.loopAdditionalSlides,g.loopedSlides>e.length&&(g.loopedSlides=e.length);var t,i=[],n=[];for(e.each(function(t,o){var s=_(this);t<g.loopedSlides&&n.push(o),t<e.length&&t>=e.length-g.loopedSlides&&i.push(o),s.attr("data-swiper-slide-index",t)}),t=0;t<n.length;t++)g.wrapper.append(_(n[t].cloneNode(!0)).addClass(g.params.slideDuplicateClass));for(t=i.length-1;t>=0;t--)g.wrapper.prepend(_(i[t].cloneNode(!0)).addClass(g.params.slideDuplicateClass))},g.destroyLoop=function(){g.wrapper.children("."+g.params.slideClass+"."+g.params.slideDuplicateClass).remove(),g.slides.removeAttr("data-swiper-slide-index")},g.fixLoop=function(){var e;g.activeIndex<g.loopedSlides?(e=g.slides.length-3*g.loopedSlides+g.activeIndex,e+=g.loopedSlides,g.slideTo(e,0,!1,!0)):("auto"===g.params.slidesPerView&&g.activeIndex>=2*g.loopedSlides||g.activeIndex>g.slides.length-2*g.params.slidesPerView)&&(e=-g.slides.length+g.activeIndex+g.loopedSlides,e+=g.loopedSlides,g.slideTo(e,0,!1,!0))},g.appendSlide=function(e){if(g.params.loop&&g.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&g.wrapper.append(e[t]);else g.wrapper.append(e);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0)},g.prependSlide=function(e){g.params.loop&&g.destroyLoop();var t=g.activeIndex+1;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)e[i]&&g.wrapper.prepend(e[i]);t=g.activeIndex+e.length}else g.wrapper.prepend(e);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0),g.slideTo(t,0,!1)},g.removeSlide=function(e){g.params.loop&&(g.destroyLoop(),g.slides=g.wrapper.children("."+g.params.slideClass));var t,i=g.activeIndex;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)t=e[n],g.slides[t]&&g.slides.eq(t).remove(),i>t&&i--;i=Math.max(i,0)}else t=e,g.slides[t]&&g.slides.eq(t).remove(),i>t&&i--,i=Math.max(i,0);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0),g.params.loop?g.slideTo(i+g.loopedSlides,0,!1):g.slideTo(i,0,!1)},g.removeAllSlides=function(){for(var e=[],t=0;t<g.slides.length;t++)e.push(t);g.removeSlide(e)},g.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<g.slides.length;e++){var t=g.slides.eq(e),i=t[0].swiperSlideOffset,n=-i;g.params.virtualTranslate||(n-=g.translate);var s=0;o()||(s=n,n=0);var r=g.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);
r>0&&1>r&&(g.effects.fade.fadeIndex=e),t.css({opacity:r}).transform("translate3d("+n+"px, "+s+"px, 0px)")}},setTransition:function(e){if(g.slides.transition(e),g.params.virtualTranslate&&0!==e){var t=null!==g.effects.fade.fadeIndex?g.effects.fade.fadeIndex:g.activeIndex;g.params.loop||g.params.fade.crossFade||0!==t||(t=g.slides.length-1),g.slides.eq(t).transitionEnd(function(){if(g)for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)g.wrapper.trigger(e[t])})}}},cube:{setTranslate:function(){var e,t=0;g.params.cube.shadow&&(o()?(e=g.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=_('<div class="swiper-cube-shadow"></div>'),g.wrapper.append(e)),e.css({height:g.width+"px"})):(e=g.container.find(".swiper-cube-shadow"),0===e.length&&(e=_('<div class="swiper-cube-shadow"></div>'),g.container.append(e))));for(var i=0;i<g.slides.length;i++){var n=g.slides.eq(i),s=90*i,r=Math.floor(s/360);g.rtl&&(s=-s,r=Math.floor(-s/360));var a=Math.max(Math.min(n[0].progress,1),-1),l=0,c=0,u=0;i%4===0?(l=4*-r*g.size,u=0):(i-1)%4===0?(l=0,u=4*-r*g.size):(i-2)%4===0?(l=g.size+4*r*g.size,u=g.size):(i-3)%4===0&&(l=-g.size,u=3*g.size+4*g.size*r),g.rtl&&(l=-l),o()||(c=l,l=0);var d="rotateX("+(o()?0:-s)+"deg) rotateY("+(o()?s:0)+"deg) translate3d("+l+"px, "+c+"px, "+u+"px)";if(1>=a&&a>-1&&(t=90*i+90*a,g.rtl&&(t=90*-i-90*a)),n.transform(d),g.params.cube.slideShadows){var h=o()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),p=o()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===h.length&&(h=_('<div class="swiper-slide-shadow-'+(o()?"left":"top")+'"></div>'),n.append(h)),0===p.length&&(p=_('<div class="swiper-slide-shadow-'+(o()?"right":"bottom")+'"></div>'),n.append(p)),n[0].progress,h.length&&(h[0].style.opacity=-n[0].progress),p.length&&(p[0].style.opacity=n[0].progress)}}if(g.wrapper.css({"-webkit-transform-origin":"50% 50% -"+g.size/2+"px","-moz-transform-origin":"50% 50% -"+g.size/2+"px","-ms-transform-origin":"50% 50% -"+g.size/2+"px","transform-origin":"50% 50% -"+g.size/2+"px"}),g.params.cube.shadow)if(o())e.transform("translate3d(0px, "+(g.width/2+g.params.cube.shadowOffset)+"px, "+-g.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+g.params.cube.shadowScale+")");else{var f=Math.abs(t)-90*Math.floor(Math.abs(t)/90),m=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),v=g.params.cube.shadowScale,y=g.params.cube.shadowScale/m,b=g.params.cube.shadowOffset;e.transform("scale3d("+v+", 1, "+y+") translate3d(0px, "+(g.height/2+b)+"px, "+-g.height/2/y+"px) rotateX(-90deg)")}var w=g.isSafari||g.isUiWebView?-g.size/2:0;g.wrapper.transform("translate3d(0px,0,"+w+"px) rotateX("+(o()?0:t)+"deg) rotateY("+(o()?-t:0)+"deg)")},setTransition:function(e){g.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),g.params.cube.shadow&&!o()&&g.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=g.translate,t=o()?-e+g.width/2:-e+g.height/2,i=o()?g.params.coverflow.rotate:-g.params.coverflow.rotate,n=g.params.coverflow.depth,s=0,r=g.slides.length;r>s;s++){var a=g.slides.eq(s),l=g.slidesSizesGrid[s],c=a[0].swiperSlideOffset,u=(t-c-l/2)/l*g.params.coverflow.modifier,d=o()?i*u:0,h=o()?0:i*u,p=-n*Math.abs(u),f=o()?0:g.params.coverflow.stretch*u,m=o()?g.params.coverflow.stretch*u:0;Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0),Math.abs(h)<.001&&(h=0);var v="translate3d("+m+"px,"+f+"px,"+p+"px)  rotateX("+h+"deg) rotateY("+d+"deg)";if(a.transform(v),a[0].style.zIndex=-Math.abs(Math.round(u))+1,g.params.coverflow.slideShadows){var y=o()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),b=o()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===y.length&&(y=_('<div class="swiper-slide-shadow-'+(o()?"left":"top")+'"></div>'),a.append(y)),0===b.length&&(b=_('<div class="swiper-slide-shadow-'+(o()?"right":"bottom")+'"></div>'),a.append(b)),y.length&&(y[0].style.opacity=u>0?u:0),b.length&&(b[0].style.opacity=-u>0?-u:0)}}if(g.browser.ie){var w=g.wrapper[0].style;w.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){g.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},g.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,t){if("undefined"!=typeof e&&("undefined"==typeof t&&(t=!0),0!==g.slides.length)){var i=g.slides.eq(e),n=i.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!i.hasClass("swiper-lazy")||i.hasClass("swiper-lazy-loaded")||i.hasClass("swiper-lazy-loading")||n.add(i[0]),0!==n.length&&n.each(function(){var e=_(this);e.addClass("swiper-lazy-loading");var n=e.attr("data-background"),o=e.attr("data-src");g.loadImage(e[0],o||n,!1,function(){if(n?(e.css("background-image","url("+n+")"),e.removeAttr("data-background")):(e.attr("src",o),e.removeAttr("data-src")),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),i.find(".swiper-lazy-preloader, .preloader").remove(),g.params.loop&&t){var s=i.attr("data-swiper-slide-index");if(i.hasClass(g.params.slideDuplicateClass)){var r=g.wrapper.children('[data-swiper-slide-index="'+s+'"]:not(.'+g.params.slideDuplicateClass+")");g.lazy.loadImageInSlide(r.index(),!1)}else{var a=g.wrapper.children("."+g.params.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]');g.lazy.loadImageInSlide(a.index(),!1)}}g.emit("onLazyImageReady",g,i[0],e[0])}),g.emit("onLazyImageLoad",g,i[0],e[0])})}},load:function(){if(g.params.watchSlidesVisibility)g.wrapper.children("."+g.params.slideVisibleClass).each(function(){g.lazy.loadImageInSlide(_(this).index())});else if(g.params.slidesPerView>1)for(var e=g.activeIndex;e<g.activeIndex+g.params.slidesPerView;e++)g.slides[e]&&g.lazy.loadImageInSlide(e);else g.lazy.loadImageInSlide(g.activeIndex);if(g.params.lazyLoadingInPrevNext){var t=g.wrapper.children("."+g.params.slideNextClass);t.length>0&&g.lazy.loadImageInSlide(t.index());var i=g.wrapper.children("."+g.params.slidePrevClass);i.length>0&&g.lazy.loadImageInSlide(i.index())}},onTransitionStart:function(){g.params.lazyLoading&&(g.params.lazyLoadingOnTransitionStart||!g.params.lazyLoadingOnTransitionStart&&!g.lazy.initialImageLoaded)&&g.lazy.load()},onTransitionEnd:function(){g.params.lazyLoading&&!g.params.lazyLoadingOnTransitionStart&&g.lazy.load()}},g.scrollbar={set:function(){if(g.params.scrollbar){var e=g.scrollbar;e.track=_(g.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=_('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=o()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=g.size/g.virtualSize,e.moveDivider=e.divider*(e.trackSize/g.size),e.dragSize=e.trackSize*e.divider,o()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",g.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(g.params.scrollbar){var e,t=g.scrollbar,i=(g.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*g.progress,g.rtl&&o()?(e=-e,e>0?(i=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(i=t.trackSize+e)):0>e?(i=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(i=t.trackSize-e),o()?(g.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=i+"px"):(g.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=i+"px"),g.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){g.params.scrollbar&&g.scrollbar.drag.transition(e)}},g.controller={setTranslate:function(e,i){function n(t){e=t.rtl&&"horizontal"===t.params.direction?-g.translate:g.translate,o=(t.maxTranslate()-t.minTranslate())/(g.maxTranslate()-g.minTranslate()),s=(e-g.minTranslate())*o+t.minTranslate(),g.params.controlInverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setWrapperTranslate(s,!1,g),t.updateActiveIndex()}var o,s,r=g.params.control;if(g.isArray(r))for(var a=0;a<r.length;a++)r[a]!==i&&r[a]instanceof t&&n(r[a]);else r instanceof t&&i!==r&&n(r)},setTransition:function(e,i){function n(t){t.setWrapperTransition(e,g),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){s&&t.onTransitionEnd()}))}var o,s=g.params.control;if(g.isArray(s))for(o=0;o<s.length;o++)s[o]!==i&&s[o]instanceof t&&n(s[o]);else s instanceof t&&i!==s&&n(s)}},g.hashnav={init:function(){if(g.params.hashnav){g.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,i=0,n=g.slides.length;n>i;i++){var o=g.slides.eq(i),s=o.attr("data-hash");if(s===e&&!o.hasClass(g.params.slideDuplicateClass)){var r=o.index();g.slideTo(r,t,g.params.runCallbacksOnInit,!0)}}}},setHash:function(){g.hashnav.initialized&&g.params.hashnav&&(document.location.hash=g.slides.eq(g.activeIndex).attr("data-hash")||"")}},g.disableKeyboardControl=function(){_(document).off("keydown",l)},g.enableKeyboardControl=function(){_(document).on("keydown",l)},g._wheelEvent=!1,g._lastWheelScrollTime=(new window.Date).getTime(),g.params.mousewheelControl){if(void 0!==document.onmousewheel&&(g._wheelEvent="mousewheel"),!g._wheelEvent)try{new window.WheelEvent("wheel"),g._wheelEvent="wheel"}catch(j){}g._wheelEvent||(g._wheelEvent="DOMMouseScroll")}g.disableMousewheelControl=function(){return g._wheelEvent?(g.container.off(g._wheelEvent,c),!0):!1},g.enableMousewheelControl=function(){return g._wheelEvent?(g.container.on(g._wheelEvent,c),!0):!1},g.parallax={setTranslate:function(){g.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){u(this,g.progress)}),g.slides.each(function(){var e=_(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);u(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=g.params.speed),g.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=_(this),i=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),t.transition(i)})}},g._plugins=[];for(var P in g.plugins){var I=g.plugins[P](g,g.params[P]);I&&g._plugins.push(I)}return g.callPlugins=function(e){for(var t=0;t<g._plugins.length;t++)e in g._plugins[t]&&g._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},g.emitterEventListeners={},g.emit=function(e){g.params[e]&&g.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(g.emitterEventListeners[e])for(t=0;t<g.emitterEventListeners[e].length;t++)g.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);g.callPlugins&&g.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},g.on=function(e,t){return e=d(e),g.emitterEventListeners[e]||(g.emitterEventListeners[e]=[]),g.emitterEventListeners[e].push(t),g},g.off=function(e,t){var i;if(e=d(e),"undefined"==typeof t)return g.emitterEventListeners[e]=[],g;if(g.emitterEventListeners[e]&&0!==g.emitterEventListeners[e].length){for(i=0;i<g.emitterEventListeners[e].length;i++)g.emitterEventListeners[e][i]===t&&g.emitterEventListeners[e].splice(i,1);return g}},g.once=function(e,t){e=d(e);var i=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),g.off(e,i)};return g.on(e,i),g},g.a11y={makeFocusable:function(e){return e[0].tabIndex="0",e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(_(e.target).is(g.params.nextButton)?(g.onClickNext(e),g.isEnd?g.a11y.notify(g.params.lastSlideMsg):g.a11y.notify(g.params.nextSlideMsg)):_(e.target).is(g.params.prevButton)&&(g.onClickPrev(e),g.isBeginning?g.a11y.notify(g.params.firstSlideMsg):g.a11y.notify(g.params.prevSlideMsg)))},liveRegion:_('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=g.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){if(g.params.nextButton){var e=_(g.params.nextButton);g.a11y.makeFocusable(e),g.a11y.addRole(e,"button"),g.a11y.addLabel(e,g.params.nextSlideMsg)}if(g.params.prevButton){var t=_(g.params.prevButton);g.a11y.makeFocusable(t),g.a11y.addRole(t,"button"),g.a11y.addLabel(t,g.params.prevSlideMsg)}_(g.container).append(g.a11y.liveRegion)},destroy:function(){g.a11y.liveRegion&&g.a11y.liveRegion.length>0&&g.a11y.liveRegion.remove()}},g.init=function(){g.params.loop&&g.createLoop(),g.updateContainerSize(),g.updateSlidesSize(),g.updatePagination(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),"slide"!==g.params.effect&&g.effects[g.params.effect]&&(g.params.loop||g.updateProgress(),g.effects[g.params.effect].setTranslate()),g.params.loop?g.slideTo(g.params.initialSlide+g.loopedSlides,0,g.params.runCallbacksOnInit):(g.slideTo(g.params.initialSlide,0,g.params.runCallbacksOnInit),0===g.params.initialSlide&&(g.parallax&&g.params.parallax&&g.parallax.setTranslate(),g.lazy&&g.params.lazyLoading&&(g.lazy.load(),g.lazy.initialImageLoaded=!0))),g.attachEvents(),g.params.observer&&g.support.observer&&g.initObservers(),g.params.preloadImages&&!g.params.lazyLoading&&g.preloadImages(),g.params.autoplay&&g.startAutoplay(),g.params.keyboardControl&&g.enableKeyboardControl&&g.enableKeyboardControl(),g.params.mousewheelControl&&g.enableMousewheelControl&&g.enableMousewheelControl(),g.params.hashnav&&g.hashnav&&g.hashnav.init(),g.params.a11y&&g.a11y&&g.a11y.init(),g.emit("onInit",g)},g.cleanupStyles=function(){g.container.removeClass(g.classNames.join(" ")).removeAttr("style"),g.wrapper.removeAttr("style"),g.slides&&g.slides.length&&g.slides.removeClass([g.params.slideVisibleClass,g.params.slideActiveClass,g.params.slideNextClass,g.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),g.paginationContainer&&g.paginationContainer.length&&g.paginationContainer.removeClass(g.params.paginationHiddenClass),g.bullets&&g.bullets.length&&g.bullets.removeClass(g.params.bulletActiveClass),g.params.prevButton&&_(g.params.prevButton).removeClass(g.params.buttonDisabledClass),g.params.nextButton&&_(g.params.nextButton).removeClass(g.params.buttonDisabledClass),g.params.scrollbar&&g.scrollbar&&(g.scrollbar.track&&g.scrollbar.track.length&&g.scrollbar.track.removeAttr("style"),g.scrollbar.drag&&g.scrollbar.drag.length&&g.scrollbar.drag.removeAttr("style"))},g.destroy=function(e,t){g.detachEvents(),g.stopAutoplay(),g.params.loop&&g.destroyLoop(),t&&g.cleanupStyles(),g.disconnectObservers(),g.params.keyboardControl&&g.disableKeyboardControl&&g.disableKeyboardControl(),g.params.mousewheelControl&&g.disableMousewheelControl&&g.disableMousewheelControl(),g.params.a11y&&g.a11y&&g.a11y.destroy(),g.emit("onDestroy"),e!==!1&&(g=null)},g.init(),g}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),i=e.match(/(iPad).*OS\s([\d_]+)/),n=(e.match(/(iPod)(.*OS\s([\d_]+))?/),!i&&e.match(/(iPhone\sOS)\s([\d_]+)/));return{ios:i||n||i,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<t.length;i++)if(t[i]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var i=(function(){var e=function(e){var t=this,i=0;for(i=0;i<e.length;i++)t[i]=e[i];return t.length=e.length,this},t=function(t,i){var n=[],o=0;if(t&&!i&&t instanceof e)return t;if(t)if("string"==typeof t){var s,r,a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var l="div";for(0===a.indexOf("<li")&&(l="ul"),0===a.indexOf("<tr")&&(l="tbody"),(0===a.indexOf("<td")||0===a.indexOf("<th"))&&(l="tr"),0===a.indexOf("<tbody")&&(l="table"),0===a.indexOf("<option")&&(l="select"),r=document.createElement(l),r.innerHTML=t,o=0;o<r.childNodes.length;o++)n.push(r.childNodes[o])}else for(s=i||"#"!==t[0]||t.match(/[ .<>:~]/)?(i||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],o=0;o<s.length;o++)s[o]&&n.push(s[o])}else if(t.nodeType||t===window||t===document)n.push(t);else if(t.length>0&&t[0].nodeType)for(o=0;o<t.length;o++)n.push(t[o]);return new e(n)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),i=0;i<t.length;i++)for(var n=0;n<this.length;n++)this[n].classList.add(t[i]);return this},removeClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i++)for(var n=0;n<this.length;n++)this[n].classList.remove(t[i]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i++)for(var n=0;n<this.length;n++)this[n].classList.toggle(t[i]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(e,t);else for(var n in e)this[i][n]=e[n],this[i].setAttribute(n,e[n]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if("undefined"!=typeof t){for(var i=0;i<this.length;i++){var n=this[i];n.dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=t}return this}if(this[0]){var o=this[0].getAttribute("data-"+e);return o?o:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this},on:function(e,i,n,o){function s(e){var o=e.target;if(t(o).is(i))n.call(o,e);else for(var s=t(o).parents(),r=0;r<s.length;r++)t(s[r]).is(i)&&n.call(s[r],e)}var r,a,l=e.split(" ");for(r=0;r<this.length;r++)if("function"==typeof i||i===!1)for("function"==typeof i&&(n=arguments[1],o=arguments[2]||!1),a=0;a<l.length;a++)this[r].addEventListener(l[a],n,o);else for(a=0;a<l.length;a++)this[r].dom7LiveListeners||(this[r].dom7LiveListeners=[]),this[r].dom7LiveListeners.push({listener:n,liveListener:s}),this[r].addEventListener(l[a],s,o);return this},off:function(e,t,i,n){for(var o=e.split(" "),s=0;s<o.length;s++)for(var r=0;r<this.length;r++)if("function"==typeof t||t===!1)"function"==typeof t&&(i=arguments[1],n=arguments[2]||!1),this[r].removeEventListener(o[s],i,n);else if(this[r].dom7LiveListeners)for(var a=0;a<this[r].dom7LiveListeners.length;a++)this[r].dom7LiveListeners[a].listener===i&&this[r].removeEventListener(o[s],this[r].dom7LiveListeners[a].liveListener,n);return this},once:function(e,t,i,n){function o(r){i(r),s.off(e,t,o,n)}var s=this;"function"==typeof t&&(t=!1,i=arguments[1],n=arguments[2]),s.on(e,t,o,n)},trigger:function(e,t){for(var i=0;i<this.length;i++){var n;try{n=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(o){n=document.createEvent("Event"),n.initEvent(e,!0,!0),n.detail=t}this[i].dispatchEvent(n)}return this},transitionEnd:function(e){function t(s){if(s.target===this)for(e.call(this,s),i=0;i<n.length;i++)o.off(n[i],t)}var i,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],o=this;if(e)for(i=0;i<n.length;i++)o.on(n[i],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e,t){return this.length>0?e?t?this[0].getBoundingClientRect().width+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),i=document.body,n=e.clientTop||i.clientTop||0,o=e.clientLeft||i.clientLeft||0,s=window.pageYOffset||e.scrollTop,r=window.pageXOffset||e.scrollLeft;return{top:t.top+s-n,left:t.left+r-o}}return null},css:function(e,t){var i;if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i++)for(var n in e)this[i].style[n]=e[n];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i++)this[i].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},is:function(i){if(!this[0])return!1;var n,o;if("string"==typeof i){var s=this[0];if(s===document)return i===document;if(s===window)return i===window;if(s.matches)return s.matches(i);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(i);if(s.mozMatchesSelector)return s.mozMatchesSelector(i);if(s.msMatchesSelector)return s.msMatchesSelector(i);for(n=t(i),o=0;o<n.length;o++)if(n[o]===this[0])return!0;return!1}if(i===document)return this[0]===document;if(i===window)return this[0]===window;if(i.nodeType||i instanceof e){for(n=i.nodeType?[i]:i,o=0;o<n.length;o++)if(n[o]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if("undefined"==typeof t)return this;var i,n=this.length;return t>n-1?new e([]):0>t?(i=n+t,new e(0>i?[]:[this[i]])):new e([this[t]])},append:function(t){var i,n;for(i=0;i<this.length;i++)if("string"==typeof t){var o=document.createElement("div");for(o.innerHTML=t;o.firstChild;)this[i].appendChild(o.firstChild)}else if(t instanceof e)for(n=0;n<t.length;n++)this[i].appendChild(t[n]);else this[i].appendChild(t);return this},prepend:function(t){var i,n;for(i=0;i<this.length;i++)if("string"==typeof t){var o=document.createElement("div");for(o.innerHTML=t,n=o.childNodes.length-1;n>=0;n--)this[i].insertBefore(o.childNodes[n],this[i].childNodes[0])}else if(t instanceof e)for(n=0;n<t.length;n++)this[i].insertBefore(t[n],this[i].childNodes[0]);else this[i].insertBefore(t,this[i].childNodes[0]);return this},insertBefore:function(e){for(var i=t(e),n=0;n<this.length;n++)if(1===i.length)i[0].parentNode.insertBefore(this[n],i[0]);else if(i.length>1)for(var o=0;o<i.length;o++)i[o].parentNode.insertBefore(this[n].cloneNode(!0),i[o])},insertAfter:function(e){for(var i=t(e),n=0;n<this.length;n++)if(1===i.length)i[0].parentNode.insertBefore(this[n],i[0].nextSibling);else if(i.length>1)for(var o=0;o<i.length;o++)i[o].parentNode.insertBefore(this[n].cloneNode(!0),i[o].nextSibling)},next:function(i){return new e(this.length>0?i?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(i)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(i){var n=[],o=this[0];if(!o)return new e([]);for(;o.nextElementSibling;){var s=o.nextElementSibling;i?t(s).is(i)&&n.push(s):n.push(s),o=s}return new e(n)},prev:function(i){return new e(this.length>0?i?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(i)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(i){var n=[],o=this[0];if(!o)return new e([]);for(;o.previousElementSibling;){var s=o.previousElementSibling;i?t(s).is(i)&&n.push(s):n.push(s),o=s}return new e(n)},parent:function(e){for(var i=[],n=0;n<this.length;n++)e?t(this[n].parentNode).is(e)&&i.push(this[n].parentNode):i.push(this[n].parentNode);return t(t.unique(i))},parents:function(e){for(var i=[],n=0;n<this.length;n++)for(var o=this[n].parentNode;o;)e?t(o).is(e)&&i.push(o):i.push(o),o=o.parentNode;return t(t.unique(i))},find:function(t){for(var i=[],n=0;n<this.length;n++)for(var o=this[n].querySelectorAll(t),s=0;s<o.length;s++)i.push(o[s]);return new e(i)},children:function(i){for(var n=[],o=0;o<this.length;o++)for(var s=this[o].childNodes,r=0;r<s.length;r++)i?1===s[r].nodeType&&t(s[r]).is(i)&&n.push(s[r]):1===s[r].nodeType&&n.push(s[r]);return new e(t.unique(n))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,i,n=this;for(e=0;e<arguments.length;e++){var o=t(arguments[e]);for(i=0;i<o.length;i++)n[n.length]=o[i],n.length++}return n}},t.fn=e.prototype,t.unique=function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t},t}()),n=["jQuery","Zepto","Dom7"],o=0;o<n.length;o++)window[n[o]]&&e(window[n[o]]);var s;s="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i,s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(e){function t(s){if(s.target===this)for(e.call(this,s),i=0;i<n.length;i++)o.off(n[i],t)}var i,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],o=this;if(e)for(i=0;i<n.length;i++)o.on(n[i],t);return this}),"transform"in s.fn||(s.fn.transform=function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this}),"transition"in s.fn||(s.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this})),window.Swiper=t}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(e){e.fn.toggleWrapper=function(t,i,n){if(t){this.css("position","relative");var o=e("<div>");o.attr("data-wrapper",!0).css({display:"none",position:"absolute",top:"0",left:"0","z-index":"4","background-color":i?i:"white",width:"100%",height:"100%",opacity:"1"}).fadeIn(250,function(){n&&n()}),this.append(o)}else{var s=this,r=this.find("[data-wrapper]");r.delay(250).fadeOut(250,function(){s.removeAttr("style"),r.remove(),n&&n()})}}}(jQuery,window,document),function(e){function t(e){if(e in d.style)return e;var t=["Moz","Webkit","O","ms"],i=e.charAt(0).toUpperCase()+e.substr(1);if(e in d.style)return e;for(var n=0;n<t.length;++n){var o=t[n]+i;if(o in d.style)return o}}function i(){return d.style[h.transform]="",d.style[h.transform]="rotateY(90deg)",""!==d.style[h.transform]}function n(e){return"string"==typeof e&&this.parse(e),this}function o(e,t,i){t===!0?e.queue(i):t?e.queue(t,i):i()}function s(t){var i=[];return e.each(t,function(t){t=e.camelCase(t),t=e.transit.propertyMap[t]||e.cssProps[t]||t,t=l(t),h[t]&&(t=l(h[t])),-1===e.inArray(t,i)&&i.push(t)}),i}function r(t,i,n,o){var r=s(t);e.cssEase[n]&&(n=e.cssEase[n]);var a=""+u(i)+" "+n;parseInt(o,10)>0&&(a+=" "+u(o));var l=[];return e.each(r,function(e,t){l.push(t+" "+a)}),l.join(", ")}function a(t,i){i||(e.cssNumber[t]=!0),e.transit.propertyMap[t]=h.transform,e.cssHooks[t]={get:function(i){var n=e(i).css("transit:transform");return n.get(t)},set:function(i,n){var o=e(i).css("transit:transform");o.setFromString(t,n),e(i).css({"transit:transform":o})}}}function l(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function c(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}function u(t){var i=t;return"string"!=typeof i||i.match(/^[\-0-9\.]+/)||(i=e.fx.speeds[i]||e.fx.speeds._default),c(i,"ms")}e.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var d=document.createElement("div"),h={},p=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;h.transition=t("transition"),h.transitionDelay=t("transitionDelay"),h.transform=t("transform"),h.transformOrigin=t("transformOrigin"),h.filter=t("Filter"),h.transform3d=i();var f={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},m=h.transitionEnd=f[h.transition]||null;for(var g in h)h.hasOwnProperty(g)&&"undefined"==typeof e.support[g]&&(e.support[g]=h[g]);d=null,e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new n},set:function(t,i){var o=i;o instanceof n||(o=new n(o)),"WebkitTransform"!==h.transform||p?t.style[h.transform]=o.toString():t.style[h.transform]=o.toString(!0),e(t).data("transform",o)}},e.cssHooks.transform={set:e.cssHooks["transit:transform"].set},e.cssHooks.filter={get:function(e){return e.style[h.filter]},set:function(e,t){e.style[h.filter]=t}},e.fn.jquery<"1.8"&&(e.cssHooks.transformOrigin={get:function(e){
return e.style[h.transformOrigin]},set:function(e,t){e.style[h.transformOrigin]=t}},e.cssHooks.transition={get:function(e){return e.style[h.transition]},set:function(e,t){e.style[h.transition]=t}}),a("scale"),a("translate"),a("rotate"),a("rotateX"),a("rotateY"),a("rotate3d"),a("perspective"),a("skewX"),a("skewY"),a("x",!0),a("y",!0),n.prototype={setFromString:function(e,t){var i="string"==typeof t?t.split(","):t.constructor===Array?t:[t];i.unshift(e),n.prototype.set.apply(this,i)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=c(e,"deg")},rotateX:function(e){this.rotateX=c(e,"deg")},rotateY:function(e){this.rotateY=c(e,"deg")},scale:function(e,t){void 0===t&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=c(e,"deg")},skewY:function(e){this.skewY=c(e,"deg")},perspective:function(e){this.perspective=c(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==e&&void 0!==e&&(this._translateX=c(e,"px")),null!==t&&void 0!==t&&(this._translateY=c(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=c(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,i,n){t.setFromString(i,n)})},toString:function(e){var t=[];for(var i in this)if(this.hasOwnProperty(i)){if(!h.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&(e&&"scale"===i?t.push(i+"3d("+this[i]+",1)"):e&&"translate"===i?t.push(i+"3d("+this[i]+",0)"):t.push(i+"("+this[i]+")"))}return t.join(" ")}},e.fn.transition=e.fn.transit=function(t,i,n,s){var a=this,l=0,c=!0,d=jQuery.extend(!0,{},t);"function"==typeof i&&(s=i,i=void 0),"object"==typeof i&&(n=i.easing,l=i.delay||0,c=i.queue||!0,s=i.complete,i=i.duration),"function"==typeof n&&(s=n,n=void 0),"undefined"!=typeof d.easing&&(n=d.easing,delete d.easing),"undefined"!=typeof d.duration&&(i=d.duration,delete d.duration),"undefined"!=typeof d.complete&&(s=d.complete,delete d.complete),"undefined"!=typeof d.queue&&(c=d.queue,delete d.queue),"undefined"!=typeof d.delay&&(l=d.delay,delete d.delay),"undefined"==typeof i&&(i=e.fx.speeds._default),"undefined"==typeof n&&(n=e.cssEase._default),i=u(i);var p=r(d,i,n,l),f=e.transit.enabled&&h.transition,g=f?parseInt(i,10)+parseInt(l,10):0;if(0===g){var _=function(e){a.css(d),s&&s.apply(a),e&&e()};return o(a,c,_),a}var v={},y=function(i){var n=!1,o=function(){n&&a.unbind(m,o),g>0&&a.each(function(){this.style[h.transition]=v[this]||null}),"function"==typeof s&&s.apply(a),"function"==typeof i&&i()};g>0&&m&&e.transit.useTransitionEnd?(n=!0,a.bind(m,o)):window.setTimeout(o,g),a.each(function(){g>0&&(this.style[h.transition]=p),e(this).css(t)})},b=function(e){this.offsetWidth,y(e)};return o(a,c,b),this},e.transit.getTransitionValue=r}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t="waitForImages";e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},e.expr[":"].uncached=function(t){return e(t).is('img[src][src!=""]')?!t.complete:!1},e.fn.waitForImages=function(){var i,n,o,s=0,r=0,a=e.Deferred();if(e.isPlainObject(arguments[0])?(o=arguments[0].waitForAll,n=arguments[0].each,i=arguments[0].finished):1===arguments.length&&"boolean"===e.type(arguments[0])?o=arguments[0]:(i=arguments[0],n=arguments[1],o=arguments[2]),i=i||e.noop,n=n||e.noop,o=!!o,!e.isFunction(i)||!e.isFunction(n))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var l=e(this),c=[],u=e.waitForImages.hasImageProperties||[],d=e.waitForImages.hasImageAttributes||[],h=/url\(\s*(['"]?)(.*?)\1\s*\)/g;o?l.find("*").addBack().each(function(){var t=e(this);t.is("img:uncached")&&c.push({src:t.attr("src"),element:t[0]}),e.each(u,function(e,i){var n,o=t.css(i);if(!o)return!0;for(;n=h.exec(o);)c.push({src:n[2],element:t[0]})}),e.each(d,function(i,n){var o,s=t.attr(n);return s?(o=s.split(","),void e.each(o,function(i,n){n=e.trim(n).split(" ")[0],c.push({src:n,element:t[0]})})):!0})}):l.find("img:uncached").each(function(){c.push({src:this.src,element:this})}),s=c.length,r=0,0===s&&(i.call(l[0]),a.resolveWith(l[0])),e.each(c,function(o,c){var u=new Image,d="load."+t+" error."+t;e(u).one(d,function h(t){var o=[r,s,"load"==t.type];return r++,n.apply(c.element,o),a.notifyWith(c.element,o),e(this).off(d,h),r==s?(i.call(l[0]),a.resolveWith(l[0]),!1):void 0}),u.src=c.src})}),a.promise()}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){if(e.support.cors||!e.ajaxTransport||!window.XDomainRequest)return e;var t=/^(https?:)?\/\//i,i=/^get|post$/i,n=new RegExp("^(//|"+location.protocol+")","i");return e.ajaxTransport("* text html xml json",function(o,s){if(o.crossDomain&&o.async&&i.test(o.type)&&t.test(o.url)&&n.test(o.url)){var r=null;return{send:function(t,i){var n="",a=(s.dataType||"").toLowerCase();r=new XDomainRequest,/^\d+$/.test(s.timeout)&&(r.timeout=s.timeout),r.ontimeout=function(){i(500,"timeout")},r.onload=function(){var t="Content-Length: "+r.responseText.length+"\r\nContent-Type: "+r.contentType,n={code:200,message:"success"},o={text:r.responseText};try{if("html"===a||/text\/html/i.test(r.contentType))o.html=r.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(r.contentType))try{o.json=e.parseJSON(r.responseText)}catch(s){n.code=500,n.message="parseerror"}else if("xml"===a||"text"!==a&&/\/xml/i.test(r.contentType)){var l=new ActiveXObject("Microsoft.XMLDOM");l.async=!1;try{l.loadXML(r.responseText)}catch(s){l=void 0}if(!l||!l.documentElement||l.getElementsByTagName("parsererror").length)throw n.code=500,n.message="parseerror","Invalid XML: "+r.responseText;o.xml=l}}catch(c){throw c}finally{i(n.code,n.message,o,t)}},r.onprogress=function(){},r.onerror=function(){i(500,"error",{text:r.responseText})},s.data&&(n="string"===e.type(s.data)?s.data:e.param(s.data)),r.open(o.type,o.url),r.send(n)},abort:function(){r&&r.abort()}}}}),e}),function(e,t,i,n){e.createComponent=function(i,o){function s(e){return"object"!=typeof e||"Object"!==Object.prototype.toString.call(e).slice(8,-1)}function r(t,i,n){var o,s="";if(-1!==i.indexOf("."))s=".";else{if(-1===i.indexOf("#"))return;s="#"}o=i.split(s),e(s+o[1],t.$element).off().on(o[0],function(e){e.preventDefault(),t[n](e)}),t.registerEvent=r}function a(t){t.uiElements={},t.ui=function(i){return"undefined"!=typeof t.uiElements[i]?t.uiElements[i]:"undefined"!=typeof t.uiSelectors[i]?t.uiElements[i]=e(t.uiSelectors[i],t.$element):null}}function l(){var i=this.options.parentComponent?this.$parentComponent:this.$element;e(t).load(c.bind(this,i)),e(t).on("throttledScroll",c.bind(this,i))}function c(e){var t=this.inViewport;this.inViewport=site.utils.elementInViewport(e,this.options.trackadjust,this.options.trackWindowInnerHeight)?!0:!1,this._onEnterViewport&&t!==this.inViewport&&this.inViewport?this._onEnterViewport():this._onExitViewport&&t!==this.inViewport&&!this.inViewport&&this._onExitViewport()}if("string"!=typeof i||!i)return void console.log("Error: you must specify a valid plugin name on the first parameter of the method.",i);if(o===n||!o||s(o))return void console.log("Error: you must specify a valid plugin implementation on the second parameter of the method.",o);if("function"==typeof e.fn[i])return void console.log("Error: there's already a jQuery plugin defined with this name.",i,e.fn[i].constructor);"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});var u={_name:"",_defaults:{trackadjust:0,trackWindowInnerHeight:!1},_init:function(t,i,n){var o=this;this._name=t,this.element=i,this.$element=e(i),this.options=e.extend({},this._defaults,n),this.inViewport=!1,this.events&&e.each(this.events,function(e,t){r(o,e,t)}),this.uiSelectors&&a(o),this.options.trackInViewport&&l.apply(this),site.rtl===!0&&"function"==typeof this.init_rtl&&this.init_rtl(),"function"==typeof this.init&&this.init()}};e.fn[i]=function(t){var s,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=this,a=(e(n),"component_"+i),l=e.data(n,a);if(!l){var c=e.extend({},u,o);l=e.data(n,a,Object.create(c)),l&&"function"==typeof l._init&&l._init.apply(l,[i,n,t])}if(l&&"string"==typeof t&&"_"!==t[0]&&"init"!==t){var d="destroy"===t?"_destroy":t;"function"==typeof l[d]&&(s=l[d].apply(l,r)),"destroy"===t&&e.data(n,a,null)}}),s!==n?s:this}}}(window.jQuery,window,document),function(e){var t={uiSelectors:{groups:".accordion-group",toggleIcons:".accordion-toggle-icon",toggleButton:"a.toggle",openText:"a.toggle .open",closeText:"a.toggle .close"},events:{"click .accordion-group-title":"_toggleSection"},_status:{},init_rtl:function(){},init:function(){this.ui("toggleIcons").addClass("open"),this.ui("groups").addClass("open"),this.ui("groups").not(":first").each(function(t,i){this._toggleSection({currentTarget:e(i).find(".accordion-group-title")})}.bind(this)),this.ui("toggleButton").click(function(e){e.preventDefault(),this._toggleAll()}.bind(this))},_toggleAll:function(){this._status.open!==this._status.total?(this.ui("toggleIcons").addClass("closed").removeClass("open"),this.ui("groups").addClass("closed").removeClass("open")):(this.ui("toggleIcons").addClass("open").removeClass("closed"),this.ui("groups").addClass("open").removeClass("closed")),this.ui("groups").each(function(t,i){this._toggleSection({currentTarget:e(i).find(".accordion-group-title")})}.bind(this))},calculateNewHeight:function(){var t=0;this.$element.find("> div").each(function(i,n){if(e(n).hasClass("header-row")&&(t+=e(n).outerHeight()),e(n).hasClass("accordion-group")){var o=e(n).find(".accordion-group-title"),s=e(n).find(".accordion-group-content");if(o&&null!==o.outerHeight()&&(t+=o.outerHeight()),s&&(s.parent().hasClass("open")||s.parent().hasClass("always-open"))){var r=s.find("table").outerHeight();s.height(r),t+=r}}}),t+=120,this.$element.height(t+2),this.$element.trigger("height-change",[t+2]),this._checkStatus()},_resetStatus:function(){this._status={total:0,open:0,closed:0}},_checkStatus:function(){this._resetStatus(),this.ui("groups").each(function(t,i){e(i).hasClass("always-open")||(e(i).hasClass("open")?this._status.open++:this._status.closed++,this._status.total++)}.bind(this)),this._renderStatusText()},_renderStatusText:function(){this.ui("openText").hide(),this.ui("closeText").hide(),0===this._status.open?this.ui("openText").show():0===this._status.closed?this.ui("closeText").show():this.ui("openText").show()},_toggleSection:function(t){var i=e(t.currentTarget),n=i.find(".accordion-toggle-icon"),o=i.siblings(".accordion-group-content");n.hasClass("open")?(n.removeClass("open").addClass("closed"),i.parent().removeClass("open").addClass("closed"),o.height(0)):(n.removeClass("closed").addClass("open"),i.parent().removeClass("closed").addClass("open"),o.height(o.find("table").height())),this.calculateNewHeight()}};jQuery.createComponent("Accordion",t)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{items:".items",header:".items .heading"},_isInTwoColumnContainer:!1,_totalItems:0,init:function(){var e=this;e._isInTwoColumnContainer=e.$element.parents(".TwoColumnContainer").length,e._totalItems=e.ui("items").data("total"),e._resizeTextInit(),site.utils.isMobileDevice()&&site.utils.isBreakpointSmall()&&e._setupMobileTel()},_resizeTextInit:function(){var i=this,n=e(t);n.smartresize(function(){t.setTimeout(function(){i._resizeText()},1e3)}),i._resizeText()},_setupMobileTel:function(){var t=this,i=t.ui("items").find(".el");i.each(function(){var t=e(this).find("span"),i=t.data("tel");i&&t.wrap('<a href="tel:'+i+'"></a>')})},_multipleEqualHeights:function(e){for(var t=this.ui("header").length,i=Math.ceil(t/e),n=0,o=function(t){var i=n,o=n+(e-1);return t>=i&&o>=t},s=0;i>s;s++)this.ui("header").filter(o).equalHeights(),n+=e},_resizeText:function(){var i=this;i.ui("header").removeAttr("style"),i._isInTwoColumnContainer?e(t).width()>site.breakpoints.wider?i._multipleEqualHeights(2,i.ui("header")):("large"===site.breakpoints.current||"medium"===site.breakpoints.current)&&i._multipleEqualHeights(4,i.ui("header")):"large"===site.breakpoints.current?4===i._totalItems||7===i._totalItems||8===i._totalItems?i._multipleEqualHeights(4,i.ui("header")):5===i._totalItems||6===i._totalItems?i._multipleEqualHeights(3,i.ui("header")):i.ui("header").equalHeights():"medium"===site.breakpoints.current&&i._multipleEqualHeights(2,i.ui("header"))}};jQuery.createComponent("AtAGlance",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{localData:null,dataURL:null,wrapper:!0,autoSubmit:!1,keyMatchTitle:"",youSearchedTitle:"",appendAfter:""},_service:null,_results:[],_menuClass:"",_keypressTimer:null,init:function(){var t=this;t._menuClass="acm-"+this._guid(),t.options.localData&&this.$element.wrap("<div class='autoCompleteContainer'></div>");var i;i=""===t.options.appendAfter?t.$element:e(t.options.appendAfter),i.after("<div class='autoCompleteMenu "+t._menuClass+"'></div>"),t.options.localData?t._service=t._populateLocalData:t.options.dataURL&&(t._service=t._populateRemoteData),this._addEvents(),t._addKeyboardNavigation()},_populateRemoteData:function(){var t=this;clearTimeout(t._keypressTimer),t._keypressTimer=setTimeout(function(){var i=site.utils.removeHTMLTags(t.$element.val());e.getJSON(t.options.dataURL,{query:i}).done(function(e){t._results=e,t._createSearchMenu()}).fail(function(){})},300)},_populateLocalData:function(){for(var e=this,t=0;t<e.options.localData.length;t++)e.options.localData[t].toLowerCase().indexOf(e.$element.val().toLowerCase())>-1&&e._results.push(e.options.localData[t]);e._createMenu()},_createMenu:function(){for(var t=this,i=e("."+t._menuClass),n="",o=0;o<t._results.length;o++)n+="<div class='autoCompleteItem'>"+t._results[o]+"</div>";i.html(n),e(".autoCompleteItem").on("click tap",function(n){n.stopPropagation(),t.$element.val(e(this).text()),i.empty(),t.options.autoSubmit&&t.$element.parents("form").submit()})},_createSearchMenu:function(){var t=this,i=e("."+t._menuClass),n=t.options.youSearchedTitle,o="";o+="<a class='autoCompleteTitle' href='#'>"+n.replace("##searchTerm##","'"+site.utils.removeHTMLTags(t.$element.val())+"'")+"</a>";for(var s=t._results.keyMatches,r=0;r<s.length;r++)o+="<a href='"+s[r].url+"' class='autoCompleteItem promoted'>"+s[r].title+"<span>"+t.options.keyMatchTitle+"</span></a>";for(var a=t._results.suggestions,l=0;l<a.length;l++)o+="<a href='"+a[l].url+"' class='autoCompleteItem'>"+a[l].title+"</a>";i.html(o),e(".autoCompleteTitle").on("click tap",function(e){e.stopPropagation(),t.$element.parents("form").submit()})},_addEvents:function(){var t=this,i=e("."+t._menuClass),n="";n=t._inputSupport()?"input":"keyup",this.$element.on(n,function(){t._results=[],t.$element.val().length>2&&t._service()}),e("html").on("click tap",function(){i.empty()})},_inputSupport:function(){var e=i.createElement("input"),t="oninput"in e&&!0;return t||(e.setAttribute("oninput","return;"),t="function"==typeof e.oninput&&!0),t},_guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()},_addKeyboardNavigation:function(){var t=this,i=t.$element,n=e("."+t._menuClass);i.keydown(function(e){return 40===e.keyCode?(n.find("a:first").focus(),!1):void 0}),n.keydown(function(t){var n=e(this).find("a:first"),o=e(this).find("a:focus");return 40===t.keyCode?(o.next("a").focus(),!1):38===t.keyCode?(o.is(n)?i.focus():o.prev("a").focus(),!1):void 0})}};jQuery.createComponent("AutoComplete",n)}(jQuery,window,document),function(){var e={init:function(){this.$element.lrdxBazaarVoice("curations",this._loadCurations.bind(this))},_loadCurations:function(){var e=this.$element.data("product-id")||null,t=this.$element.data("group")||null;BVWidgets.display({productId:e,groups:t})}};jQuery.createComponent("BazaarVoiceCurations",e)}(jQuery,window,document),function(){var e={init:function(){this.$element.lrdxBazaarVoice("rating",this._loadRating.bind(this))},_loadRating:function(){var e=this.$element.data("product-id")||null;if(null!==e){var t=this.$element.data("url")||null,i="BazaarVoiceRating"+site.utils.getRandomString(8),n=i+"-"+e;this.$element.attr("id",n);var o={};o[e]={url:t},$BV.ui("rr","inline_ratings",{productIds:o,containerPrefix:i})}else console.log("BazaarVoiceRating: no productId")}};jQuery.createComponent("BazaarVoiceRating",e)}(jQuery,window,document),function(){var e={init:function(){this.$element.lrdxBazaarVoice("rating",this._loadReviews.bind(this))},_loadReviews:function(){var e=this.$element.data("product-id");$BV.ui("rr","show_reviews",{productId:e})}};jQuery.createComponent("BazaarVoiceReviews",e)}(jQuery,window,document),function(e){var t={_models:[],_modelSelectorHeight:0,_vehicleSelected:null,uiSelectors:{selectVehicle:".vehicle-selector",selectModel:".model-selector",total:".total-selected",compareButtonContainer:".button-container",dataContainer:".data-container",vehicles:".vehicle-selector .select-option",models:".model-selector .select-option"},events:{"click .remove-icon":"_removeModel","click .compare-button":"_getCompareData"},init_rtl:function(){},init:function(){this._updateSelectedTotal(),this.ui("selectModel").find(".Selectable").Selectable("initSlider"),this._modelSelectorHeight=this.ui("selectModel").outerHeight(),this.ui("selectModel").height(0).hide(),this.ui("selectVehicle").find(".Selectable").Selectable("initSlider"),this.ui("selectVehicle").on("option-selected",function(t,i){this.ui("vehicles").removeClass("selected");var n=e(i.currentTarget);n.addClass("selected"),this._vehicleSelected=this.ui("vehicles").index(n),this._showModels()}.bind(this)),this.ui("selectModel").on("option-selected",function(e,t){this._selectModel(t)}.bind(this))},_demoFn:function(){this.ui("models").removeClass("selected");for(var e=0,t=this._models.length;t>e;e++)this._models[e].v===this._vehicleSelected&&this.ui("models").eq(this._models[e].m).addClass("selected")},_showModels:function(){this.ui("selectModel").is(":visible")?this.ui("selectModel").transition({opacity:0,height:0},250,function(){this._demoFn(),this.ui("selectModel").transition({opacity:1,height:this._modelSelectorHeight},500),site.utils.scrollTo(e(".option-details:first()",this.$element),500)}.bind(this)):(this.ui("selectModel").show(),this.ui("selectModel").find(".Selectable").Selectable("updateSliderSize"),this.ui("selectModel").transition({opacity:1,height:this._modelSelectorHeight},500),site.utils.scrollTo(e(".option-details:first()",this.$element),500))},_selectModel:function(t){var i=e(t.currentTarget);i.hasClass("selected")?(i.removeClass("selected"),this._models=this._models.filter(function(e){return!(e.v===this._vehicleSelected&&e.m===this.ui("models").index(i))}.bind(this))):this._models.length<3&&(i.addClass("selected"),this._models.push({v:this._vehicleSelected,m:this.ui("models").index(i)})),this._updateVehicleSelectedCount(),this._updateSelectedTotal(),this._models.length>1?this.ui("compareButtonContainer").show():this.ui("compareButtonContainer").hide()},_updateVehicleSelectedCount:function(){var e=this.ui("vehicles").eq(this._vehicleSelected),t=this._models.filter(function(e){return e.v===this._vehicleSelected}.bind(this)).length;0===t?(e.removeClass("model-selected"),e.find(".selected-icon").text("")):(e.addClass("model-selected"),e.find(".selected-icon").text(t))},_updateSelectedTotal:function(){this.ui("total").text(this._models.length)},_getCompareData:function(){this.ui("dataContainer").show(),site.utils.scrollTo(this.ui("dataContainer"),300)}};jQuery.createComponent("CompareTwo",t)}(jQuery,window,document),function(e,t,i,n){var o={uiSelectors:{comparisonWrapper:".comparisonWrapper",floatingAddThisMenu:".addThisMenuHolder .addThisMenu",carouselNavigation:".carouselNavigation"},$sliderSet:e(".sliderSet",this.$element),$activeSet:null,$activeSlides:null,_$html:e("html"),$initSlider:!1,$componentHeight:null,$visibleTab:e(".visibleTab",this.$element),$tabFilterContainer:e(".tabFilterContainer",this.$element),$tabFilter:e(".TabFilter",this.$element),$headerBlock:null,$totalTabs:[],$carousel:!1,activatedSliderItems:[],activeSlideItem:!1,_comparisonSlideDefaults:{$element:!1,dragControl:!1,dragPosition:0,$dragBindElememt:!1,overlayActive:!1},toggleSnapFlag:!0,loadDelayMs:4e3,dragsliderDelayMs:1200,dragsliderElementRef:".sliderControls",dragsliderProgressRef:".sliderProgress",dragsliderObject:!1,dragsliderPosition:.5,dragTimeout:!1,fadeInComplete:!1,ieHoverLoop:!1,_carouselDirection:"slideFromRight",$hotspotOverlay:!1,_fallbackAnimationOffset:-230,breakpointSize:"large",activeHotspot:{$element:!1,dragControl:!1,dragPosition:.5,$dragBindElememt:!1},init_rtl:function(){this._carouselDirection="slideFromLeft"},init:function(){var i=this;this.$element.addClass("loading"),this.$element.append(e('<div class="loaderOverlay"></div>')),this._setActiveSet(),this._setPadding(),this.$element.scrollfire({onBottomIn:function(){i.$element.hasClass("loaded")===!1&&(i.$activeSlides.length>1?i._initRoyalSlider():(i.$element.hasClass("loading")&&i.loaderEffect(i.loadDelayMs),i.ui("carouselNavigation").fadeOut(),i.$activeSet.find(".comparisonSliderCarousel").removeClass("royalSlider")),i._allTabsToArray(),i._initActiveSlide(i.$activeSlides.first(),!0),t.richsponsiveImage())}}),i._initEvents(),i._initSocialSharing(),i._initEnquire()},_setActiveSet:function(){this.$activeSet=this.$sliderSet.filter(".active"),this.$activeSlides=e(".comparisonSliderItem",this.$activeSet),this.$headerBlock=e(".headerBlock",this.$activeSet)},_initActiveSlide:function(t,i){var n=this;this.activeframeSliderItem=!1;var o=this.$activeSlides.index(t),s=null,r=null;if(this.$activeSlides.removeClass("active"),o in this.activatedSliderItems){this.activeSlideItem=this.activatedSliderItems[o];var a=this.activeSlideItem.dragControl.getValue(),l=2;a[0]>=.75?l=3:a[0]<=.25&&(l=1),this.activeSlideItem.dragControl.setStep(l,1,!0),this.activeSlideItem.dragControl.reflow()}else this.activeSlideItem=e.extend(!0,{},n._comparisonSlideDefaults),this.activeSlideItem.$element=t,this.activatedSliderItems[o]=this.activeSlideItem,s=this.activeSlideItem.$element.find(".sliderContainer"),r=this.activeSlideItem.$element.find(".comparisonWrapper"),0===o&&i?(this.activeSlideItem.dragPosition=.5,this.activeSlideItem.dragControl=this._initDragDealer(!0,s,r)):(this.dragsliderPosition=site.rtl?1:0,this.activeSlideItem.dragControl=this._initDragDealer(!1,s,r));this.$element.hasClass("loading")&&this.loaderEffect(n.loadDelayMs),this._initHotSpot(),this.activeSlideItem.$element.addClass("active")},_uninitDragAnimation:function(){clearTimeout(this.activeSlideItem.dragControl.activePauseTimout)},_initEnquire:function(){var e=this;enquire.register("screen and (min-width: "+t.site.breakpoints.wider+"px)",{match:function(){e.breakpointSize="large"}}),enquire.register("screen and (min-width: "+(t.site.breakpoints.small+1)+"px) and (max-width: "+(t.site.breakpoints.wider-1)+"px)",{match:function(){e.breakpointSize="medium"}}),enquire.register("screen and (max-width: "+t.site.breakpoints.small+"px)",{match:function(){e.breakpointSize="small"}}),enquire.register("screen and (max-width: 400px)",{match:function(){e.breakpointSize="extra-small"}})},_initHotSpot:function(){var e=this,t=1300,i=600,n=1e3;this.$activeSlides.removeClass("activeHotspot"),this.activeSlideItem.$element.addClass("activeHotspot");var o=this.activeSlideItem.$element.find("div.hotspot"),s=o.find(".hotspotIcon"),r=o.find(".hotspotLine"),a=o.find(".hotspotPoint");s.css("opacity",0).removeClass("pulse"),r.hide(),a.removeAttr("style"),e.fadeInComplete===!1&&(t=3e3,i=2600,n=3e3,r.css({"-webkit-animation-delay":"2s","animation-delay":"2s"})),e._hotspotResize(),a.delay(i).animate({opacity:1},800),r.show(),s.delay(t).animate({opacity:1},800,function(){s.addClass("pulse"),r.css({"-webkit-animation-delay":"0s","animation-delay":"0s"})}),e.fadeInComplete=!0,this._$html.hasClass("no-smil")&&setTimeout(function(){e._fallbackAnimation("forward")},n),this._$html.hasClass("no-cssvhunit")&&site.utils.getAndroidVersion()<=4.2&&(this._hotspotReset(),this.$element.addClass("disableAnimation"))},_hotspotHideLines:function(){var t=this,i=e(".comparisonSliderItem.activeHotspot",this.$element),n=i.find(".hotspotPoint");n.fadeOut(300,function(){t._$html.hasClass("no-smil")&&t._fallbackAnimation("reverse")});var o=i.find(".hotspot .inner");o.addClass("hidden")},_hotspotShowLines:function(){var t=this,i=e(".comparisonSliderItem.activeHotspot",this.$element),n=i.find(".hotspotPoint");n.delay(500).fadeIn(1e3),t._$html.hasClass("no-smil")&&t._fallbackAnimation("forward");var o=i.find(".hotspot .inner");o.removeClass("hidden")},_hotspotResize:function(){var t,i,n=this,o=e(".hotspotWrapper",this.$activeSet),s=e(".comparisonWrapper",this.$element);o.find(".hotspot").each(function(){if(e(this).removeClass("flipV").removeClass("flipH"),"extra-small"===n.breakpointSize){var r=o.width()/330;t=e(this).data("mobile-y")*r,i=e(this).data("mobile-x")*r}else"small"===n.breakpointSize?(t=e(this).data("mobile-y"),i=e(this).data("mobile-x")):"medium"===n.breakpointSize?(t=e(this).data("tablet-y"),i=e(this).data("tablet-x")):(t=e(this).data("desktop-y"),i=e(this).data("desktop-x"));if(t>=s.outerHeight()/2.5&&e(this).addClass("flipV"),i>=s.outerWidth()/2&&e(this).addClass("flipH"),"medium"===n.breakpointSize||"large"===n.breakpointSize){var a=50;(a>i||i>s.outerWidth()-a)&&e(this).toggleClass("flipH")}e(this).css({display:"inherit",top:t,left:i})})},_hotSpotOpen:function(i){i.preventDefault();var n=i.data.that,o=e(i.target),s=o.offset();site.utils.disableScroll();var r=o.parents(".hotspot"),a=r.find(".hotspotContent > h4").text(),l=r.find(".hotspotContent > p").text(),c=r.find(".hotspotContent .comparisonWrapperOverlay");e("html").addClass("hotSpotActive"),n.activeHotspot.$element=o,n.$hotspotOverlay===!1&&n._addOverlay(),n.dragsliderPosition=.5,s.top=s.top-e(t).scrollTop(),n.$hotspotOverlay.css({top:s.top,left:s.left}).addClass("hotspotOpen");var u={height:40,width:40};n.$hotspotOverlay.stop().animate({width:2.5*e(t).width(),height:2.5*e(t).width()},{duration:420,step:function(e,t){var i=0,o=0;"width"===t.prop&&(i=s.left-(e-u.width)/2,n.$hotspotOverlay.css("left",i),s.left=i,u.width=e),"height"===t.prop&&(o=s.top-(e-u.height)/2,n.$hotspotOverlay.css("top",o),s.top=o,u.height=e)},complete:function(){n.$hotspotOverlay.addClass("hotspotActive Fullscreen").removeAttr("style"),n.$hotspotOverlay.find(".hotspotOverlayContent").prepend(c),n.$hotspotOverlay.find(".fullscreenHeader h4").text(a),n.$hotspotOverlay.find(".fullscreenHeader p").text(l),n.$hotspotOverlay.find(".fullscreenFooter h4").text(a),n.$hotspotOverlay.find(".fullscreenFooter p").text(l),n.activeSlideItem.overlayActive=!0,t.richsponsiveImage(),n._uninitDragAnimation(e(n.activeSlideItem.$element)),n.activeHotspot.dragControl=n._initDragDealer(!1,n.$hotspotOverlay.find(".overlaidSlider"),n.$hotspotOverlay.find(".comparisonWrapperOverlay"))}})},_hotSpotClose:function(t){t.preventDefault();var i=t.data.that;site.utils.enableScroll(),i.$hotspotOverlay=e(".hotspotOverlay",i.$element),i.$hotspotOverlay.removeClass("hotspotOpen Fullscreen");var n=i.activeHotspot.$element.parents(".hotspot");n.find(".hotspotContent").append(e(".comparisonWrapperOverlay",i.$hotspotOverlay)),i.$hotspotOverlay.removeClass("hotspotActive"),e("html").removeClass("hotSpotActive").removeAttr("style"),i.activeSlideItem.overlayActive=!1,i._uninitDragAnimation(e(i.activeSlideItem.$element)),i._initActiveSlide(i.activeSlideItem.$element)},_addOverlay:function(){this.$hotspotOverlay=e(".hotspotOverlay",this.$element)},_allTabsToArray:function(){var t=this;e(".sliderSet").each(function(){t.$totalTabs.push(e(this).data("tabid"))})},_toggleTab:function(){var i,n,o=this;o.$initSlider===!1?o.$initSlider=!0:(e.each(o.$totalTabs,function(t,s){if(n=e("."+s),n.hasClass("visibleTab")){n.removeClass("active");var r=n.find(".comparisonSliderBg").css("background-image");o._slideToComponentBackground(r)}else i=t,n.addClass("active toggling")}),this._tabFilterFade(0,100),this.dragsliderPosition=.5,t.richsponsiveImage(),this.activatedSliderItems=[],this.activeSlideItem=!1,this._fallbackAnimationOffset=-230,this.$element.find(".hotspotLine").removeAttr("style"),this._setActiveSet(),o.$activeSlides.length>1?o._initRoyalSlider():o.$activeSet.find(".comparisonSliderCarousel").removeClass("royalSlider"),setTimeout(function(){var t=e(o.$activeSet.find(".active.comparisonSliderItem"));0===t.length&&(t=o.$activeSlides.first()),o._initActiveSlide(t,o.toggleSnapFlag),o.$activeSet.removeClass("toggling"),o.activeSlideItem.dragControl.reflow(),o.toggleSnapFlag=!1,o.$activeSlides.length>1&&o.ui("carouselNavigation").fadeIn()},1200))},_slideToComponentBackground:function(e){e.replace(/.*\s?url\([\'\"]?/,"").replace(/[\'\"]?\).*/,""),this.$element.css("background-image",e)},_initRoyalSlider:function(){var i=this,n=0,o=e(".royalSlider",this.$activeSet).royalSlider({arrowsNav:!0,loop:!0,keyboardNavEnabled:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,autoHeight:!0,autoScaleSlider:!1,slidesSpacing:0,imgWidth:"100%",imgHeight:"100%",sliderDrag:!0,sliderTouch:!0,controlNavigation:"none",thumbsFitInViewport:!1,navigateByClick:!1,startSlideId:n,autoPlay:{enabled:!1},numImagesToPreload:1,transitionType:"move"});o=e(".royalSlider",this.$activeSet).data("royalSlider"),i.$carousel=o,o.ev.on("rsBeforeAnimStart",function(){var t=this.currSlide.content;t.find(".hotspotLine").removeAttr("style").hide(),t.find(".hotspotIcon").removeAttr("style"),i._fallbackAnimationOffset=-230,i._updatePagination(),i._uninitDragAnimation(e(this.currSlide.content))}),o.ev.on("rsAfterSlideChange",function(){t.richsponsiveImage(),i._initActiveSlide(e(this.currSlide.content));var n=this.currSlide.content;n.find(".hotspotIcon").removeAttr("style"),i._resize()}),this._updatePagination(),t.richsponsiveImage(),this.$element.hasClass("loading")&&this.loaderEffect(i.loadDelayMs),e(t).trigger("resize")},_initDragDealer:function(i,n,o){var s=this;this.activeSlideItem.overlayActive?this.activeHotspot.$dragBindElememt=o:this.activeSlideItem.$dragBindElememt=o;var r=n.find(this.dragsliderElementRef).get(0),a=n.find(this.dragsliderProgressRef),l=new t.Dragdealer(r,{steps:3,x:this.dragsliderPosition,xPrecision:o.outerWidth(),dragStartCallback:function(){e(this.handle).addClass("active"),s._hotspotHideLines()},dragStopCallback:function(t){e(this.handle).removeClass("active").data("position",100*t),s._hotspotShowLines()},animationCallback:function(t){e(this.handle).data("position",100*t),s.activeSlideItem.overlayActive!==!0&&(s.activeSlideItem.dragPosition=t),s.comparisonClipping(t,o),site.rtl?a.width(100-100*t+"%"):a.width(100*t+"%")}});if(e(r).on("mousedown touchstart pointerdown MSPointerDown",function(e){e.stopPropagation()}),i){var c=site.rtl?1:0;this.dragTimeout=setTimeout(function(){l.setValue(c,1)},s.loadDelayMs)}return l},_updatePagination:function(){var t=this,i=t.$carousel.currSlideId+1;return e(".carouselNavigation"),"slideFromLeft"===t._carouselDirection?void e(".numbers",t.$element).html('<span class="number">'+t.$carousel.numSlides+'</span><span class="divide">/</span><span class="number">'+i+"</span>"):void e(".numbers",t.$element).html('<span class="number">'+i+'</span><span class="divide">/</span><span class="number">'+t.$carousel.numSlides+"</span>");
},comparisonClipping:function(e,t){if(this.activeSlideItem!==!1&&t!==!1){var i=t.find(".beforeImage"),n=t.find(".afterImage"),o=i.width(),s=i.height(),r=0;r=Math.round(o*e),i.css("clip","rect(0,"+o+"px,"+s+"px,"+r+"px)"),n.css("clip","rect(0,"+r+"px,"+s+"px,0)")}},_initEvents:function(){var i=this;e(t).smartresize(function(){i._resize()}),1===i.$tabFilter.length&&(i.$tabFilter.on("changeTabs",function(){i._toggleTab(i.$activeSet.data("tabid")),i.ui("carouselNavigation").fadeOut()}),i.$tabFilter.on("tabAnimationComplete",function(){e(".headingLinear",i.$activeSet).Headings("linearLines"),i._tabFilterFade(1,800),i._setPadding()})),this.$element.find(".hotspot .hotspotIcon").on("click",{that:this},this._hotSpotOpen),this.$element.find(".hotspotOverlayClose").on("click",{that:this},this._hotSpotClose),i._initControls()},_resize:function(){var t=this,i={x:0,y:0};t._setPadding(),t._hotspotResize(),t._resizeOverlayHeader(),t.activeSlideItem.dragControl!==n&&e(t.activeSlideItem.dragControl.handle).hasClass("active")===!1&&(i=t.activeSlideItem.dragControl.getValue(),t.comparisonClipping(i[0],t.activeSlideItem.$dragBindElememt),t.activeSlideItem.dragControl.reflow()),t.activeHotspot.$element!==!1&&e(t.activeHotspot.dragControl.handle).hasClass("active")===!1&&t.activeSlideItem.dragControl!==n&&(i=t.activeHotspot.dragControl.getValue(),t.comparisonClipping(i[0],t.activeHotspot.$dragBindElememt),t.activeSlideItem.dragControl.reflow()),t.$carousel!==!1&&t.$carousel.updateSliderSize()},_initControls:function(){var t=e(".carouselNavigation",this.element);e(".prev",t).on("click",{that:this},this._onPrev),e(".next",t).on("click",{that:this},this._onNext)},_onPrev:function(e){e.preventDefault();var t=e.data.that;return site.rtl?void t.$carousel.next():void t.$carousel.prev()},_onNext:function(e){e.preventDefault();var t=e.data.that;return site.rtl?void t.$carousel.prev():void t.$carousel.next()},_tabFilterFade:function(e,t){var i=this;i.$tabFilter.stop().animate({opacity:e},t)},_setPadding:function(){var e=this;e.$activeSlides.removeAttr("style");var t=e.$headerBlock.outerHeight(),i=parseInt(e.$activeSlides.css("paddingTop"),0)+parseInt(t,0)+e.$tabFilter.outerHeight();e.$activeSlides.css("paddingTop",i),e.$tabFilterContainer.css("top",t)},_setInlineHeight:function(){var t=e(".rsOverflow",this.$activeSet),i=e(".royalSlider",this.$activeSet);if(0!==t.length){var n=t.attr("style");if(n){var o,s=n.split("; ");e.each(s,function(e,t){if(o=t.split(": "),"height"===o[0]){var n=o[1].replace(";","");"0px"!==n&&i.css("min-height",n)}})}}},_comparisonWrapperResize:function(){var t=this,i=e(".rsOverflow");site.utils.isMobileDevice()&&i.css("min-height",0),t._setInlineHeight()},loaderEffect:function(e){var t=this;this.$element.addClass("load-progress"),setTimeout(function(){t.$element.addClass("loaded").removeClass("loading load-progress")},e)},_fallbackAnimation:function(i){var n=e(".hotspotLine",this.activeSlideItem.$element),o=this;if("undefined"==typeof t.requestAnimationFrame)return void this._hotspotReset();if("reverse"===i){if(this._fallbackAnimationOffset<-230)return void(this._fallbackAnimationOffset=-230);this._fallbackAnimationOffset--}else{if(this._fallbackAnimationOffset>=0)return void(this._fallbackAnimationOffset=0);this._fallbackAnimationOffset++}n.css("strokeDashoffset",this._fallbackAnimationOffset),setTimeout(function(){t.requestAnimationFrame(e.proxy(o._fallbackAnimation(i),o))},2)},_initSocialSharing:function(){var t=this;t.ui("floatingAddThisMenu").find(".SocialSharing").SocialSharing({orientation:"vertical",animateFrom:"bottom"}),e(".addThisMenu",t.$element).on("mouseleave",function(){e(this).removeClass("open"),e(this).find(".SocialSharing").SocialSharing("closeMenu")})},_resizeOverlayHeader:function(){if(e("html").hasClass("hotSpotActive")){var i=this.$hotspotOverlay.find(".logo").outerWidth()+this.$hotspotOverlay.find(".mfp-close").outerWidth()+this.$hotspotOverlay.find(".addThisMenu").outerWidth();this.$hotspotOverlay.find(".info").width(e(t).width()-i)}},_hotspotReset:function(){var t=e(".hotspotLine",this.$element);t.css({strokeDashoffset:0})}};jQuery.createComponent("ComparisonSlider",o)}(jQuery,window,document),function(e,t){var i={_isMobile:!1,_groupTitlePaddingLeft:0,uiSelectors:{tables:"table",overflowScrollContainer:".scroll-x",accordion:".Accordion",groupTitles:".accordion-group-title",groupTitleDiv:".accordion-group-title > div"},events:{},init_rtl:function(){},init:function(){this._groupTitlePaddingLeft=parseInt(this.ui("groupTitleDiv").first().css("padding-left"),10),site.utils.isBreakpointSmall()?(this._trackOverflowScroll(),this._isMobile=!0):this.ui("tables").addClass("table-grid"),e(t).smartresize(function(){site.utils.isBreakpointSmall()?(this._isMobile||this._trackOverflowScroll(),this._isMobile=!0):(this.ui("tables").addClass("table-grid"),this._isMobile&&this._untrackOverflowScroll(),this._isMobile=!1)}.bind(this),250)},_equalizeColWidths:function(){var t=this.ui("tables").length,i=e("table:eq(0) td",this.$element).length,n={};this.ui("tables").removeClass("table-grid");for(var o=0;t>o;o++)for(var s=0;i>s;s++){var r=e("table:eq("+o+") td:eq("+s+")",this.$element).width();n[s]?n[s]=r>n[s]?r:n[s]:n[s]=r}for(var a=0;i>a;a++)e("table tr td:nth-child("+a+"1n)",this.$element).width(n[a]);this.ui("tables").addClass("table-grid")},_trackOverflowScroll:function(){this.ui("overflowScrollContainer").on("scroll",function(t){clearTimeout(this.scrollTimeout),this._scrolling||(this.ui("overflowScrollContainer").addClass("scrolling"),this._scrolling=!0),this.scrollTimeout=setTimeout(function(){var i=t.currentTarget,n=(e(i),i.scrollLeft);this.ui("groupTitleDiv").css({paddingLeft:n+this._groupTitlePaddingLeft,width:e(".scroll-x").width()-80,boxSizing:"content-box"}),e(".header-row a").css({paddingLeft:n+this._groupTitlePaddingLeft,width:e(".scroll-x").width()-80,boxSizing:"content-box",display:"block"}),this.ui("overflowScrollContainer").removeClass("scrolling"),this.ui("accordion").trigger("padding-set",[n+this._groupTitlePaddingLeft]),this._scrolling=!1}.bind(this),250)}.bind(this))},_untrackOverflowScroll:function(){this.ui("groupTitleDiv").css("padding-left",""),this.ui("overflowScrollContainer").off("scroll")},_collapseAll:function(){}};jQuery.createComponent("ComparisonTable",i)}(jQuery,window,document),function(e,t,i){var n={_translations:null,_comparisons:[null,null,null],_data:null,_currentVehicle:0,_currentDerivative:0,_currentBodyStyle:0,_currentlyPopulating:0,_totalComparisons:3,_slidesPerView:4.2,_totalPopulated:0,_enginesPopulated:0,_comparisonEls:e(".model-selector-table .vehicles-row td"),_templates:{},_sliders:{},_loadedImages:0,_dev:!1,_isFixed:!1,_stuckAt:0,_maxKF:0,_step:0,_mobileScrollActive:!1,_scrollTimeout:null,_mode:!1,_isXI:!1,_mobileBreakpoint:740,_accordionWidth:0,_sizes:{height:0,width:0},uiSelectors:{dataContainer:".data-container",vehiclesRow:".vehicles-row",backToVehicles:".back-to-vehicles",bodySelector:".body-selector",closeButtons:".close-button",accordion:".Accordion",modelsTable:".models-table",chooseEngine:".choose-engine",chooseVehicle:".choose-vehicle",chooseDerivative:".choose-derivative"},_breakpoints:{640:{slidesPerView:1.1},1e3:{slidesPerView:3.1},1200:{slidesPerView:4.2}},_checkArrows:function(e){var t,i;switch(e){case 1:t=this._data.models.length,i=this.ui("chooseVehicle");break;case 2:t=this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].derivatives.length,i=this.ui("chooseDerivative")}t>this._slidesPerView&&i.removeClass("no-arrows")},_step1:function(){this._setStep(1),3===this._step&&(e(".data-block").css({height:0,overflow:"hidden"}),e(".slider-container").removeClass("transition")),this.ui("chooseDerivative").removeClass("shown"),this.ui("chooseEngine").removeClass("shown"),this._checkArrows(1),this.ui("chooseVehicle").addClass("shown")},_step2:function(){e(".data-block").css({height:0,overflow:"hidden"}),e(".slider-container").removeClass("transition"),this.ui("chooseEngine").removeClass("shown"),this._checkArrows(2),this._setStep(2)},_step3:function(){this._setStep(3)},_check:function(e){return null===e?null:e[0]},_munge:function(e,t){this._currentBodyStyle=0,this._currentDerivative=0;var n=e.bodyStyles[this._currentBodyStyle],o=n.derivatives[this._currentDerivative],s=o.engines[t],r=o.keyFeatures,a={overview:{overview:{numberOfSeats:this._check(n.numberOfSeats,"numberOfSeats"),extraUrbanConsumption:this._check(s.extraUrbanConsumption,"extraUrbanConsumption"),co2:this._check(s.co2,"co2"),fuelCapacity:this._check(s.fuelCapacity,"fuelCapacity")}},engines:o.engines,keyFeatures:r,performanceAndWeights:{performance:{maximumSpeed:this._check(s.maximumSpeed,"maximumSpeed"),acceleration:this._check(s.acceleration,"acceleration")},fuelConsumption:{urbanConsumption:this._check(s.urbanConsumption,"urbanConsumption"),extraUrbanConsumption:this._check(s.extraUrbanConsumption,"extraUrbanConsumption"),combinedConsumption:this._check(s.combinedConsumption,"combinedConsumption"),fuelCapacity:this._check(s.fuelCapacity,"fuelCapacity"),co2:this._check(s.co2,"co2")},engine:{engineCapacity:this._check(s.engineCapacity,"engineCapacity"),maximumPower:this._check(s.maximumPower,"maximumPower"),maximumTorque:this._check(s.maximumTorque,"maximumTorque"),transmission:this._check(s.transmission,"transmission")},weights:{weight:this._check(s.weight,"weight"),maximumLadenWeight:this._check(s.maximumLadenWeight,"maximumLadenWeight"),maximumMassOnFrontAxle:this._check(s.maximumMassOnFrontAxle,"maximumMassOnFrontAxle"),maximumMassOnRearAxle:this._check(s.maximumMassOnRearAxle,"maximumMassOnRearAxle")}},towingOptions:{"towing.subHeading.Txt":{unbrakedTrailer:this._check(s.unbrakedTrailer,"unbrakedTrailer"),maximumTowing:this._check(s.maximumTowing,"maximumTowing"),maximumCouplingPointWeight:this._check(s.maximumCouplingPointWeight,"maximumCouplingPointWeight"),maximumCombinationWeight:this._check(s.maximumCombinationWeight,"maximumCombinationWeight")},roofCarrying:{maximumRoofLoad:this._check(n.maximumRoofLoad,"maximumRoofLoad")}},dimensions:{turningCircle:{turningRadius:this._check(n.turningRadius,"turningRadius"),wallToWall:this._check(n.wallToWall,"wallToWall"),turnsLockToLock:this._check(n.turnsLockToLock,"turnsLockToLock")},obstacleClearance:{clearanceFrontAxle:this._check(n.clearanceFrontAxle,"clearanceFrontAxle"),clearanceRearAxle:this._check(n.clearanceRearAxle,"clearanceRearAxle")},"wadingDepth.headingTxt":{wadingDepth:this._check(n.wadingDepth,"wadingDepth")},vehicleLength:{length:this._check(n.length,"length"),wheelbase:this._check(n.wheelbase,"wheelbase")},vehicleHeightAndWidths:{height:this._check(n.height,"height"),frontWheelTrack:this._check(n.frontWheelTrack,"frontWheelTrack"),rearWheelTrack:this._check(n.rearWheelTrack,"rearWheelTrack"),widthMirrorsOut:this._check(n.widthMirrorsOut,"widthMirrorsOut"),widthMirrorsFolded:this._check(n.widthMirrorsFolded,"widthMirrorsFolded")},approachAngle:{approachAngleStandard:this._check(n.approachAngleStandard,"approachAngleStandard"),approachAngleOffRoad:this._check(n.approachAngleOffRoad,"approachAngleStandard")},breakOverAngle:{rampBreakOverAngleStandard:this._check(n.rampBreakOverAngleStandard,"rampBreakOverAngleStandard"),rampBreakOverAngleOffRoad:this._check(n.rampBreakOverAngleOffRoad,"breakOverAngleOffRoad")},departureAngle:{departureAngleStandard:this._check(n.departureAngleStandard,"departureAngleStandard"),departureAngleOffRoad:this._check(n.departureAngleOffRoad,"departureAngleOffRoad")},loadspaceCapacityRearSeatsUpright:{loadspaceSeatsUprightHeight:this._check(n.loadspaceSeatsUprightHeight,"loadspaceSeatsUprightHeight"),loadspaceSeatsUprightWidth:this._check(n.loadspaceSeatsUprightWidth,"loadspaceSeatsUprightWidth"),loadspaceSeatsUprightVolume:this._check(n.loadspaceSeatsUprightVolume,"loadspaceSeatsUprightVolume"),loadspaceSeatsUprightWidthBetweenArches:this._check(n.loadspaceSeatsUprightWidthBetweenArches,"loadspaceSeatsUprightWidthBetweenArches"),loadspaceSeatsUprightLength:this._check(n.loadspaceSeatsUprightLength,"loadspaceSeatsUprightLength")},loadspaceCapacityRearSeatsForward:{loadspaceSeatsForwardHeight:this._check(n.loadspaceSeatsForwardHeight,"loadspaceSeatsForwardHeight"),loadspaceSeatsForwardWidth:this._check(n.loadspaceSeatsForwardWidth,"loadspaceSeatsForwardWidth"),loadspaceSeatsForwardVolume:this._check(n.loadspaceSeatsForwardVolume,"loadspaceSeatsForwardVolume"),loadspaceSeatsForwardWidthBetweenArches:this._check(n.loadspaceSeatsForwardWidthBetweenArches,"loadspaceSeatsForwardWidthBetweenArches"),loadspaceSeatsForwardLength:this._check(n.loadspaceSeatsForwardLength,"loadspaceSeatsForwardLength")},standardRideHeight:{rideHeightWithRoofRails:this._check(n.rideHeightWithRoofRails,"rideHeightWithRoofRails"),rideHeightWithRoofAntannae:this._check(n.rideHeightWithRoofAntannae,"rideHeightWithRoofAntannae")},headroom:{headroomFront:this._check(n.headroomFront,"headroomFront"),headroomRear:this._check(n.headroomRear,"headroomRear"),headroomFrontWithPanoramicRoof:this._check(n.headroomFrontWithPanoramicRoof,"headroomFrontWithPanoramicRoof"),headroomRearWithPanoramicRoof:this._check(n.headroomRearWithPanoramicRoof,"headroomRearWithPanoramicRoof")}}};return"en-US"===i.documentElement.lang&&(delete a.performanceAndWeights.fuelConsumption.co2,delete a.overview.overview.co2),a},_findHighest:function(t){var i=0;return e(t).each(function(t,n){var o=e(n).outerHeight();o>i&&(i=o)}),i},_setStep:function(i){this._step=i,e(".step-indicator ul").attr("data-step",i),e(".slider-container .faded").removeClass("faded"),this._setText(),4===i?e(".close-button").hide():t.innerWidth>640&&site.utils.scrollTo(0)},_bindMobileScroll:function(t){4===this._step&&e(".models-table").animate({scrollLeft:t.currentTarget.scrollLeft},0)},_mobileScrollOn:function(){!this._mobileScrollActive&&t.innerWidth<this._mobileBreakpoint&&(e(".scroll-x").on("scroll",this._bindMobileScroll.bind(this)),this._mobileScrollActive=!0)},_mobileScrollOff:function(){this._mobileScrollActive&&(e(".scroll-x").off("scroll",this._bindMobileScroll.bind(this)),this._mobileScrollActive=!1)},_updateSizes:function(){this._accordionWidth=this.ui("accordion").width()},init:function(){"en-XI"===i.documentElement.lang&&(this._isXI=!0),this.ui("chooseEngine").hover(function(){e(".slider-container").css("overflow","visible")},function(){e(".slider-container").css("overflow","hidden")}),e(".step-indicator li").click(function(t){var i=parseInt(e(t.currentTarget).index(),10)+1;if(i<this._step){var n="_step"+i;this[n]()}}.bind(this)),this.ui("accordion").on("padding-set",function(t,i){e(".header-row a").css({paddingLeft:i})}),this.ui("accordion").on("height-change",function(t,i){var n=e(".models-table").outerHeight(),o=0;"none"!==e(".mobile-add-button").css("display")&&(o=e(".mobile-add-button").outerHeight()),this._totalPopulated>0&&e(".data-block").height(i+n+o)}.bind(this)),this._translations=this.$element.find(".translations").data("json"),this._setStep(1),("localhost"===t.location.hostname||"192.168.13.83"===t.location.hostname||"192.168.15.37"===t.location.hostname)&&(this._dev=!0),e(".close-button").hide(),this._getTemplates(),this._setupSliders(),this._getInitialData(),this._setupEvents(),this.ui("dataContainer").height(0),this.ui("dataContainer").addClass("closed"),t.innerWidth<1025&&(t.innerWidth>t.innerHeight?(this._mode="landscape",this._mobileScrollOff()):(this._mode="portrait",this._mobileScrollOn())),e(t).on("orientationchange",function(){setTimeout(function(){t.innerWidth<1025&&(t.innerWidth>t.innerHeight?this._mode="landscape":this._mode="portrait"),"landscape"===this._mode&&(e(".toggle").width("auto"),e(".accordion-group-title > div").width("auto")),4!==this._step?setTimeout(function(){var t=e(e(".select-block")[this._step-1]).outerHeight();e(".slider-container").height(t)}.bind(this),200):(setTimeout(function(){"landscape"===this._mode?(e(".models-table, .models-table table, .models-table > div").width(e(".Accordion").width()),e(".models-table").css({position:"static"}),e(".Accordion").css({marginTop:0}),e(".fixed-background").css({height:0,opacity:0}),this._mobileScrollOff()):(e(".models-table table, .models-table > div").width(e(".Accordion").width()),e(".models-table").css({width:"100%"}),this._mobileScrollOn())}.bind(this),200),this.ui("accordion").Accordion("calculateNewHeight"))}.bind(this),500)}.bind(this)),e(t).resize(this._handleResize.bind(this)),this._handleResize(),this._mobileScrollOn(),e(i).scroll(function(){if(this._totalPopulated>0&&4===this._step&&"landscape"!==this._mode){var i=e(".populated img").first(),n=48,o=i.offset().top+i.height()-n,s=this.ui("accordion").find(".accordion-group:not(.always-open)").last(),r=s.offset().top+s.outerHeight(),a=this._findHighest(".meta-block"),l=e(t).scrollTop()+a+n,c=this._findHighest(".populated img");e(t).scrollTop()>o&&!this._isFixed||this._stuckAtBottom&&r>=l?(this._isFixed=!0,this._stuckAt=o,this._stuckAtBottom=!1,this.ui("accordion").css({marginTop:e(".models-table").height()}),e(".models-table").css({position:"fixed",top:-c+n,width:this.ui("accordion").width()}),t.innerWidth<this._mobileBreakpoint&&(e(".models-table").css({width:"100%",overflow:"hidden"}),this._totalPopulated>1&&(e(".models-table > div").width(e(".models-table table").width()+20),e(".models-table").animate({scrollLeft:e(".scroll-x")[0].scrollLeft},0)))):this._isFixed&&e(t).scrollTop()<=e(".Accordion").offset().top-a-n&&!this._stuckAtBottom?(e(".models-table").css({position:"static",width:"auto"}),this.ui("accordion").css({marginTop:0}),this._isFixed=!1,this._stuckAtBottom=!1,t.innerWidth<this._mobileBreakpoint&&(e(".models-table").css({overflow:"visible"}),e(".models-table > div").css({width:"auto"}))):l>r&&!this._stuckAtBottom&&this._isFixed&&(this._stuckAtBottom=!0,t.innerWidth<700?e(".models-table").css({position:"absolute",top:r-e(".scroll-x").offset().top-e(".models-table").height(),overflow:"visible"}):e(".models-table").css({position:"absolute",top:r-e(".models-table").height()-this.$element.offset().top}))}}.bind(this)),e(".ComparisonTable").on("click",".accordion-group-title",function(){}.bind(this)),this._setupCloseButton()},_handleResize:function(){this._updateSizes(),this._setCarouselSize(this._sliders.vehicle),this._setCarouselSize(this._sliders.derivative),t.innerWidth<this._mobileBreakpoint?this._calculateMobileWidth():(this.ui("accordion").width("100%"),0!==this._accordionWidth&&e(".models-table, .models-table table, .models-table > div").width("100%"))},_calculateDataTableHeight:function(){var t=0;t+=e(".header-row").outerHeight(),e(".accordion-group").each(function(i,n){var o=e(n);if(t+=o.find(".accordion-group-title").outerHeight(),o.hasClass("open")){var s=o.find(".accordion-group-content");s.height(o.find("table").outerHeight()),t+=o.find(".accordion-group-content table").outerHeight()}}),e(".Accordion.data-container").height(t)},_openDataTable:function(){this.ui("dataContainer").hasClass("closed")&&this.ui("dataContainer").removeClass("closed").addClass("open")},_setupCloseButton:function(){e(".close-button").click(function(){this._openDataBlock(),this._setStep(4)}.bind(this))},_calculateMobileWidth:function(){if(t.innerWidth<this._mobileBreakpoint){var i,n,o,s,r=100;this._totalPopulated>1&&(r=75),i=e(".scroll-x").width(),n=i/100,o=Math.round(n*r),s=o*this._totalPopulated,e(".Accordion.data-container, .models-table table").width(s)}},_getTemplates:function(){var e=site.utils.template;this._templates={comparisonBlock:e("comparison_block_data"),comparisonBlockNoData:e("comparison_block_nodata"),engineSelect:e("engine_select"),vehicle:e("vehicle_template"),derivative:e("derivative_template"),product:e("product_template"),bodystyle:e("bodystyle_buttons"),link:e("cta_link"),stickyNav:e("stickynav_element")}},_setupSliders:function(){var e=this._slidesPerView;t.innerWidth<=601&&(e="landscape"===this._mode?2.6:1.6);var i={vehicles:!1,derivatives:!1};t.innerWidth<1025&&(i.vehicles=".vehicles-slider .swiper-scrollbar",i.derivatives=".derivatives-slider .swiper-scrollbar"),this._sliders.vehicle=new Swiper(".vehicles-slider",{slidesPerView:e,nextButton:".choose-vehicle .slide-controls .next",prevButton:".choose-vehicle .slide-controls .prev",roundLengths:!0,freeMode:!0,freeModeSticky:!0,freeModeMinimumVelocity:0,freeModeMomentumRatio:1,freeModeMomentumBounce:!1,scrollbar:i.vehicles,scrollbarHide:!1}),this._sliders.derivative=new Swiper(".derivatives-slider",{slidesPerView:e,nextButton:".choose-derivative .slide-controls .next",prevButton:".choose-derivative .slide-controls .prev",roundLengths:!0,freeMode:!0,freeModeSticky:!0,freeModeMinimumVelocity:0,freeModeMomentumRatio:1,freeModeMomentumBounce:!1,scrollbar:i.derivatives,scrollbarHide:!1}),setTimeout(function(){this._setCarouselSize(this._sliders.vehicle),this._setCarouselSize(this._sliders.derivative)}.bind(this),100)},_setCarouselSize:function(i){t.innerWidth<1025&&(t.innerWidth>t.innerHeight?this._mode="landscape":this._mode="portrait");var n=i,o=this._slidesPerView;t.innerWidth>1200?o=4.2:t.innerWidth<1200&&t.innerWidth>900?o=3.2:t.innerWidth<=900&&t.innerWidth>601?o=2.2:t.innerWidth<=601&&(o="landscape"===this._mode?2.6:1.6),this._slidesPerView=o;var s=0;if(n.slides&&(s=n.slides.length),s>0){var r=e(n.wrapper[0]).parent().parent().width()/o;if(0===r)return;var a=0;o>s?(e(n.wrapper[0]).css({width:r*s}),e(n.container[0]).css({width:r*s}),n.params.slidesPerView=s,e(n.container[0]).parent().addClass("no-arrows"),this._detached=!0,n.detachEvents(),this._resizeSlideDetailsWrapper(n),a=Math.round(r/16*9),e(n.slides).each(function(t,i){var n=e(i).find(".option-image");e(n).height(a)}),n.update()):(e(n.container[0]).parent().removeClass("no-arrows"),e(n.wrapper[0]).css({width:Math.round(r*s)}),e(n.container[0]).css({width:"auto"}),this._detached&&(this._detached=!1,n.attachEvents()),n.params.slidesPerView=o,this._resizeSlideDetailsWrapper(n),a=Math.round(r/16*9),e(n.slides).each(function(t,i){var n=e(i).find(".option-image");e(n).height(a)}),n.update())}},_resizeSlideDetailsWrapper:function(i){if(i){var n=0;e(i.slides).each(function(t,i){var o=e(i).find(".option-details");o.css("height","auto");var s=e(o).outerHeight();s>n&&(n=s)}),e(i.slides).each(function(t,i){var o=e(i).find(".option-details");o.css("height",n)});var o="";switch(this._step){case 1:o=".choose-vehicle";break;case 2:o=".choose-derivative";break;case 3:o=".choose-engine"}if(this._step<4){var s=40;t.innerWidth<700&&(s=100),e(".slider-container").height(e(o).outerHeight()+s)}}},_populateSlider:function(t,i){var n=this._templates[t],o=this._sliders[t],s=[];o.removeAllSlides(),i.forEach(function(e,t){s.push(n({data:e,id:t}))}.bind(this)),o.appendSlide(s),e(".choose-"+t).waitForImages(function(){this._imagesLoaded(t)}.bind(this))},_imagesLoaded:function(t){this._setCarouselSize(this._sliders[t]),setTimeout(function(){e(".slider-container").height(e(".choose-"+t).outerHeight())}.bind(this),50)},_resetSliders:function(){3===this._totalPopulated?e(".slider-container").height(0):e(".slider-container").height(e(".choose-vehicle").outerHeight()),0===this._totalPopulated&&(e(".slider-container").removeClass("transition"),e(".data-block").height(0),this._step1()),e(".slider-container .faded").removeClass("faded"),e(".slider-container .selected").removeClass("selected")},_getInitialData:function(){this._data=this.$element.data("json"),this._populateSlider("vehicle",this._data.models,this._templates.vehicle),this._populateComparisons()},_removePopulatedEmptyClass:function(e){e.removeClass("populated empty disabled")},_buildRow:function(){},_populateLinks:function(t){if(this._totalPopulated>0){for(var i=0,n="<tr>";i<this._comparisons.length;)null!==this._comparisons[i]?(n+='<td class="button-cell">',n+=this._templates.link({links:this._comparisons[i].links})):n+='<td class="button-cell empty">',n+="</td>",i++;n+="</tr>",e("table."+t).html(n)}},_populateImages:function(){var t="<tr>";this._totalPopulated>0&&e.each(this._comparisons,function(i,n){null!==n?(t+="<td>",n.tableData.images.length>0&&e.each(n.tableData.images,function(e,i){"undefined"!==i.image&&(t+='<div><img src="'+i.image+'"><p>'+i.text+"</p><p>"+i.value+"</p></div>")}),t+="</td>"):t+='<td class="empty"></td>'}),t+="</tr>",e("table.images").html(t)},_populateTable:function(t){var i=[[],[],[]];if(this._totalPopulated>0){var n="";e.each(this._comparisons,function(n,o){null!==o?e.each(o.tableData[t],function(o,s){"keyFeatures"===t?i[n].push({type:"feature",value:s}):("overview"!==t&&i[n].push({label:o,type:"title"}),e.each(s,function(e,t){i[n].push({label:e,type:"data",value:t})}))}):i[n].push(i[0].length)}.bind(this));for(var o=0;o<i[0].length;){n+=o>0&&"undefined"!=typeof i[0][o+1]&&"title"===i[0][o+1].type&&0!==o?'<tr class="preTitle">':"<tr>";for(var s=0;3>s;)0===o&&"object"!=typeof i[s][o]?n+='<td rowspan="'+i[s][o]+'" class="empty-cell"></td>':"undefined"!=typeof i[s][o]&&("title"===i[s][o].type?n+='<td class="title"><div>'+this._translations.headings[i[s][o].label]+"</div></td>":"data"===i[s][o].type?n+="<td><div><strong>"+this._translations[i[s][o].label]+"</strong><br/>"+i[s][o].value+"</div></td>":"feature"===i[s][o].type&&(n+='<td class="feature"><div>'+i[s][o].value+"</div></td>")),s++;n+="</tr>",o++}var r=e("table."+t);r.html(n),r.parent().parent().hasClass("open")&&r.parent().height(r.height()),this._totalPopulated>0}},_openDataBlock:function(){e(".Accordion").removeClass("closed"),e(".slider-container, .scroll-x").addClass("transition"),this.ui("accordion").Accordion("calculateNewHeight")},_closeDataBlock:function(){e(".slider-container, .scroll-x").removeClass("transition"),e(".data-block").addClass("has-transition").height(0),setTimeout(function(){e(".data-block").removeClass("has-transition")},510)},_populateComparisons:function(t){e(".data-container").attr("data-engines",this._enginesPopulated),this._comparisons.forEach(function(i,n){var o=e(this._comparisonEls.get(n));null!==i?(o.html(this._templates.comparisonBlock({data:i,id:n,changeEngine:this._translations.headings.changeEngine,selectEngine:this._translations.headings["selectEngine.txt"]})),this._removePopulatedEmptyClass(o),o.addClass("populated"),n<this._enginesPopulated&&o.addClass("not-populating"),e(o).find(".DropdownSelect").DropdownSelect()):(this._removePopulatedEmptyClass(o),o.html(this._templates.comparisonBlockNoData({})),this._enginesPopulated>0?n>this._enginesPopulated?o.addClass("empty disabled"):o.addClass("empty"):o.addClass("empty disabled")),this._calculateMobileWidth(),2===n&&(setTimeout(function(){this._populateTable("overview"),this._populateTable("keyFeatures"),this._populateTable("performanceAndWeights"),this._populateTable("towingOptions"),this._populateTable("dimensions"),this._populateLinks("links"),setTimeout(function(){e(".ComparisonTable").removeClass("hidden-td-0 hidden-td-1 hidden-td-2"),this._totalPopulated>0&&this._openDataBlock()}.bind(this),0)}.bind(this),0),t&&setTimeout(function(){e(".scroll-x").animate({scrollLeft:1e3},100)},600))}.bind(this))},_getMaxKeyFeatures:function(){this._maxKF=0;for(var e=0;e<this._comparisons.length;){if(null!==this._comparisons[e]){var t=this._comparisons[e].tableData.keyFeatures.length;t>this._maxKF&&(this._maxKF=t)}e++}for(var i=0;i<this._comparisons.length;){if(null!==this._comparisons[i]&&this._comparisons[i].data.bodyStyles[0].derivatives[0].keyFeatures.length<this._maxKF){for(var n=this._maxKF-this._comparisons[i].data.bodyStyles[0].derivatives[0].keyFeatures.length,o=this._comparisons[i].data.bodyStyles[0].derivatives[0].keyFeatures;0!==n;)o.push("&nbsp;"),n--;this._comparisons[i].tableData.keyFeatures=o}i++}},_getDerivatives:function(){return this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].derivatives},_bindDropdownEvents:function(){this.ui("chooseEngine").on("change",".DropdownSelect select",function(t){this._currentEngine=e(t.currentTarget).find("option:selected").index()-1,e(".slider-container .choose-vehicle, .slider-container .choose-engine, .slider-container .choose-derivative").removeClass("shown"),this._doAjax(),this._getNextToPopulate(),setTimeout(function(){this._resetSliders()}.bind(this),600),this._enginesPopulated++}.bind(this)),this.ui("modelsTable").on("change",".DropdownSelect select",function(t){var i=e(t.currentTarget).data("magic");this._comparisons[i].selectedEngine=e(t.currentTarget).find("option:selected").index()-1,this._comparisons[i].tableData=this._munge(this._comparisons[i].data,this._comparisons[i].selectedEngine,i),e(".ComparisonTable").addClass("hidden-td-"+i),setTimeout(function(){this._populateComparisons()}.bind(this),330)}.bind(this))},_setText:function(){var t="";switch(this._step){case 1:t=this._translations.headings["vehicleSelection.txt"];break;case 2:t=this._translations.headings["modelSelection.txt"]+" "+this._data.models[this._currentVehicle].modelName[0];break;case 3:t=this._translations.headings["chooseYourEngine.txt"];break;case 4:t=this._translations.headings["addUptoThreeModels.txt"]}e(".choose-vehicle-title").css({opacity:0}),setTimeout(function(){e(".choose-vehicle-title").html(t),e(".choose-vehicle-title").css({opacity:1})},600)},_bindVehicleSliderEvents:function(){e(".choose-vehicle").addClass("shown"),e(".vehicles-slider").on("click",".select-option",function(t){this._currentVehicle=e(t.currentTarget).data("id"),this._setStep(2),this._currentBodyStyle=0,this._populateSlider("derivative",this._getDerivatives()),this.ui("chooseVehicle").addClass("faded"),this._data.models[this._currentVehicle].bodyStyles.length>1?(e(".select-block").addClass("has-tabs"),e(".body-selector").show(),this._populateBodyStyles()):e(".body-selector").hide(),e(".slider-container .selected").removeClass("selected"),e(t.currentTarget).addClass("selected"),this.ui("chooseVehicle").addClass("no-arrows"),e(".choose-derivative").addClass("shown")}.bind(this))},_doAjax:function(){var i={model:this._data.models[this._currentVehicle].modelName[0],bodyStyle:this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].bodyStyleName[0],derivatives:this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].derivatives[this._currentDerivative].derivativeName[0],ajax:!0};e.ajax({url:"",data:i,method:"GET"}).success(function(i){var n,o=[];n=this._dev?e(i).find(".Compare").data("json"):e(i).filter(".Compare").data("json"),n.models[0].ctasJson.length>0&&(o=n.models[0].ctasJson),this._comparisons[this._currentlyPopulating]={tableData:this._munge(n.models[0],this._currentEngine,this._currentlyPopulating),links:o,data:n.models[0],selectedEngine:this._currentEngine},this._getMaxKeyFeatures(),0===this._totalPopulated&&e(".models-table, .Accordion.data-container").css("opacity",0),setTimeout(function(){this._getNextToPopulate(),this._populateComparisons(!0),setTimeout(function(){this._calculateMobileWidth(),1===this._totalPopulated&&e(".models-table, .Accordion.data-container").animate({opacity:1},300),e(".body-selector").hide(),e(".select-block").removeClass("has-tabs"),e(".close-button").hide(),this.ui("accordion").height(0);var i=30;t.innerWidth>this._mobileBreakpoint&&(i=60);var n=e(".choose-vehicle-title").offset().top-i;t.innerWidth>640&&site.utils.scrollTo(n),this._setStep(4)}.bind(this),0)}.bind(this),0)}.bind(this))},_bindDerivativeSliderEvents:function(){e(".derivatives-slider").on("click",".select-option",function(t){this._currentDerivative=e(t.currentTarget).data("id"),e(".derivatives-slider .selected").removeClass("selected"),e(t.currentTarget).addClass("selected"),this.ui("chooseDerivative").addClass("no-arrows faded"),e(".slider-container").height(this.ui("chooseEngine").outerHeight()),this.ui("chooseEngine").html(this._templates.engineSelect({derivative:this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].derivatives[this._currentDerivative],model:this._data.models[this._currentVehicle],bodyStyle:this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].bodyStyleName[0],changeEngine:this._translations.headings.changeEngine,
selectEngine:this._translations.headings["selectEngine.txt"]})),this.ui("chooseEngine").waitForImages(function(){e(".slider-container").height(this.ui("chooseEngine").outerHeight()),e(".choose-engine .DropdownSelect").DropdownSelect(),this.ui("chooseEngine").addClass("shown"),this._setStep(3)}.bind(this))}.bind(this))},_bindBodySelectorEvents:function(){this.ui("bodySelector").on("click","li",function(t){e(t.currentTarget).parent().find(".active").removeClass("active"),e(t.currentTarget).addClass("active"),this._currentBodyStyle=e(t.currentTarget).data("id"),e(".derivatives-slider").css({opacity:0}).addClass("fast-transition"),setTimeout(function(){this._populateSlider("derivative",this._getDerivatives()),setTimeout(function(){e(".derivatives-slider").css({opacity:1}),setTimeout(function(){e(".derivatives-slider").removeClass("fast-transition")},320)}.bind(this),50)}.bind(this),300)}.bind(this))},_bindRemoveButtonEvents:function(){this.ui("vehiclesRow").on("click",".remove",function(i){var n=e(i.currentTarget).data("id");this._totalPopulated===this._enginesPopulated&&this._enginesPopulated--,this._comparisons.splice(n,1),this._comparisons.push(null),this._getMaxKeyFeatures(),this._getNextToPopulate(),this._populateComparisons(),this._resetSliders(),t.innerWidth<=this._mobileBreakpoint&&(this._totalPopulated<2?e(".models-table > div").width("auto"):e(".models-table > div").width(e(".Accordion").width()+20))}.bind(this))},_bindMobileAddButtonEvents:function(){e(".mobile-add-button").click(this._startNewSelection.bind(this))},_startNewSelection:function(t){e(t.currentTarget).hasClass("disabled")||(this._setStep(1),this._step1(),e(".close-button").show(),this._closeDataBlock())},_bindAddNewEvents:function(){this.ui("vehiclesRow").on("click",".empty",this._startNewSelection.bind(this))},_bindBackToVehiclesEvents:function(){this.ui("backToVehicles").click(function(t){t.preventDefault(),e(".slider-container .selected").removeClass("selected"),e(".choose-derivative").css({transform:"translateY(0px)"}),this._currentVehicle=0,this._currentBodyStyle=0,this._currentDerivative=0,e(".slider-container").height(e(".choose-vehicle").outerHeight()),setTimeout(function(){this.ui("bodySelector").hide(),e(".select-block").removeClass("has-tabs")}.bind(this),500)}.bind(this))},_setupEvents:function(){this._bindDropdownEvents(),this._bindVehicleSliderEvents(),this._bindDerivativeSliderEvents(),this._bindBodySelectorEvents(),this._bindRemoveButtonEvents(),this._bindMobileAddButtonEvents(),this._bindAddNewEvents(),this._bindBackToVehiclesEvents()},_populateBodyStyles:function(){this.ui("bodySelector").html(this._templates.bodystyle({data:this._data.models[this._currentVehicle].bodyStyles})),e(this.ui("bodySelector").find("li").get(0)).addClass("active")},_getNextToPopulate:function(){this._totalPopulated=0;var t=!1;e.each(this._comparisons,function(e,i){null!==i||t?null!==i&&this._totalPopulated++:(this._currentlyPopulating=e,t=!0)}.bind(this)),e(".ComparisonTable").attr("data-total",this._totalPopulated)},_removeClassesFromSelectBlock:function(){e(".select-block").removeClass("choose-vehicle choose-derivative")}};jQuery.createComponent("Compare",n)}(jQuery,window,document),function(){var e={_defaults:{},uiSelectors:{example:".example"},_foo:"bar",_blue:"blar",init:function(){},publicMethod:function(){},_privateMethod:function(){},_destroy:function(){}};jQuery.createComponent("ComponentName",e)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{},_template:null,_toggleLinks:null,init:function(){this._template=this.$element.data("template"),this._toggleLinks=this.$element.data("toggle-links")&&site.utils.isMobileDevice(),-1!==this._template.indexOf("swiping")&&this.$element.ContentBlocksContainerSwiping(),this._initEnquire()},_initEnquire:function(){enquire.register("screen and (max-width: "+t.site.breakpoints.medium+"px)",{match:function(){this._toggleLinks&&this.$element.ToggleLinksSticky()}.bind(this),unmatch:function(){this._toggleLinks&&this.$element.ToggleLinksSticky("destroy")}.bind(this)})}};jQuery.createComponent("ContentBlocksContainer",i)}(jQuery,window,document),function(e,t){var i={_defaults:{trackInViewport:!0,trackWindowInnerHeight:!0},uiSelectors:{contentCards:".contentCards",contentCardsCarousel:".contentCardsCarousel",contentCardsInner:".contentCardsInner",gridItem:".contentCardsInner .gridEl",contentCardImage:".ContentCard .imageContainer",contentCardTextTop:".ContentCard .textContainerTop"},_$window:e(t),_carousel:null,_carouselResizeAdded:!1,_ctaEqualHeightsResizeAdded:!1,_carouselActiveIndex:0,_enteredViewport:!1,_carouselOrientationChangeBound:null,_carouselMovingTouchMoveBound:null,_carouselMaxTransition:500,_initialSlide:0,_timerSetInViewport:null,_timerMovingTouchStart:null,_lastTouches:{x:null,y:null},_growingScrollBarOn:!1,_growingScrollBar:null,_carouselProgressStored:0,init:function(){this._carouselOrientationChangeBound=this._carouselOrientationChange.bind(this),this._carouselMovingTouchMoveBound=this._carouselMovingTouchMove.bind(this),site.utils.isMobileDevice()&&this._initMobileSwipingTemplates()},_onEnterViewport:function(){!this._enteredViewport&&this._carousel&&(t.clearTimeout(this._timerSetInViewport),this.$element.offset().top-site.utils.getHeaderHeight()===0?t.setTimeout(function(){this.ui("contentCards").eq(0).waitForImages(this._setInViewport.bind(this,!0))}.bind(this),1500):this._timerSetInViewport=t.setTimeout(this._setInViewport.bind(this,!1),200))},_onExitViewport:function(){!this._enteredViewport&&this._carousel&&t.clearTimeout(this._timerSetInViewport)},_setInViewport:function(e){var t=e?"initial-load":"true";this.$element.attr("data-in-viewport",t),this._growingScrollBar&&this._growingScrollBar.setNormalWidth(),this._enteredViewport=!0},_setViewportTriggerPosition:function(){var e=this.ui("contentCardImage").offset().top,t=this.$element.offset().top,i=e+this.ui("contentCardImage").height(),n=t+this.$element.height(),o=i-t,s=n-e;this.options.trackadjust={top:o,bottom:s}},_initMobileSwipingTemplates:function(){enquire.register("screen and (orientation:portrait) and (max-width: "+t.site.breakpoints.small+"px)",{match:function(){this._growingScrollBarOn=!site.rtl}.bind(this),unmatch:function(){this._growingScrollBarOn=!1}.bind(this)}),this._initCarousel(this._initialSlide,!0),this._initCtaEqualHeights(),this._setViewportTriggerPosition(),this.ui("contentCards").waitForImages(this._setViewportTriggerPosition.bind(this))},_initCarousel:function(e,t){this.ui("contentCardsCarousel").addClass("swiper-container"),this.ui("contentCardsInner").addClass("swiper-wrapper"),this.ui("gridItem").addClass("swiper-slide"),this.ui("contentCardsCarousel").append('<div class="swiper-scrollbar"/>');var i=this._growingScrollBarOn?!1:".swiper-scrollbar";this._carousel=new Swiper(this.ui("contentCardsCarousel"),{differentSlideWidths:!0,freeMode:!site.rtl,freeModeSticky:!0,freeModeMinimumVelocity:0,freeModeMomentumRatio:1.5,freeModeMomentumBounce:!1,scrollbarDraggable:!1,scrollbar:i,scrollbarHide:!1,slidesPerView:"auto"}),this._growingScrollBarOn&&(this._growingScrollBar=new SwiperGrowingScrollbar({maxTransition:this._carouselMaxTransition,scrollBar:this.ui("contentCards").find(".swiper-scrollbar"),startHalfWidth:t,swiper:this._carousel})),this._carousel.on("onSlideChangeEnd",this._carouselSetActiveIndex.bind(this)),this._carousel.on("onSetTransition",this._carouselOnSetTransition.bind(this)),this._carousel.on("onSetTranslate",this._carouselOnSetTranslate.bind(this)),this._carousel.once("onTouchStart",this._onEnterViewport.bind(this)),this._carousel.on("onTransitionEnd",this._carouselSetSwiping.bind(this,"false")),this._carousel.on("onTouchMove",this._carouselTouchMove.bind(this)),this._carousel.on("onTransitionStart",this._carouselSetSwiping.bind(this,"true")),this._carousel.on("onTouchEnd",this._carouselTouchEnd.bind(this)),this._carousel.on("onTouchStart",this._carouselMovingTouchStart.bind(this)),this._$window.on("orientationchange",this._carouselOrientationChangeBound),this._carouselResize(),this._carouselResizeAdded||(this._$window.smartresize(this._carouselResize.bind(this)),this._carouselResizeAdded=!0),e&&this._carousel.slideTo(e,0)},_initCtaEqualHeights:function(){this.ui("contentCardTextTop").css("height","").equalHeights(),this._ctaEqualHeightsResizeAdded||(this._$window.smartresize(function(){t.setTimeout(this._initCtaEqualHeights.bind(this),1e3)}.bind(this)),this._ctaEqualHeightsResizeAdded=!0)},_carouselTouchMove:function(e,t){var i="undefined"!=typeof t.touches?t.touches[0].clientX:null,n="undefined"!=typeof t.touches?t.touches[0].clientY:null,o=Math.abs(i-this._lastTouches.x),s=Math.abs(n-this._lastTouches.y);this._lastTouches.x=this._lastTouches.x||i,this._lastTouches.y=this._lastTouches.y||n,this._lastTouches.x&&null!==i&&o>15&&15>s&&this._carouselSetSwiping("true")},_carouselTouchEnd:function(e){e.animating||(this._carouselSetSwiping("false"),this._lastTouches.x=null,this._lastTouches.y=null)},_carouselMovingTouchStart:function(i,n){if(this._lastTouches.x="undefined"!=typeof n.touches?n.touches[0].clientX:null,this._lastTouches.y="undefined"!=typeof n.touches?n.touches[0].clientY:null,i.animating){var o=e(n.target),s=o.parents(".swiper-slide"),r=s.index();s.length&&(n.preventDefault(),t.clearTimeout(this._timerMovingTouchStart),this._carousel.on("onTouchMove",this._carouselMovingTouchMoveBound),this._timerMovingTouchStart=t.setTimeout(function(){i.slideTo(r,i.params.speed,!1),this._carousel.off("onTouchMove",this._carouselMovingTouchMoveBound)}.bind(this),300))}},_carouselMovingTouchMove:function(){this._carousel.off("onTouchMove",this._carouselMovingTouchMoveBound),t.clearTimeout(this._timerMovingTouchStart)},_carouselOnSetTransition:function(e,t){var i=Math.abs(this._carouselProgressStored-e.progress),n=this._carouselMaxTransition*e.slides.length*i;t=Math.min(n,t),e.wrapper.transition(t),e.scrollbar.setTransition(t)},_carouselOnSetTranslate:function(e){this._carouselProgressStored=e.progress},_carouselSetSwiping:function(e){this.$element.attr("data-swiping",e)},_carouselResize:function(){this._carousel&&(this._positionCarouselScrollbar(),this._setViewportTriggerPosition())},_carouselOrientationChange:function(){if(this._carousel){var e=this._carouselActiveIndex,i=this.inViewport;this.ui("gridItem").not(":nth-child("+(e+1)+")").addClass("hidden"),this._destroyCarousel(),t.setTimeout(this._carouselOrientationChangeReset.bind(this,e,i),1e3)}},_carouselOrientationChangeReset:function(t,i){if(this.ui("gridItem").not(":nth-child("+(t+1)+")").removeClass("hidden"),this._initCarousel(t,!1),i){var n=this.$element.offset().top-site.utils.getHeaderHeight();site.utils.scrollTo(n,800,e.noop,"easeOutSine",!0)}},_carouselSetActiveIndex:function(e){this._carouselActiveIndex=e.activeIndex},_destroyCarousel:function(){this.ui("contentCards").removeClass("swiper-container"),this.ui("contentCardsInner").removeClass("swiper-wrapper"),this.ui("gridItem").removeClass("swiper-slide"),this._$window.off("orientationchange",this._carouselOrientationChangeBound),this._growingScrollBar&&(this._growingScrollBar.destroy(),this._growingScrollBar=null),this._carousel&&(this._carousel.destroy(!0,!0),this._carousel=null,this.ui("contentCards").find(".swiper-scrollbar").remove())},_positionCarouselScrollbar:function(){var e=this.ui("contentCards").find(".swiper-slide-active .imageContainer img"),t=this.ui("contentCards").find(".swiper-scrollbar");this.ui("contentCards").waitForImages(function(){t.css("top",e.height())})}};jQuery.createComponent("ContentBlocksContainerSwiping",i)}(jQuery,window,document),function(e,t,i){var n={uiSelectors:{hideCursor:"a, button, .rsNavItem, .rsNav, .carouselPagination"},_$cursor:null,_cursorHeight:0,_cursorWidth:0,_$window:e(t),_supportsCursorAnimateRotate:!1,init:function(){var t=this;site.utils.isMobileDevice()===!1&&(t.recalculatePositionHalf(),t._initCursorAnimateRotate(),t.$element.on("mousemove",e.proxy(t._cursorMouseMove,t)))},_checkSupport:function(){var e,t=i.createElement("x");return t.style.cssText="pointer-events:auto",t.style.cursor="none",e="auto"===t.style.pointerEvents&&"none"===t.style.cursor&&!site.utils.isIe11()},_initCursorAnimateRotate:function(){var t=this,i=this._checkSupport();this._supportsCursorAnimateRotate=i,i?(this.$element.addClass("CursorAnimateRotate"),t._$cursor=e('<div class="cursor"><div class="cursorIcon"></div></div>'),t.$element.append(t._$cursor),t._cursorHeight=t._$cursor.height(),t._cursorWidth=t._$cursor.width(),t._eventHandlers()):this.$element.addClass("CursorNoAnimateNoRotate")},_eventHandlers:function(){var t=this;t.$element.on("mouseenter",e.proxy(t._cursorShow,t)).on("mouseleave",e.proxy(t._cursorHide,t)),t.ui("hideCursor").on("mouseenter",e.proxy(t._cursorHide,t)).on("mouseleave",e.proxy(t._cursorShow,t))},_cursorMouseMove:function(e){var t=this,i=e.pageX-t._cursorWidth-5,n=e.pageY-t._$window.scrollTop()-86,o="translate("+i+","+n+");";e.pageX<=t._positionHalf?t.$element.removeClass("right").addClass("left"):t.$element.addClass("right").removeClass("left"),this._supportsCursorAnimateRotate&&t._$cursor.css({transform:o,"-webkit-transform":o,"-moz-transform":o,"-o-transform":o})},_cursorHide:function(){this._$cursor&&this._$cursor.removeClass("isVisible")},_cursorShow:function(){this._$cursor&&this._$cursor.addClass("isVisible")},recalculatePositionHalf:function(){this._pageWidth=e(t).width(),this._positionHalf=Math.ceil(this._pageWidth/2)},refreshSelectors:function(){var t=this;t.uiElements.hideCursor=e(t.uiSelectors.hideCursor,t.$element),t._eventHandlers()},_destroy:function(){}};jQuery.createComponent("CursorAnimateRotate",n)}(jQuery,window,document),function(e,t){"use strict";var i={uiSelectors:{},carousel:null,resizeTimeout:null,_players:[],_player:null,_pauseTimeout:null,loaded:!1,_swiperInit:function(t){1===t.slides.length&&e(".swiper-container .left, .swiper-container .right").hide()},_swiperSlideChange:function(){e(".video",this.$element).length>0&&(site.utils.isMobileDevice()||this._player.pauseVideo())},_swiperSetSlide:function(t){var i=t.activeIndex+1,n=t.slides.length;e(".numbers").html('<span class="number">'+i+'</span><span class="divide">/</span><span class="number">'+n+"</span>")},getSwiper:function(){return this.mySwiper},destroy:function(){},_setupPlayer:function(){var i=e(".youtube-player")[0];this._player=new t.YT.Player(i,{videoId:e(i).data("vid"),playerVars:{modestbranding:!0,showinfo:0,controls:!1},events:{onStateChange:function(t){0===t.data?(e(".cover-image").css({display:"block"}),e("iframe").css({display:"none"})):2===t.data&&site.utils.isMobileDevice()&&(e(".cover-image").css({display:"block"}),e("iframe").css({display:"none"}))}}})},init:function(){t.ytAPIloaded?this._setupPlayer():e.getScript("//www.youtube.com/iframe_api");var i=this;t.onYouTubeIframeAPIReady=function(){t.ytAPIloaded=!0,i._setupPlayer()},e(".swiper-slide iframe").hide(),e(".cover-image").show(),t.richsponsiveImage(),site.utils.isMobileDevice()?this.mySwiper=new t.Swiper(".swiper-container",{speed:200,nextButton:".swiper-container .right",prevButton:".swiper-container .left",onSlideChangeStart:function(e){i._swiperSlideChange(e)},onInit:function(e){i._swiperInit(e)}}):this.mySwiper=new t.Swiper(".swiper-container",{speed:1e3,nextButton:".swiper-container .right",prevButton:".swiper-container .left",onSlideChangeStart:function(e){i._swiperSlideChange(e)},onInit:function(e){i._swiperInit(e)}}),e(".cover-image, .cover-image .play").click(function(){var n=e(".swiper-slide iframe").height(),o=e(".swiper-slide iframe").width(),s=n/o;if(t.innerWidth>767)e(".swiper-slide iframe").css({height:750,width:750/s});else{var r,a=e(".swiper-slide").width()/16,l=e(".swiper-slide").height(),c=9*a;c>l?(c=l,r=0):r=l-9*a,e(".swiper-slide iframe").css({height:c,width:e(".swiper-container").width(),marginTop:r/2})}e(".cover-image").css({display:"none"}),e("iframe").css({display:"block"}),site.utils.isMobileDevice()||i._player.playVideo()})}};jQuery.createComponent("DefenderJourneyCarousel",i)}(jQuery,window,document),function(e,t,i){"use strict";var n={uiSelectors:{map:"#map",ajaxContainer:".ajax-container",ajaxContainerContent:".ajax-container .content",journeyContainer:".journey-container",filterBar:"#filter-bar",locateButton:"#map-controls .locate",zoomInButton:"#map-controls .plus",zoomOutButton:"#map-controls .minus",featuredButton:"#filter-bar .featured",modeSwitchButton:".mode-switch a",listView:"#list-view",terrainSelection:"#filter-bar .terrains",distanceSelection:"#filter-bar .distance",viewSelection:"#filter-bar .view",modelSelection:"#filter-bar .model",yearSelection:"#filter-bar .year",backToTopContainer:".back-to-top",backToTop:".back-to-top a",listContainer:"#list-view .list-container",listContainerNew:"#list-view .list-container.new",listContainerOld:"#list-view .list-container.old",mapDraggableButton:".control.drag"},currentMode:"map",summaryImages:["http://s28.postimg.org/ibt2mva25/DJ_placeholder_01.jpg","http://s28.postimg.org/o2j90li25/DJ_placeholder_02.jpg","http://s28.postimg.org/azs7v2h7x/DJ_placeholder_03.jpg","http://s28.postimg.org/zdlwoyox9/DJ_placeholder_04.jpg","http://s28.postimg.org/bqky0ujl9/DJ_placeholder_05.jpg","http://s28.postimg.org/eqx73n5il/DJ_placeholder_06.jpg","http://s28.postimg.org/qrn8i42b1/DJ_placeholder_07.jpg","http://s28.postimg.org/9aj4n01il/DJ_placeholder_08.jpg","http://s28.postimg.org/buerh3p2l/DJ_placeholder_09.jpg","http://s28.postimg.org/89ivxvkj1/DJ_placeholder_10.jpg","http://s28.postimg.org/qsx6bj44t/DJ_placeholder_11.jpg","http://s28.postimg.org/qu744y5yl/DJ_placeholder_12.jpg","http://s28.postimg.org/id7lu119p/DJ_placeholder_13.jpg","http://s28.postimg.org/ly3hd95t9/DJ_placeholder_14.jpg","http://s28.postimg.org/h0ui5vt7x/DJ_placeholder_15.jpg","http://s28.postimg.org/jw7lcqx7x/DJ_placeholder_16.jpg","http://s28.postimg.org/ytg2dragd/DJ_placeholder_17.jpg","http://s28.postimg.org/wde8zwsdp/DJ_placeholder_18.jpg","http://s28.postimg.org/q0z3q2pbh/DJ_placeholder_19.jpg","http://s28.postimg.org/dnm9j5zn1/DJ_placeholder_20.jpg","http://s28.postimg.org/vrpa3sxbh/DJ_placeholder_21.jpg","http://s28.postimg.org/nnh5z2awd/DJ_placeholder_22.jpg","http://s28.postimg.org/egyvbs5nx/DJ_placeholder_23.jpg","http://s28.postimg.org/w8ahq8l2l/DJ_placeholder_24.jpg"],markers:[],geolocation:null,clusterer:null,infoBox:null,infoBoxes:[],data:{map:[],list:[]},currentCarousel:null,apiURL:"http://defenderjourneys.landrover.dev.gotham.connect-group.com/api/journeys",mapStyles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#666666"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#f8f6f4"}]},{featureType:"road",elementType:"labels.icon",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#afaba4"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e6e6e6"}]},{featureType:"road.highway",elementType:"labels",stylers:[{saturation:"-100"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{color:"#afaba4"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{saturation:"77"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{saturation:"-100"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{lightness:-9},{color:"#c5d7de"}]}],filters:{map:{type:null,featured:"n",lngSW:null,latSW:null,lngNE:null,latNE:null,lang:"en",market:"us"},list:{type:null,featured:"n",lang:"en",market:"us",latNE:89.57010579397294,latSW:-89.90535101833973,lngNE:180.5,lngSW:-180.5,page:1}},maxZoom:1,translations:{"view-story":null,"view-moment":null,"back-to-map":null,"back-to-list":null,"api-url":null,"base-url":null,"there-are":null,journeys:null},mapDraggable:!0,checksums:[],hasAjaxed:!1,noResultsShown:!1,resultsTimeout:null,_setupZoom:function(){this.ui("zoomInButton").click(function(){null!==this.clusterer.getMaxZoom()&&this.clusterer.setMaxZoom(null),this.map.setZoom(this.map.zoom+1)}.bind(this)),this.ui("zoomOutButton").click(function(){null!==this.clusterer.getMaxZoom()&&this.clusterer.setMaxZoom(null),this.map.zoom-1>=this.maxZoom&&this.map.setZoom(this.map.zoom-1)}.bind(this))},_getLocationSuccess:function(i,n){var o=new google.maps.LatLng(i.coords.latitude,i.coords.longitude);this.map.panTo(o),new t.RichMarker({map:this.map,position:o,content:'<div class="richMarker created"><img src="/resources/public/images/DefenderJourneys/pin_green.png"></div>',flat:!0,zIndex:1e3}),e(n).removeClass("locating")},_getLocationError:function(t){e(t).removeClass("locating")},_doLocate:function(e){navigator.geolocation.getCurrentPosition(function(t){this._getLocationSuccess(t,e)}.bind(this),function(t){this._getLocationError(e,t)}.bind(this))},_setupLocateButton:function(){this.ui("locateButton").click(function(t){t.preventDefault(),e(t.target).addClass("locating"),this._doLocate(t.target)}.bind(this))},_setupClusterer:function(){this.clusterer=new t.MarkerClusterer(this.map,this.markers,{styles:[{width:36,height:36,anchor:[18,18],url:"/resources/public/images/DefenderJourneys/cluster-marker.png",textColor:"#ffffff"}],zoomOnClick:!1,ignoreHidden:!0}),google.maps.event.addListener(this.clusterer,"clusterclick",function(e){var t=this.map.getZoom();if(t>=14||t>=12&&site.utils.isBreakpointSmall()){this.clusterer.setMaxZoom(t-1),e.updateIcon_();var i=e.getMarkers();if(this._setupMarkerSpread(),i){for(var n=0,o=i.length;o>n;n++)this.oms.addMarker(i[n]),i[n].setOptions({map:this.map,visible:!0});this.map.panTo(e.getCenter()),this.oms.spiderListener(i[0])}}else this.map.fitBounds(e.getBounds())}.bind(this))},_setupMarkerSpread:function(){this.oms&&this.oms.clearMarkers(),this.oms=new OverlappingMarkerSpiderfier(this.map,{keepSpiderfied:!0,circleSpiralSwitchover:1/0,legWeight:0,nearbyDistance:80,markersWontMove:!0}),this.oms.circleFootSeparation=40,this.oms.addListener("unspiderfy",function(){this._closeInfoBox(),this.clusterer.setMaxZoom(null),this.clusterer.repaint()}.bind(this))},_markersInBounds:function(){var t=this.map.getBounds(),i=!1;return e.each(this.markers,function(e,n){t.contains(n.getPosition())&&(i=!0)}),i},_toggleNoResults:function(){0!==this.data.map.length||this._markersInBounds()?(e(".no-results").removeClass("visible"),e("#map-controls").removeClass("has-no-results"),this.noResultsShown=!1):(this.noResultsShown=!0,e(".no-results").addClass("visible"),e("#map-controls").addClass("has-no-results"),this._noResultsTimeout())},_noResultsTimeout:function(){clearTimeout(this.noResultsTimeout),this.noResultsTimeout=setTimeout(function(){this.noResultsShown&&(e(".no-results").removeClass("visible"),e("#map-controls").removeClass("has-no-results"),this.noResultsShown=!1)}.bind(this),2e3)},_renderMarkers:function(){this.checksums=[];var t=this;if(this._toggleNoResults(),0===this.markers.length)e.each(this.data.map,function(e,t){var i=this._renderMarker(e,t);this.clusterer.addMarker(i),this.markers.push(i)}.bind(this));else{var i=[];e.each(this.markers,function(e,t){i.push(t.data.id)}),e.each(this.data.map,function(e,n){if(-1===i.indexOf(n.id)){var o=t._renderMarker(e,n);this.markers.push(o),this.clusterer.addMarker(o)}}.bind(this))}},_waitForImages:function(t,i){var n=t.find("img"),o=n.length,s=0;0===o?i():e.each(n,function(t,n){e(n).load(function(){s++,s===o&&i()})})},_closeInfoBox:function(){"undefined"!=typeof this.infoBoxes[0]&&(e(this.infoBoxes[0].div_).addClass("closing"),setTimeout(function(){"undefined"!=typeof this.infoBoxes[0]&&(this.infoBoxes[0].close(),this.infoBoxes=[])}.bind(this),150))},_closeInfoBoxOnMove:function(){google.maps.event.addListenerOnce(this.map,"bounds_changed",function(){this._closeInfoBox()}.bind(this))},_openInfoBox:function(t,i){t.open(this.map,i),this.infoBoxes=[],this.infoBoxes.push(t),setTimeout(function(){this._closeInfoBoxOnMove()}.bind(this),250),setTimeout(function(){e(".map .journey-card .route-view").click(function(t){t.preventDefault(),e(t.target).addClass("loading"),e(t.target).html(this.translations.loading),this._ajaxContent(e(t.target))}.bind(this)),e(".map .journey-card .close").click(function(e){e.preventDefault(),e.stopPropagation(),this._closeInfoBox()}.bind(this))}.bind(this),0)},_bindMarkerEvents:function(i){i.addListener("click",site.utils.throttle(function(i){this._closeInfoBox(),this.map.panTo(i.getPosition()),t.innerWidth<=330?this.map.panBy(0,-125):this.map.panBy(0,-200),google.maps.event.addListenerOnce(this.map,"idle",function(){var t=this._createInfoBox(i.data);this._waitForImages(e(t.content_),function(){this._openInfoBox(t,i)}.bind(this))}.bind(this))}.bind(this,i),250,this))},_createInfoBox:function(e){var i=this._generateStoryCard(e),n="350px",o=new google.maps.Size(-175,-37),s=new google.maps.Size(10,10);return t.innerWidth<=500&&(n="300px",o=new google.maps.Size(-150,-37)),t.innerWidth<=330&&(n="200px",o=new google.maps.Size(-100,-37)),t.innerWidth>=330&&t.innerWidth<=375&&(s=!1),new this.infoBox({content:i,boxStyle:{backgroundColor:"transparent",width:n},alignBottom:!0,pixelOffset:o,infoBoxClearance:s})},_generateMarker:function(e){var i="pin_black.png";return e.data.curatedJourney&&(i="pin_white_star.png"),new t.RichMarker({map:this.map,position:e.position,data:e.data,content:'<div class="richMarker created"><img src="/resources/public/images/DefenderJourneys/'+i+'"></div>',anchor:e.anchor,flat:!0})},_renderMarker:function(e,t){var i,n=t.start.coordinates[0]+""+t.start.coordinates[1];i={lat:t.start.coordinates[0],lng:t.start.coordinates[1]},"number"==typeof this.checksums[n]?(this.checksums[n]++,this.checksums[n]):this.checksums[i.lat+""+i.lng]=0;var o={position:new google.maps.LatLng(i.lat,i.lng),data:t,anchor:new google.maps.Size(-19,-45)},s=this._generateMarker(o);return this._bindMarkerEvents(s),s},_scrollToMap:function(){var i=900;if(!this.scrolling){this.scrolling=!0;var n=0;n=t.innerWidth<=i?e(".DefenderJourneyMap").offset().top-e("#header").height():e(".DefenderJourneyMap").offset().top-40,e("body, html").animate({scrollTop:n},500,function(){this.scrolling=!1}.bind(this))}},_showMap:function(){e(".journey-container").removeClass("show-map"),e(".on-list").hide(),e(".on-map").show();var i=86;site.utils.isMobileDevice()&&(i=25),this.ui("journeyContainer").height(e(t).height()-i),setTimeout(function(){google.maps.event.trigger(this.map,"resize")}.bind(this),1e3),this.ui("backToTop").html(this.translations["back-to-map"]),this._scrollToMap()},_showList:function(){var t=this.ui("journeyContainer");t.height(e(".list-container").height()+235),t.addClass("show-map"),e(".on-list").show(),e(".on-map").hide(),this.ui("backToTop").html(this.translations["back-to-list"]),this._scrollToMap()},_setupModeSwitch:function(){this.ui("modeSwitchButton").click(function(t){t.preventDefault(),this.ui("modeSwitchButton").removeClass("active"),e(t.target).addClass("active"),e(t.target).hasClass("map")?(this.currentMode="map",this._showMap()):(this.currentMode="list",this._showList())}.bind(this))},_getTranslations:function(){this.translations={"view-story":e("#translations .view-story").html(),"view-moment":e("#translations .view-moment").html(),"back-to-map":e("#translations .back-to-map").html(),"back-to-list":e("#translations .back-to-list").html(),"api-url":e("#translations .api-url").html(),"base-url":e("#translations .base-url").html(),"no-journeys-line1":e("#translations .no-journeys-line1").html(),"no-journeys-line2":e("#translations .no-journeys-line2").html(),"there-are":e("#translations .there-are").html(),journeys:e("#translations .journeys").html(),loading:e("#translations .loading").html()},this.filters.map.market=e("#translations .base-market").html(),this.filters.map.lang=e("#translations .base-lang").html(),this.filters.list.market=e("#translations .base-market").html(),this.filters.list.lang=e("#translations .base-lang").html()},getTranslations:function(){return this.translations={"view-story":e("#translations .view-story").html(),"view-moment":e("#translations .view-moment").html(),"back-to-map":e("#translations .back-to-map").html(),"back-to-list":e("#translations .back-to-list").html(),"api-url":e("#translations .api-url").html(),"base-url":e("#translations .base-url").html(),"no-journeys-line1":e("#translations .no-journeys-line1").html(),"no-journeys-line2":e("#translations .no-journeys-line2").html(),"there-are":e("#translations .there-are").html(),journeys:e("#translations .journeys").html(),loading:e("#translations .loading").html()},this.filters.map.market=e("#translations .base-market").html(),this.filters.map.lang=e("#translations .base-lang").html(),this.filters.list.market=e("#translations .base-market").html(),this.filters.list.lang=e("#translations .base-lang").html(),{translations:this.translations,filters:this.filters}},_initAddThis:function(){t.addthis||e.getScript("//s7.addthis.com/js/250/addthis_widget.js")},_bindStickyNav:function(){this.ui("backToTop").html(this.translations["back-to-map"]),this.ui("backToTop").click(function(e){e.preventDefault(),this._scrollToMap()}.bind(this)),e(".LessButton",".SubNavigation").on("click tap",function(){var e=parseInt(this.ui("backToTopContainer").css("top"),10);this.ui("backToTopContainer").transition({top:e-40+"px",duration:400},"ease",function(){this.ui("backToTopContainer").css("top",e-40)}.bind(this))}.bind(this)),e(".MoreButton",".SubNavigation").on("click tap",function(){var e=parseInt(this.ui("backToTopContainer").css("top"),10);this.ui("backToTopContainer").transition({top:e+40+"px",duration:400},"ease",function(){this.ui("backToTopContainer").css("top",e+40)}.bind(this))}.bind(this)),e(t).on("scroll",function(){var i="#header.stickyNavigation";site.utils.isBreakpointMedium()&&(i="#header.withSubNavigation");var n=e(t).scrollTop()-(e("#filter-bar").offset().top-90),o=e(t).scrollTop()-(e("#map-view").offset().top+e("#map-view").height())+89,s=e(t).scrollTop()-(this.ui("listView").offset().top+.5*this.ui("listView").outerHeight());n>=0&&50>=n?e(i).css({top:-n}):0>n?e(i).css({top:0}):n>50&&e(i).css({top:-50}),e(".SubNavigation").length&&"none"===e(".SubNavigation").css("display")&&"fixed"===e("#header").css("position")?this.ui("backToTopContainer").css({top:50}):e(".SubNavigation").length&&"fixed"===e("#header").css("position")?this.ui("backToTopContainer").css({top:"none"===e(".LessButton",".SubNavigation").css("display")?40:80}):site.utils.isBreakpointSmall()||site.utils.isBreakpointMedium()?this.ui("backToTopContainer").css({top:50}):this.ui("backToTopContainer").css({top:0}),this.hasAjaxed&&(o>=0?this.ui("backToTopContainer").hasClass("shown")||this.ui("backToTopContainer").addClass("shown"):this.ui("backToTopContainer").hasClass("shown")&&this.ui("backToTopContainer").removeClass("shown")),site.utils.isBreakpointSmall()&&"list"===this.currentMode&&this.ui("listContainer").find(".journey-card").length>4&&(s>=0?this.ui("backToTopContainer").hasClass("shown")||this.ui("backToTopContainer").addClass("shown"):this.ui("backToTopContainer").hasClass("shown")&&this.ui("backToTopContainer").removeClass("shown"))}.bind(this))},_setupListView:function(){this._createListView(1,!0),e("#list-view").on("click","a",function(t){t.preventDefault(),e(t.target).data("originalText",e(t.target).html()),e(t.target).addClass("loading"),e(t.target).html(this.translations.loading),this._ajaxContent(e(t.target))}.bind(this))},_bindResizeEvents:function(){t.addEventListener("resize",function(){e(".ajax-container").height(e(".ajax-container .content").height()),site.utils.isBreakpointSmall()&&(e("#header").css("top",0),this.ui("backToTopContainer").css({top:50}))}.bind(this))},_mapDraggableOn:function(){this.mapDraggable=!0,this.map.setOptions({draggable:!0}),this.ui("mapDraggableButton").addClass("active")},_mapDraggableOff:function(){this.mapDraggable=!1,this.map.setOptions({
draggable:!1}),this.ui("mapDraggableButton").removeClass("active")},_zoomChanged:function(){this.map.getZoom()>20&&this.map.setZoom(20),20===this.map.getZoom()?this.clusterer.setGridSize(100):this.map.getZoom()>18?this.clusterer.setGridSize(60):this.map.getZoom()>12?this.clusterer.setGridSize(60):this.map.getZoom()>=4&&site.utils.isMobileDevice()?this.clusterer.setGridSize(40):this.clusterer.setGridSize(100)},_setupMap:function(){var i=this;t.loadRichMarker(),t.loadOverlappingMarkerSpiderfier(),this.infoBox=t.loadInfoBox(),this.map=this.ui("map").GoogleMap("getMapObject"),this.map.setOptions({styles:this.mapStyles}),this.map.setZoom(4),this.map.setCenter(new google.maps.LatLng(51.518829,-.107869)),this._setupClusterer(),this._setupFilterBar(),this._setupZoom(),this._setupListView(),site.utils.isMobileDevice()&&(this._mapDraggableOff(),this.ui("mapDraggableButton").show(),this.mapDraggable=!1,this.ui("mapDraggableButton").on("tap click",function(t){this.mapDraggable?(e(t.target).removeClass("draggable"),this._mapDraggableOff()):(e(t.target).addClass("draggable"),this._mapDraggableOn())}.bind(this))),this._setMapSize(),google.maps.event.addListenerOnce(this.map,"idle",function(){setTimeout(function(){google.maps.event.trigger(this.map,"resize"),this._changeBounds(),google.maps.event.addListener(this.map,"bounds_changed",site.utils.throttle(function(){i._changeBounds()},200,this)),google.maps.event.addListener(this.map,"zoom_changed",function(){this._zoomChanged()}.bind(this)),this.map.addListener("mousedown",function(){this.mapDraggable&&(this._scrollToMap(),site.utils.isMobileDevice()&&this._setMapSize())}.bind(this))}.bind(this),1e3)}.bind(this)),this._bindSameSizeCarouselEvents()},_bindSameSizeCarouselEvents:function(){var t=this;e(".SameSizeCarousel .linkContainer a").on("click",function(i){i.preventDefault(),t._ajaxContent(e(this))})},_openMobileMenu:function(t){e(t).data("open",!0),e("#filter-bar").animate({height:180},500,function(){e("#filter-bar").height("auto")})},_closeMobileMenu:function(t){e(t).data("open",!1),e("#filter-bar").animate({height:45},500)},_setMapSize:function(){if("map"===this.currentMode){var i=this.ui("journeyContainer").height(),n=e("#filter-bar").height(),o=e(".SubNavigation").height(),s=e("#header").height(),r=0;r=t.innerWidth<=900?n+s:n+o;var a=t.innerHeight-r;i!==a&&(this.ui("journeyContainer").height(t.innerHeight-r),setTimeout(function(){google.maps.event.trigger(this.map,"resize")},1e3))}else e(".journey-container").height(e(".list-container").height()+235)},init:function(){var i=this;e(".mob-only").on("tap click",function(){e(this).data("open")?(e(this).removeClass("open"),i._closeMobileMenu(this)):(e(this).addClass("open"),i._openMobileMenu(this))}),this._getTranslations(),this._bindResizeEvents(),this._bindStickyNav(),e(t).on("resize",function(){this._setMapSize()}.bind(this)),this.ui("map").on("api:ready",function(){this._setupMap(),this._initAddThis(),e(".HeroCarousel .primaryLinkWithStyle").click(function(e){e.preventDefault(),this._scrollToMap()}.bind(this)),4.4===site.utils.getAndroidVersion()&&e("#filter-bar").css({webkitBoxShadow:"none",boxShadow:"none"})}.bind(this))},_changeBounds:function(){var e=this.map.getBounds(),t=e.getSouthWest(),i=e.getNorthEast();this.filters.map.latSW=t.lat(),this.filters.map.lngSW=t.lng(),this.filters.map.latNE=i.lat(),this.filters.map.lngNE=i.lng(),this._getData("map").then(function(e){this.data.map=e.journeys,this._renderMarkers()}.bind(this))},_getData:function(t){return"map"===t&&this.map.getZoom()<=3&&(this.filters[t].latSW=-89.90535101833973,this.filters[t].lngSW=-180.5,this.filters[t].latNE=89.57010579397294,this.filters[t].lngNE=180.5),e.ajax({url:this.translations["api-url"],data:this.filters[t],type:"GET"})},getData:function(t){return e.ajax({url:this.translations["api-url"],data:this.filters[t],type:"GET"})},_featuredButtonMobileText:function(){this.ui("featuredButton").each(function(t,i){var n=e(i).html().split(" "),o=[];e(n).each(function(e,t){o.push("<span>"+t+"</span>")});var s=o.join(" ");e(i).html(s)})},_featuredButtonClick:function(){this.ui("featuredButton").click(function(t){t.preventDefault();var i=e(t.currentTarget),n=i.data("for");i.toggleClass("active"),i.hasClass("active")?this.filters[n].featured="y":this.filters[n].featured="n","map"===n?this._clearAllMarkers("map"):this._createListView(1,!1,!0)}.bind(this))},_setupFeaturedButton:function(){this._featuredButtonMobileText(),this._featuredButtonClick()},_openDropdown:function(t){e(t).addClass("open"),e(t).data("open",!0),e(t).find("ul").css({height:e(t).data("height"),opacity:1})},_closeDropdown:function(t){e(t).removeClass("open"),e(t).data("open",!1),e(t).find("ul").css({height:0,opacity:0})},_dropdown:function(t){var i=t.find(".chevron"),n=i.html(),o=t.data("attr"),s=t.data("for"),r=this;t.data("height",t.find("ul").height()),t.data("open",!1),t.find("ul").height(0),t.find(".chevron").click(function(e){e.preventDefault(),e.stopPropagation(),t.data("open")?r._closeDropdown(t):r._openDropdown(t)}),t.find("a").click(function(a){a.preventDefault(),a.stopPropagation(),r._closeDropdown(t),e(this).hasClass("active")?(e(this).removeClass("active"),i.html(n),"distance"===o?(r.filters[s].minDist=0,r.filters[s].maxDist=1e9):r.filters[s][o]=null):(t.find(".active").removeClass("active"),e(this).addClass("active"),i.html(e(this).html()),"distance"===o?(r.filters[s].minDist=e(this).data("min"),r.filters[s].maxDist=e(this).data("max")):r.filters[s][o]=e(this).data("value")),"map"===s?r._clearAllMarkers("map"):r._createListView(1,!1,!0)}),t.on("mouseleave",function(){r._closeDropdown(t)})},_clearAllMarkers:function(t){this._closeInfoBox(),this.clusterer.clearMarkers(),e.each(this.markers,function(e,t){google.maps.event.clearListeners(t,"click"),t.setMap(null)}.bind(this)),this.markers=[],this._getData(t).then(function(e){this.data.map=e.journeys,this._renderMarkers()}.bind(this))},_setupFilterBar:function(){this._dropdown(e(".terrains.on-map")),this._dropdown(e(".distance.on-map")),this._dropdown(e(".terrains.on-list")),this._dropdown(e(".distance.on-list")),e(".on-list").hide(),this._setupModeSwitch(),this._setupLocateButton(),this._setupFeaturedButton()},_generateStoryCard:function(t,i){"undefined"==typeof i&&(i=!1);var n,o=this.translations["base-url"]+t.id+".html";n=t.curatedJourney?"":"hidden";var s,r;t.defenderMoment?(s="/resources/public/images/DefenderJourneys/moment-separator.png",r=this.translations["view-moment"]):(s="/resources/public/images/DefenderJourneys/journey-separator.png",r=this.translations["view-story"]);var a='<div class="journey-card"><img src="/resources/public/images/DefenderJourneys/featured.svg" class="featured '+n+'"/>';i||(a+='<div class="close"></div>');var l;if("undefined"!=typeof t.images&&t.images.length>0){var c=t.images[0],u=1e4;e.each(t.images,function(e,t){1===t.sort&&t.width<u&&(u=t.width,c=t)}),l=c.url}else l=this.summaryImages[this.rando(0,23,0)];return a+='<div class="summary-image" style="background: url('+l+') no-repeat center center; background-size: cover;" data-background="'+l+'"></div><div class="details"><p class="title">'+t.journeyName+'</p><p class="author">'+t.userDisplayName+'</p><div class="separator"><img src="'+s+'"/></div><a href="'+o+'" class="route-view" data-title="'+t.journeyName+'">'+r+"</a></div></div>"},_listViewPagination:function(){var t="";return 0===this.data.list.journeys.length?(e(".pagination").hide(),t+='<li class="wide"><p>'+this.translations["no-journeys-line2"]+"</p></li>"):e(".pagination").show(),t},_createListView:function(t,i,n){e(".list-container").addClass("loading"),this.filters.list.page=t,this._getData("list").then(function(t){e(".journey-totals").html(this.translations["there-are"]+" "+t.journeyCount+" "+this.translations.journeys),this.data.list=t,(i||n)&&this._createPagination();var o=e('<div class="list-container new"><ul class="list"></ul></div>'),s=this._listViewPagination();e.each(this.data.list.journeys,function(e,t){s+="<li>"+this._generateStoryCard(t,!0)+"</li>"}.bind(this)),e(".list-container.loading").removeClass("loading"),e(o).find("ul").append(s),e("#list-view .pagination-container").before(o),this._waitForImages(e(".list-container.new"),function(){this._listViewTransition(i)}.bind(this))}.bind(this))},_listViewTransition:function(t){if(e(".list-container").each(function(){e(this).hasClass("new")||e(this).addClass("old")}),!site.utils.isBreakpointSmall()){var i=0;e(".list-container.new .journey-card").each(function(t,n){e(n).height()>i&&(i=e(n).height())}),e(".list-container.new .journey-card").height(i)}t||(e(".journey-container").height(e(".list-container.new").height()+235),this._scrollToMap()),e(".list-container.new").removeClass("new"),setTimeout(function(){e(".list-container.old").remove()},1e3)},_createPagination:function(){var t=6;this.pagination=e("#pagination").pagination({items:this.data.list.journeyCount,itemsOnPage:t,cssStyle:"light-theme",displayedPages:4,prevText:null,nextText:null,ellipsePageSet:!1,onPageClick:function(e,t){t.preventDefault(),this._createListView(e)}.bind(this)})},_setAjaxContainerHeight:function(){setTimeout(function(){this.ui("ajaxContainer").height(this.ui("ajaxContainerContent").height()),e("body, html").animate({scrollTop:e(".ajax-container").offset().top-86},1e3,"swing")}.bind(this),200)},_ajaxContent:function(i){this.hasAjaxed=!0,e.get(e(i).attr("href")+"?ajax=true").success(function(n){var o=e(n),s=o.filter(".SameSizeCarousel"),r=o.filter(":not(.SameSizeCarousel)");e(".SameSizeCarousel.defenderJourney").replaceWith(s),this.ui("ajaxContainerContent").html(r),e(".SameSizeCarousel.defenderJourney").SameSizeCarousel(),t.richsponsiveImage(),e(".DefenderJourneyShare").attr("addthis:url",t.location.origin+e(i).attr("href")),this._waitForImages(this.ui("ajaxContainerContent"),function(){e(i).removeClass("loading"),e(i).data("originalText")&&e(i).html(e(i).data("originalText")),e(".DefenderJourneyCarousel").DefenderJourneyCarousel(),e(".DefenderJourneyStoryMap").DefenderJourneyStoryMap({ajax:!0}),this.currentCarousel=e(".DefenderJourneyCarousel").DefenderJourneyCarousel("getSwiper"),e(".SameSizeCarousel").SameSizeCarousel(),this._bindSameSizeCarouselEvents(),t.addthis.toolbox(".DefenderJourneyShare"),this._setAjaxContainerHeight(),this._closeInfoBox()}.bind(this))}.bind(this)).error(function(e){console.log(e)})},rando:function(e,t,i){return 1*(Math.random()*(t-e)+e).toFixed(i)},_performanceMonitor:function(){if(t.location.href.indexOf("localhost")>-1||t.location.href.indexOf("davestest")>-1){var e=i.createElement("script");e.onload=function(){var e=new t.Stats;e.domElement.style.cssText="position:fixed;bottom:10px;left: 10px;z-index:10000",i.body.appendChild(e.domElement),t.requestAnimationFrame(function n(){e.update(),t.requestAnimationFrame(n)})},e.src="//rawgit.com/mrdoob/stats.js/master/build/stats.min.js",i.head.appendChild(e)}}};jQuery.createComponent("DefenderJourneyMap",n)}(jQuery,window,document),function(e,t){var i={uiSelectors:{exploreMore:".explore-more"},_defaults:{ajax:!1},init:function(){if(!this.options.ajax){setTimeout(function(){t.addthis||e(t).SocialSharing()},1e3);var i=e("#header"),n=this.ui("exploreMore"),o=e(t);o.on("scroll",function(){if(site.utils.isMobileDevice()&&t.innerWidth<site.breakpoints.medium)o.scrollTop()>this.$element.offset().top-i.height()?n.css({position:"fixed",top:i.height()}):n.css({position:"absolute",top:0});else if(0===o.scrollTop())n.css({position:"fixed",top:parseInt(i.css("top"),10)+i.height()});else{var e=i.height()-o.scrollTop();e>0?n.css({position:"fixed",top:e}):n.css({position:"fixed",top:0})}}.bind(this)),this.ui("exploreMore").show()}}};jQuery.createComponent("DefenderJourneyStoryDetail",i)}(jQuery,window,document),function(e,t){var i={uiSelectors:{map:".map"},map:!1,mapStyles:[{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#666666"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#f8f6f4"}]},{featureType:"road",elementType:"labels.icon",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#afaba4"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e6e6e6"}]},{featureType:"road.highway",elementType:"labels",stylers:[{saturation:"-100"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{color:"#afaba4"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{saturation:"77"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{saturation:"-100"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{lightness:-9},{color:"#c5d7de"}]}],maxZoom:1,routeBounds:null,markers:[],init:function(){"object"==typeof google&&"object"==typeof google.maps?this._setupMap():this.ui("map").on("api:ready",function(){this._setupMap()}.bind(this))},_setupMap:function(){t.loadRichMarker(),this._setupControls(),this.map=this.ui("map").GoogleMap("getMapObject"),this.map.setOptions({styles:this.mapStyles}),this.path=new google.maps.MVCArray,this.map.setCenter(new google.maps.LatLng(-45,-45)),this.map.setZoom(1),this.line=new google.maps.Polyline({path:this.path,map:this.map,strokeColor:"#ffffff",strokeWeight:5,strokeOpacity:1}),this.thickerLine=new google.maps.Polyline({path:this.path,map:this.map,strokeColor:"#005a2b",strokeWeight:3,strokeOpacity:1}),site.utils.isMobileDevice()&&this.map.setOptions({draggable:!1}),this._getRoute()},_setupControls:function(){e("#map-controls .plus").click(function(e){e.preventDefault(),this.map.setZoom(this.map.getZoom()+1)}.bind(this)),e("#map-controls .minus").click(function(e){e.preventDefault(),this.map.getZoom()-1>this.maxZoom&&this.map.setZoom(this.map.getZoom()-1)}.bind(this)),e("#map-controls .recenter").click(function(e){e.preventDefault(),this.map.fitBounds(this.routeBounds)}.bind(this))},_processLine:function(e){e.forEach(function(e){this.path.push(e)}.bind(this))},_drawMoment:function(e){this._addMarker(e),this.map.setCenter(e),this.map.setZoom(10)},_drawRoute:function(e){new google.maps.Polyline({path:this.path,map:this.map,strokeColor:"#ffffff",strokeWeight:5}),new google.maps.Polyline({path:this.path,map:this.map,strokeColor:"#005a2b",strokeWeight:3});for(var t=0;t<e.length;)this._processLine(google.maps.geometry.encoding.decodePath(e[t].poly)),t++;this._addMarker(this.path.getAt(0)),this._addMarker(this.path.getAt(this.path.getLength()-1)),this._fitToBounds()},_getRoute:function(){if(this.ui("map").data("latlng")){var e=this.ui("map").data("latlng"),t=new google.maps.LatLng(e[0],e[1]);this._drawMoment(t)}else if(this.ui("map").data("route")){var i=this.ui("map").data("route");this._drawRoute(i)}else console.log("no map data?")},_addMarker:function(e){var i="pin_black.png",n=new t.RichMarker({map:this.map,position:e,content:'<div class="richMarker created"><img src="/resources/public/images/DefenderJourneys/'+i+'"></div>',anchor:new google.maps.Size(-19,-45),flat:!0});return this.markers.push(n),n},_fitToBounds:function(){if(this.path.getLength()>1){var e=new google.maps.LatLngBounds;this.path.forEach(function(t){e.extend(t)}),this.routeBounds=e,this.map.fitBounds(e)}else this.map.setCenter(this.markers[0].position),this.map.setZoom(15)}};jQuery.createComponent("DefenderJourneyStoryMap",i)}(jQuery,window,document),function(e){var t={_defaults:{closeOnTapOutside:!1},_$toggleButton:null,_$dropdownList:null,_valueInTitle:!1,_height:0,init:function(){var t=this;this._$toggleButton=e("> span",this.$element),this._$dropdownList=e("ul",this.$element),"undefined"!=typeof this.$element.data("dropdownnav-close-on-tap-outside")&&this.$element.data("dropdownnav-close-on-tap-outside")===!0&&(this.options.closeOnTapOutside=!0),"undefined"!=typeof this.$element.data("dropdownnav-value-in-title")&&(this._valueInTitle=!0),"undefined"!=typeof this.$element.data("dropdownnav-stay-on-page")&&(this._stayOnPage=!0),t._height=t._$dropdownList.height();var i=!1;if(t.$element.hasClass("active")?(i=!0,t._$dropdownList.css({opacity:1,height:"auto","overflow-y":"hidden",display:"block"})):t._$dropdownList.css({opacity:0,height:0,"overflow-y":"hidden",display:"none"}),this._valueInTitle===!0){var n=e("li.active span",this._$dropdownList).html();""!==n&&e("span",this._$toggleButton).html(n)}this._stayOnPage===!0&&e("li a, li span",t._$dropdownList).on("click tap",function(i){i.preventDefault(),t.changeSelected(e(this).parent()),t.$element.trigger("selected",e(this).parent())}),t.$element.Dropdown({timeout:250,closeOnTapOutside:t.options.closeOnTapOutside,button:t._$toggleButton,buttonWithinMenu:!1,openByDefault:i,onOpen:function(){setTimeout(function(){if(!t.$element.hasClass("active")){t.$element.trigger("open").addClass("active animating");var i=e(t.$element).clone().css({position:"absolute",visibility:"hidden",height:"auto",width:t.$element.width()}).addClass("dropdownClone").appendTo(t.$element.parent());e("ul",i).css({opacity:1,height:"auto","overflow-y":"hidden"}),t._height=e(".dropdownClone ul").height(),e(".dropdownClone").remove(),t._$dropdownList.show().transition({opacity:1,height:t._height,duration:400,easing:"ease"},function(){t._$dropdownList.css({height:"auto"}),t.$element.removeClass("animating").trigger("opened")})}},50)},onClose:function(){t.$element.hasClass("active")&&(t.$element.hasClass("animating")||(t.$element.trigger("close").addClass("animating"),t._height=t._$dropdownList.height(),t._$dropdownList.css({height:t._height}).show().transition({duration:400,easing:"ease",height:0,opacity:0},function(){t.$element.removeClass("animating active"),t._$dropdownList.hide(),t.$element.trigger("closed")})))}}),t._addKeyboardNavigation()},open:function(){this._$toggleButton.trigger("open")},changeSelected:function(t){if(e("li.active",this._$dropdownList).removeClass("active"),t.addClass("active"),this._valueInTitle===!0){var i=e("li.active span",this._$dropdownList).html();""!==i&&e("span",this._$toggleButton).html(i)}this._$toggleButton.trigger("close")},_addKeyboardNavigation:function(){var t=this,i=t.$element,n=t._$toggleButton,o=e("ul",t.$element);t._$toggleButton.attr("tabindex","0"),n.keydown(function(e){var t=i.hasClass("active");if(t){if(40===e.keyCode)return o.find("li").not(":hidden").first().find("a").focus(),!1;13===e.keyCode&&n.trigger("close")}else if(40===e.keyCode||13===e.keyCode){n.trigger("open");var s=o.find("li.active > a");return s.focus(),!1}}),o.find("> li > a").keydown(function(t){return 40===t.keyCode?(e(this).parent("li").nextAll("li").not(":hidden").first().find("a").focus(),!1):38===t.keyCode?(e(this).parent("li").prevAll("li").not(":hidden").first().find("a").focus(),!1):void 0})},_destroy:function(){this.$element.removeAttr("style"),this.$element.off("open close","**"),e("ul a",this.$element).unbind("keydown").off("click tap"),e.removeData(this._$toggleButton),e.removeData(this.$element)}};jQuery.createComponent("DropdownNav",t)}(jQuery,window,document),function(e,t,i,n){var o={_defaults:{},_selectNode:null,_dropdownWrapperElement:null,_dropdownSelectedElement:null,_dropdownListElement:null,_hasFlag:!1,init:function(){var e=this;e._selectNode=e.$element,e._createComponentElements(),e._populateElementsData(),e._assignSelectEvents(),e._assignListItemEvents(),e._addKeyboardNavigation()},_createComponentElements:function(){var t=this,i=e.grep(t._selectNode.attr("class").split(" "),function(e){return 0===e.indexOf("DropdownSelectTheme")}).join(),n=e.grep(t._selectNode.attr("class").split(" "),function(e){return 0===e.indexOf("DropdownSelectDirection")}).join();t._selectNode.removeClass("DropdownSelect"),t._selectNode.removeClass(i),t._dropdownWrapperElement=t._selectNode.wrap("<div class='DropdownSelect "+i+" "+n+"'></div>").parent(),t._dropdownWrapperElement.append('<span class="selected" tabindex="0"><span>SELECTED</span></span>'),t._dropdownWrapperElement.append("<ul></ul>"),t._dropdownSelectedElement=e("span.selected",t._dropdownWrapperElement),t._dropdownListElement=e("ul",t._dropdownWrapperElement),site.utils.isIe11()&&t._selectNode.hasClass("DropdownSelectNoClickOffInIe11")||t._dropdownWrapperElement.append('<div class="clickOff"></div>'),t._selectNode.hasClass("flagSelect")&&(t._selectNode.removeClass("flagSelect"),t._dropdownWrapperElement.addClass("flagSelect"),t._hasFlag=!0)},_populateElementsData:function(){var t=this,i=e("option",t._selectNode);t._selectNode.attr("disabled")!==n?t._dropdownWrapperElement.addClass("disabled"):t._dropdownWrapperElement.removeClass("disabled");var o=e("option:selected",t._selectNode),s=o.attr("data-flag-img"),r=t._hasFlag&&"undefined"!=typeof s?'<div class="flag '+s+'"></div><span class="hasFlag">'+o.first().text()+"</span>":"<span>"+o.first().text()+"</span>";t._dropdownSelectedElement.html(r),t._dropdownSelectedElement.attr("data-val",o.first().val()),t._dropdownListElement.children().remove();for(var a=0;a<i.length;a++){var l=e(i[a]),c=l.val(),u=l.text(),d=l.attr("disabled"),h=l.attr("data-flag-img");if("undefined"==typeof d){var p=t._hasFlag?'<li data-val="'+c+'" tabindex="0"><span class="hasFlag">'+u+'</span><div class="flag '+h+'"></div></li>':'<li data-val="'+c+'" tabindex="0"><span>'+u+"</span></li>";t._dropdownListElement.append(p)}}},_assignSelectEvents:function(){var t=this;t._dropdownSelectedElement.on("click tap",function(){t._dropdownWrapperElement.hasClass("disabled")||(t._dropdownWrapperElement.hasClass("open")?(t._dropdownWrapperElement.removeClass("open"),t._dropdownSelectedElement.trigger("blur")):(t._dropdownWrapperElement.addClass("open"),t._dropdownListElement.scrollTop(0)))}),t._selectNode.on("update",function(){t._populateElementsData(),t._assignListItemEvents()}),t._selectNode.on("change",function(){t._processSelectEvent()}),e(".clickOff",t._dropdownWrapperElement).on("click tap",function(){t._dropdownWrapperElement.removeClass("open")}),t._dropdownListElement.on("DOMMouseScroll mousewheel",function(t){var i=e(this),n=this.scrollTop,o=this.scrollHeight,s=i.height(),r=t.originalEvent.wheelDelta,a=r>0,l=function(){return t.stopPropagation(),t.preventDefault(),t.returnValue=!1,!1};return!a&&-r>o-s-n?(i.scrollTop(o),l()):a&&r>n?(i.scrollTop(0),l()):void 0})},_assignListItemEvents:function(){var t=this;e("li",t._dropdownListElement).off("click tap").on("click tap",function(){var i=e(this).attr("data-val");t._selectNode.val(i).change()})},_addKeyboardNavigation:function(){var t=this,i=t._dropdownWrapperElement,n=t._dropdownSelectedElement,o=t._dropdownListElement,s=t._selectNode;n.keydown(function(t){var r=o.find("li"),a=s.val();a=a?a.toString():a;var l=r.filter(function(){return e(this).data("val").toString()===a}),c=i.hasClass("open");if(40===t.keyCode){if(c)r.first().focus();else{var u=null;if(u=l.length>0?l.next("li"):r.first(),u.length>0){var d=u.data("val");s.val(d).change(),n.html("<span>"+e("option:selected",s).text()+"</span>")}}return!1}if(38===t.keyCode){if(c===!1){var h=null;if(l.length>0&&(h=l.prev("li"),h.length>0)){var p=h.data("val");s.val(p).change(),n.html("<span>"+e("option:selected",s).text()+"</span>")}}return!1}13===t.keyCode&&(i.toggleClass("open"),l.focus())}),e(o).on("keydown","li",function(i){if(40===i.keyCode)return e(this).next("li").focus(),!1;if(38===i.keyCode)return e(this).prev("li").focus(),!1;if(13===i.keyCode){var n=e(this).data("val");s.val(n).change(),t._processSelectEvent()}})},_processSelectEvent:function(){var t=this,i=e("option:selected",t._selectNode),n=i.attr("data-flag-img"),o=t._hasFlag&&"undefined"!=typeof n?'<div class="flag '+n+'"></div><span class="hasFlag">'+i.first().text()+"</span>":"<span>"+i.first().text()+"</span>";t._dropdownSelectedElement.html(o),t._dropdownSelectedElement.attr("data-val",i.val()),t._dropdownWrapperElement.removeClass("open")}};jQuery.createComponent("DropdownSelect",o)}(jQuery,window,document),function(e,t){var i={_defaults:{},_slider:null,_mode:null,_dragging:!1,_slidePosition:!1,_windowWidth:0,_windowHeight:0,_previousSlideHeight:0,_direction:"slideFromRight",_breakpointTabletLandscape:1024,_breakpointTabletLandscapeActive:!1,init_rtl:function(){this._direction="slideFromLeft"},init:function(){e(".royalSlider > div",this.element).length>1?this._initSlider():(this.$element.addClass("singleSlide"),e(".royalSlider",this.element).wrapInner('<div class="overflow"><div class="rsContainer"><div class="rsSlide"></div></div></div>'),e(".carouselNavigation",this.element).remove(),t.richsponsiveImage()),e(".TargetLinks",this.$element).each(function(){var t=e(this);"video"===t.attr("data-type")&&e(this).append('<div class="playButton"></div>')});var i=e(".carouselNavigation > div a.prev",this.element);i.on("click.dfc tap",{that:this},this._onPrev);var n=e(".carouselNavigation > div a.next",this.element);n.on("click.dfc tap",{that:this},this._onNext),this._initEnquire(),e(t).on("resize",{that:this},this._onResize),e(t).trigger("resize"),e(this.element).css({visibility:"visible",display:"block"})},_initSlider:function(){var i=this,n=0;"slideFromLeft"===i._direction&&(n=e(".royalSlider > div",i.$element).length-1);var o=e(".royalSlider",this.$element).royalSlider({arrowsNav:!1,controlNavigation:"none",loop:!0,startSlideId:n,keyboardNavEnabled:!1,navigateByClick:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,thumbsFitInViewport:!1,numImagesToPreload:100,slidesSpacing:0}),s=this._slider=o.data("royalSlider");e(".rsOverflow",o).width("100%"),setTimeout(function(){t.richsponsiveImage()},50),setTimeout(function(){t.richsponsiveImage()},500),s.ev.on("rsBeforeAnimStart",{that:this},this._updatePagination),s.ev.on("rsDragStart",{that:this},this._onDragStart),s.ev.on("rsDragRelease",{that:this},this._onDragStop),s.ev.on("rsAfterSlideChange",function(){t.richsponsiveImage(),i._onResize(),i._updateSlideContent()}),this._updatePagination(),this._addKeyboardNavigation()},_onDragStart:function(t){var i=t?t.data.that:this;i._slidePosition=e(".rsContainer",i.$element).position().left},_onDragStop:function(t){var i=t?t.data.that:this,n=i._slidePosition,o=e(".rsContainer",i.$element).position().left;n===o?i._dragging=!1:i._dragging=!0},getDragging:function(){return this._dragging},_initEnquire:function(){var e=this;enquire.register("screen and (min-width: "+t.site.breakpoints.medium+"px)",{match:function(){e._convert("large")}}),enquire.register("screen and (min-width: "+(site.breakpoints.medium+1)+"px) and (max-width: "+this._breakpointTabletLandscape+"px)",{match:function(){e._breakpointTabletLandscapeActive=!0},unmatch:function(){e._breakpointTabletLandscapeActive=!1}}),enquire.register("screen and (min-width: "+(t.site.breakpoints.small+1)+"px) and (max-width: "+(t.site.breakpoints.medium-1)+"px)",{match:function(){e._convert("medium")}}),enquire.register("screen and (max-width: "+t.site.breakpoints.small+"px)",{match:function(){e._convert("small")}})},_convert:function(t){this._mode=t;var i=e(".carouselNavigation",this.element),n=e(".royalSlider",this.element),o=e(".rsSlide .left",n),s=e(".rsSlide .right",n),r=e(".left > div > div > div",n);"large"===t&&(i.removeAttr("style"),o.removeAttr("style"),r.removeAttr("style"),e(".top",s).removeAttr("style"))},_onResize:function(i){function n(){p.each(function(){var t=e(this).height();t>_&&(_=t)})}var o=i?i.data.that:this,s=e(t).width(),r=e(t).height();if(s!==o._windowWidth||r!==o._windowHeight||"large"!==o._mode){o._windowWidth=s,o._windowHeight=r;var a,l=e(".carouselNavigation",o.element),c=l.height(),u=e(".royalSlider",o.element),d=e(".left",u),h=e(".right",u),p=e("> div > div > div",d),f=e("> .title",h),m=o._mode,g=.5625,_=0;if("medium"===m||"small"===m){var v=s*g;e(".top",u).height(v);var y=v;if("small"===o._mode)y+=f.outerHeight(),p.removeAttr("style"),e(".heading",h).equalHeights();else{var b=500,w=e("html").width(),x=2*parseInt(d.css("padding-left"),10),T=(w-x-b)/2;p.css("padding","0 "+T+"px")}n();var C=o.$element.hasClass("singleSlide");_+=C?"small"===o._mode?60:135:"small"===o._mode?30:95,l.css("top",y),a=y+c+_}else{n(),_+=264;var S=r-site.utils.getHeaderHeight(0),k=s/1.45;S=k>S?S:k,o._breakpointTabletLandscapeActive&&(_-=35),a=d.height();var $=s/r;$>2.3?(e(".bottomLeft",u).hide(),e(".bottomRight",u).hide(),e(".triple .top",u).css("height","100%")):(e(".bottomLeft",u).show(),e(".bottomRight",u).show(),e(".triple .top",u).removeAttr("style")),s>1&&(a=_>S?_:S)}e(".rsOverflow",u).height(a),u.height(a),o._slider||e(".overflow",u).height(a),o._previousSlideHeight=a}},_onPrev:function(e){e.preventDefault();var t=e.data.that;t._slider.prev(),t._updateSlideContent()},_onNext:function(e){e.preventDefault();var t=e.data.that;t._slider.next(),t._updateSlideContent()},_updatePagination:function(t){var i=t?t.data.that:this,n=i._slider,o=n.currSlideId+1;"slideFromLeft"===i._direction&&(o=n.numSlides-o+1),e(".numbers",i.$element).html('<span class="number">'+o+'</span><span class="divide">/</span><span class="number">'+n.numSlides+"</span>"),e(".TargetLinks",i.$element).TargetLinks("setupListener")},_addKeyboardNavigation:function(){var t=this,i=t._slider,n=e(".royalSlider",t.$element),o=e(".carouselNavigation",t.$element);n.attr("tabindex","0"),n.keydown(function(e){39===e.keyCode?(i.next(),n.focus(),t._updateSlideContent()):37===e.keyCode&&(i.prev(),n.focus(),t._updateSlideContent())}),o.find("a").keydown(function(t){39===t.keyCode?e(this).nextAll("a").first().focus():37===t.keyCode&&e(this).prevAll("a").first().focus()}),t._updateSlideContent()},_updateSlideContent:function(){var t=this,i=t._slider,n=(e(".royalSlider",t.$element),e(".rsSlide > div",t.$element)),o=i.currSlide.content;e("a",n).attr("tabindex","-1"),e("a",o).attr("tabindex",""),e(".ResponsiveLink").ResponsiveLink(),e(".headingLinear",o).Headings("linearLines"),"large"===this._mode&&this._convert(this._mode)}};jQuery.createComponent("DualFrameCarousel",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},events:{"blur .textfield":"_validateField","submit .eu_emissions_form":"_validateForm","click tap .openAll":"_toggleAll"},uiSelectors:{api:".api-container",emissionsForm:".eu_emissions_form",mainErrorMessage:".main-error-message",errorFields:".error-message",resultsContainer:".results",noResultsContainer:".no-results",specComponent:".EmissionsSpecifications",specTableTemplate:".spec_table_template",specDetails:".specDetails",specAccordion:".specDetails ul",openAll:".openAll",overlay:".more-info-overlay",continueButton:".continueButton",searchAgain:".searchAgainButton",labels:".eu_emissions_form label"},_local:!0,_results:!0,_map:{family:["test_date_label","pems_test_family","ta_code","manufacturer_code","emission_type_approval_no","remarks"],technical_criteria:["test_date_label","propulsion_type","fuel_type","combustion_process","number_of_cylinder","configuration_of_cylinder_block","max_engine_volume","method_of_fuel_injection","cooling_system","aspiration_charger_type_number","exhaust_aftertreatment_type_sequence","egr-type"],results:{em1_heading:["test_date_label","em1-mw-nox-d","em1-mw-co-d","em1-mw-pn-d","em1-mw-nox-d-u","em1-mw-co-d-u","em1-mw-pn-d-u"],em2_heading:["test_date_label","em2-mw-nox-d","em2-mw-co-d","em2-mpn-d-t","em2-mw-nox-d-u","em2-mw-co-d-u","em2-mw-pn-d-u"]},test_criteria:["test_date_label","each_combination_of_fuels","highest_lowest_power_to_mass_ratio","each_transmission_type","awd_if_included","each_engine_volume","each_type_and_sequence_of_after_treatment","number_n_of_vehicle_emission_types"],"50percent":["test_date_label","to_be_driven_by_tech_service"],justification:["test_date_label","fuel","pmrh","pmrl","transm","xwd","eng_vol","exhaust_aftertreatment","no_of_et","no_of_tests","ts_test_share","deviation_of_max_engine_volume"]},_webServiceUrl:"https://jlr-caed-test.appspot.com/caed/api/v1",_fieldLabels:null,_validations:null,_validationMessages:null,_errors:null,_allOpen:!1,_animatingAll:!1,_requestTimeout:!1,_isComplete:!1,_replacements:{date_of_test:"test_date_label","Mw,NOx,d":"mw-nox-d",
"Mw,NOx,d,U":"mw-nox-d-u","Mw,CO,d,U":"mw-co-d-u","Mw,PN,d,U":"mw-pn-d-u","Mw,PN,d":"mw-pn-d","Mw,CO,d":"mw-co-d","MPN,d,t":"mpn-d-t",Xwd:"xwd",N_number_of_et:"no_of_et",Fuel:"fuel",Xwd_engine_volume:"eng_vol",NT_Number_of_tests:"no_of_tests",awd:"awd_if_included","50%_tests_to_be_driven_by_tech_service":"to_be_driven_by_tech_service","highest_lowest_power_to_mass_ratio_kW/t":"highest_lowest_power_to_mass_ratio",each_type_sequence_of_aftertreatment:"each_type_and_sequence_of_after_treatment",transmission:"transm",deviation_of_maximum_engine_volume:"deviation_of_max_engine_volume",exhaust_aftertreatment_type_sequence:"exhaust_aftertreatment"},init:function(){if(this._getFormMetaData(),this._updateOpenAllText(),this._translate(),this._matchLabelHeights(),e(".EUEmissions").on("click tap",".specDetails li > a",function(t){t.preventDefault(),this._toggleHeader(e(t.currentTarget).parent())}.bind(this)),this.ui("searchAgain").on("click",function(e){e.preventDefault(),site.utils.scrollTo(this.$element)}.bind(this)),navigator.userAgent.toLowerCase().indexOf("android")>-1){var i=e('input[type="text"]',this.$element);i.on("keydown",function(t){this.value.length>=t.currentTarget.maxLength&&e(this).val(e(this).val().substr(0,t.currentTarget.maxLength))})}e(t).smartresize(function(){this._matchLabelHeights()}.bind(this))},_matchLabelHeights:function(){var t=0;this.ui("labels").each(function(i,n){var o=e(n).height();o>t&&(t=o)}),this.ui("labels").each(function(i,n){var o=e(n).height();t>o?e(n).css({marginTop:t-o}):e(n).css({marginTop:0})})},_changeMode:function(){this._local=!this._local;var e='<div class="n">local set to '+this._local+"</div>";this.$element.append(e)},_toggleResults:function(){this._results=!this._results;var e='<div class="n">results is '+this._results+"</div>";this.$element.append(e)},_translate:function(){this._translations=this.$element.data("translations");var t={".specs-results-header h1 span":"results_title_label",".specs-results-header p":"results_summary_label",".openAll .open":"open_all_label",".openAll .close":"close_all_label",".searchAgainButton":"search_again_label"};e.each(t,function(t,i){var n=this._translations[i];"INPUT"!==e(t)[0].tagName?e(t).html(n):e(t).val(n)}.bind(this))},_flattenAndParse:function(t){this._local||(t=[t]);var i=[];return e.each(t,function(t,n){var o={};e.each(n,function(t,i){if("string"==typeof i)"undefined"!=typeof this._replacements[t]?o[this._replacements[t]]=i:o[t]=i;else{var n;"evaluation_method_1"===t?n="em1":"evaluation_method_2"===t&&(n="em2"),e.each(i,function(e,t){o[n+"-"+this._replacements[e]]=t}.bind(this))}}.bind(this)),i.push(o)}.bind(this)),i},_getFormMetaData:function(){var t,i,n,o=this.ui("emissionsForm").find(":input").not("[type=submit]");this._fieldLabels={},this._validations={},this._validationMessages={},o.each(function(o,s){t=e(s).attr("name"),i=e("label[for="+t+"]",this.$element).text(),n=e(s).data(),this._fieldLabels[t]=i,this._validations[t]={required:n.required,format:n.format},this._validationMessages[t]={required:n.requiredMessage,format:n.formatMessage}}.bind(this))},_showLabel:function(t){var i=e(t.currentTarget),n=i.attr("name"),o=this.$element.find("label[for="+n+"]");i.val().length?o.addClass("visible"):o.removeClass("visible")},_validateField:function(t){var i=e(t.currentTarget).attr("name"),n=e(t.currentTarget).val(),o={name:i,value:n};this._hideResults(),this._errors?this._errors=this._errors.filter(function(e){return e.fieldName!==i}.bind(this)):this._errors=[],this._validate(o),this._errors.length?this._displayErrors():this._hideErrors(),this._showLabel(t),this._checkFormComplete()},_validateForm:function(e){e&&e.preventDefault(),this._hideResults();var t=this._getFormData();this._errors=[],t.forEach(function(e){this._validate(e)}.bind(this)),this._errors.length?this._displayErrors():this._getData(this._reformatFormData(t))},_continueDisabled:function(e){this.ui("continueButton").prop("disabled",e)},_checkFormComplete:function(){this._errors.length?this._continueDisabled(!0):(this.$element.find("input[type=text]").each(function(t,i){return e(i).val().length?void(this._isComplete=!0):(this._isComplete=!1,!1)}.bind(this)),this._isComplete?this._continueDisabled(!1):this._continueDisabled(!0))},_validate:function(e){if(this._validations[e.name].required&&(e.value||this._errors.push({fieldName:e.name,message:this._validationMessages[e.name].required})),e.value&&this._validations[e.name].format){var t=new RegExp(this._validations[e.name].format);t.test(e.value)||this._errors.push({fieldName:e.name,message:this._validationMessages[e.name].format})}},_displayErrors:function(){this._hideErrors(),this._errors.forEach(function(e){this.$element.find("[name="+e.fieldName+"]").addClass("error"),this.ui("errorFields").filter("[data-for="+e.fieldName+"]").text(e.message).addClass("visible")}.bind(this))},_hideErrors:function(){this.$element.find("input[type=text]").removeClass("error").removeClass("valid"),this.ui("errorFields").removeClass("visible")},_getFormData:function(){return this.ui("emissionsForm").serializeArray()},_reformatFormData:function(e){return e.reduce(function(e,t){return e[t.name]=t.value,e},{})},_getRow:function(e,t){return"test_date_label"===e?("undefined"==typeof t&&(t="12/13/14<sup>*</sup>"),"<th>"+t+"</th>"):"<td>"+t+"</td>"},_createTable:function(t){var i="";return"results"!==t?(i+="<table>",i+="<tr>",e.each(this._map[t],function(e,t){i+=this._getRow(t,this._translations[t])}.bind(this)),i+="</tr>",e.each(this._data,function(n,o){i+="<tr>",e.each(this._map[t],function(e,t){i+=this._getRow(t,o[t])}.bind(this)),i+="</tr>"}.bind(this)),i+="</table>"):e.each(this._map[t],function(t,n){i+="<h2>"+this._translations[t]+"</h2>",i+="<table>",i+="<tr>",e.each(n,function(e,t){i+=this._getRow(t,this._translations[t])}.bind(this)),i+="</tr>",e.each(this._data,function(t,o){i+="<tr>",e.each(n,function(e,t){i+=this._getRow(t,o[t])}.bind(this)),i+="</tr>"}.bind(this)),i+="</table>"}.bind(this)),i},_createAccordion:function(e){return'<li><a href="#">'+this._translations.headings[e+"_heading"]+'</a><div style="overflow-y: hidden; height: 0px;"><div class="EmissionsTable light">'+this._createTable(e)+"</div></div></li>"},_getData:function(t){if(t={type:"TYPE",variant:"VARIAN",version:"1234567",eu_type_approval_number:"e11*12/12*1234*12"},this._local){var i=[{date_of_test:"12/13/14",pems_test_family:"FAM1L",ta_code:"TA123",manufacturer_code:"LRA568",emission_type_approval_no:"99F",propulsion_type:"ICE",fuel_type:"Diesel",combustion_process:"4-stroke",number_of_cylinder:"4",configuration_of_cylinder_block:"in-line",max_engine_volume:"1995",method_of_fuel_injection:"DI",cooling_system:"water",aspiration_charger_type_number:"multiple_turbo",exhaust_aftertreatment_type_sequence:"NSC+DPF+SCR","egr-type":"EGR/ext/cooled/high",evaluation_method_1:{"Mw,NOx,d":"3","Mw,PN,d":"n.a. (*)","Mw,NOx,d,U":"4","Mw,CO,d,U":"12.5","Mw,PN,d,U":"n.a. (*)","Mw,CO,d":"10"},evaluation_method_2:{"Mw,NOx,d":"3.1","Mw,CO,d":"11","MPN,d,t":"n.a. (*)","Mw,NOx,d,U":"14","Mw,CO,d,U":"80","Mw,PN,d,U":"n.a. (*)"},each_combination_of_fuels:"Diesel","highest_lowest_power_to_mass_ratio_kW/t":"60",each_transmission_type:"Man.",awd:"RWD",each_engine_volume:"1995",each_type_sequence_of_aftertreatment:"NSC+DPF",number_n_of_vehicle_emission_types:"1","50%_tests_to_be_driven_by_tech_service":"covered",Fuel:"asd",pmrh:"qwe",pmrl:"zxc",transmission:"ert",Xwd_engine_volume:"rty",N_number_of_et:"tyu",NT_Number_of_tests:"2",ts_test_share:"100%",deviation_of_maximum_engine_volume:"-12%",remarks:"(*) PN test procedure not yet available"},{date_of_test:"12/13/15",pems_test_family:"FAM1L",ta_code:"TA123",manufacturer_code:"LRA568",emission_type_approval_no:"99F",propulsion_type:"ICE",fuel_type:"Diesel",combustion_process:"4-stroke",number_of_cylinder:"4",configuration_of_cylinder_block:"in-line",max_engine_volume:"1995",method_of_fuel_injection:"DI",cooling_system:"water",aspiration_charger_type_number:"multiple_turbo",exhaust_aftertreatment_type_sequence:"NSC+DPF+SCR","egr-type":"EGR/ext/cooled/high",evaluation_method_1:{"Mw,NOx,d":"3","Mw,PN,d":"n.a. (*)","Mw,NOx,d,U":"4","Mw,CO,d,U":"12.5","Mw,PN,d,U":"n.a. (*)","Mw,CO,d":"10"},evaluation_method_2:{"Mw,NOx,d":"3.1","Mw,CO,d":"11","MPN,d,t":"n.a. (*)","Mw,NOx,d,U":"14","Mw,CO,d,U":"80","Mw,PN,d,U":"n.a. (*)"},each_combination_of_fuels:"Diesel","highest_lowest_power_to_mass_ratio_kW/t":"60",each_transmission_type:"Man.",awd:"RWD",each_engine_volume:"1995",each_type_sequence_of_aftertreatment:"NSC+DPF",number_n_of_vehicle_emission_types:"1","50%_tests_to_be_driven_by_tech_service":"covered",Fuel:"dfh",pmrh:"pyp",pmrl:"llj",transmission:"lm6",Xwd_engine_volume:"l26",N_number_of_et:"llm",NT_Number_of_tests:"2",ts_test_share:"100%",deviation_of_maximum_engine_volume:"-12%",remarks:"(*) PN test procedure not yet available"}];this._data=this._flattenAndParse(i),this._displayResults()}else this._webServiceUrl="https://jlr-caed-test.appspot.com/caed/api/v1",e.ajax({url:this._webServiceUrl,dataType:"jsonp",data:t,jsonpCallback:"apiResponse",success:function(e){this._requestTimeout&&(clearTimeout(this._requestTimeout),this._requestTimeout=null),this._data=this._flattenAndParse(e),this._displayResults()}.bind(this),error:function(e,t,i){console.log(t+"; "+i)}.bind(this)}),this._requestTimeout=setTimeout(function(){this._errors=[{message:"Server error"}],this._displayErrors(),this._requestTimeout=null}.bind(this),2e3)},_displayResults:function(){if(this._data&&this._data.length&&this._results){var t="";e.each(this._map,function(e){t+=this._createAccordion(e)}.bind(this)),this.ui("specAccordion").empty(),this.ui("specAccordion").append(t),this.ui("specAccordion").find("> li > div").css({"overflow-y":"hidden",height:"0"}),this.ui("resultsContainer").show(),site.utils.scrollTo(e(".EmissionsSpecifications")),this.ui("specAccordion").find(".EmissionsTable > table:not(.nonResponsive)").ResponsiveTable()}else this.ui("noResultsContainer").show();this._allOpen=!1,this._updateOpenAllText()},_hideResults:function(){this.ui("resultsContainer").hide(),this.ui("noResultsContainer").hide()},_buildTemplate:function(){},_toggleHeader:function(i){if(!i.hasClass("animating"))if(e(t).width()<site.breakpoints.small&&this.ui("specAccordion").find("li.active").each(function(){e(this).index()!==i.index()&&e(this).find("a").trigger("click")}),i.hasClass("active"))i.addClass("animating"),e("> div",i).css({height:e("> div",i).outerHeight()}).transition({duration:400,height:0,easing:"ease"},function(){i.removeClass("active animating"),this.ui("specAccordion").find("li.active > a").length||(this._allOpen=!1,this._updateOpenAllText())}.bind(this));else{i.addClass("active animating");var n=(e("> div",i).clone().removeAttr("style").css({position:"absolute",visibility:"hidden",width:this.ui("specDetails").width()}).addClass("slideClone").appendTo(i),e(".slideClone").outerHeight());e(".slideClone").remove(),e("> div",i).transition({duration:400,height:n,easing:"ease"},function(){e("> div",i).css({height:"auto"}),i.removeClass("animating"),this.ui("specAccordion").find("li:not(.active) > a").length||(this._allOpen=!0,this._updateOpenAllText()),e(t).width()<site.breakpoints.small&&site.utils.scrollTo(i)}.bind(this))}},_toggleAll:function(e){e.preventDefault(),this._animatingAll||(this._animatingAll=!0,setTimeout(function(){this._animatingAll=!1}.bind(this),500),this._allOpen?(this._allOpen=!1,this.ui("specAccordion").find("li.active > a").trigger("click")):(this._allOpen=!0,this.ui("specAccordion").find("li:not(.active) > a").trigger("click")),this._updateOpenAllText())},_updateOpenAllText:function(){this._allOpen?(this.ui("openAll").find(".open").hide(),this.ui("openAll").find(".close").show()):(this.ui("openAll").find(".close").hide(),this.ui("openAll").find(".open").show())}};jQuery.createComponent("EUEmissions",i)}(jQuery,window,document),function(e){var t={init:function(){var e=this;e._masonryLayout(),e._handleTelephoneClicks(),e._listEventHandlers()},_masonryLayout:function(){var t=this,i=e(".list",t.$element);i.lrdxMasonry({animate:!1}),i.lrdxMasonry("refresh")},_handleTelephoneClicks:function(){var t=this;e(".cardData .tel a",t.$element).click(function(e){var t=site.utils.isBreakpointSmall()&&site.utils.isMobileDevice();t||e.preventDefault()})},_listEventHandlers:function(){var t=this;e(".infoCardLRECentre .mobileStateBtn",t.$element).on("click tap",function(t){t.preventDefault();var i=e(this).parents(".infoCardLRECentre"),n=i.find(".mobile");i.hasClass("openInfoCard")?n.slideUp(300,function(){i.removeClass("openInfoCard")}):n.slideDown(300,function(){i.addClass("openInfoCard")})})}};jQuery.createComponent("ExperienceCentres",t)}(jQuery,window,document),function(){var e={_defaults:{},init:function(){},_destroy:function(){}};jQuery.createComponent("ExperienceRegions",e)}(jQuery,window,document),function(e,t,i){var n={_startedLoading:!1,_imageSmoothing:!1,_startLoading:function(e){this._startedLoading||(this._isLoading=!0,this._startedLoading=!0,this.$element.find(".click-to-interact").addClass("gone"),setTimeout(function(){this.$element.find(".click-to-interact").remove(),this._loadImage()}.bind(this),1e3),this.$element.off(e))},init:function(){this.$element.on("tap click",this._startLoading.bind(this)),this.$element.hasClass("noCursor")&&this.$element.removeClass("noCursor"),this.imageSize=site.utils.isBreakpointSmall()?"mobile":"desktop",this.tabbedContainer=site.utils.insideTabbedContainer(this.$element),this.tabbedContainer&&!site.utils.isBreakpointSmall()&&e(this.canvas).css({marginBottom:this.tabbedContainer.find(".tab-navigation").height()}),this.images=this.$element.data("frames")[this.imageSize],this.cursor={loaded:!1,img:new Image,height:16,width:46},this.cursor.img.onload=function(){this.cursor.loaded=!0}.bind(this),this.cursor.img.src="/resources/public/images/exterior-360-arrows.png",this.width=0,this.height=0,this.breakpointSmall=!1,this.breakpointMedium=!1,this.breakpointLarge=!1,this.returned=!1,this.loaded=!1,this.rect=null,this.imageOffset={x:0,y:0},this.mouse={x:0,y:0,down:!1,lastMove:{x:0,y:0},click:{start:{x:0,y:0},end:{x:0,y:0}},moved:!1},this.totalDragged=0,this.changeTotal=0,this.cursorHidden=!0,this.currentImage=null,this.$element.attr("data-lastimage")?this.imageIndex=this.$element.attr("data-lastimage"):this.imageIndex=1,this.loadedImagesCount=0,this.headerBoxReturnTime=2,this.loadedImages=[],this.headerBox=this.$element.find(".headerBox"),this.headerBoxTimeout=null,this.cursorAlpha=1,this.lastMoveValue=0,this.mouseEntered=!1,this.isOnScreen=!1,this.startInteraction={x:null,y:null},this._events={start:null,stop:null,move:null,touch:!0},this._createCanvas(),this._bindMouseEvents(),this.breakpointSmall?this.loader=new Loader(this.ctx,this.canvas,this.canvas.xCenter,this.canvas.yCenter,35,"#fff",30,!1,"showArrows",1,this):this.loader=new Loader(this.ctx,this.canvas,this.canvas.xCenter,this.canvas.yCenter,44,"#fff",30,!1,"showArrows",1,this),this.$element.attr("data-lastimage")?this._preloadFirst(this.$element.attr("data-lastimage")):this._preloadFirst(),this.rID=null,this._checkOnScreen(),this.rID=requestAnimationFrame(this._draw.bind(this))},_drawCursor:function(){this.cursor.loaded&&!this.cursorHidden&&(this.mouseEntered&&this.cursorAlpha<1&&(this.cursorAlpha+=.2),!this.mouseEntered&&this.cursorAlpha>0&&(this.cursorAlpha-=.2),this.cursorAlpha>1?this.cursorAlpha=1:this.cursorAlpha<0&&(this.cursorHidden=!0,this.cursorAlpha=0),this.ctx.save(),this.ctx.globalAlpha=this.cursorAlpha,this.ctx.drawImage(this.cursor.img,this.mouse.x-this.rect.left-this.cursor.width/2,this.mouse.y-this.rect.top-this.cursor.height/2,this.cursor.width,this.cursor.height),this.ctx.restore())},_getCoordinate:function(e,t){return this._events.touch&&"x"===t?e.touches[0].clientX:this._events.touch&&"y"===t?e.touches[0].clientY:this._events.touch||"x"!==t?this._events.touch||"y"!==t?void 0:e.clientY:e.clientX},_drawTouchLine:function(){if(this.mouse.down){if(null!==this.startInteraction.x&&null!==this.startInteraction.y){var e=this.startInteraction.x-this.mouse.x,t=this.startInteraction.y-this.mouse.y,i=Math.atan2(t,e);return i*=180/Math.PI,this.ctx.fillText(i,this.mouse.x-this.rect.left,this.mouse.y-this.rect.top),this.ctx.save(),this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(this.startInteraction.x-this.rect.left,this.startInteraction.y-this.rect.top),this.ctx.lineTo(this.mouse.x-this.rect.left,this.mouse.y-this.rect.top),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore(),i>80&&100>i?!0:!1}return!1}},_bindMouseEvents:function(){this._getEvents(),t.addEventListener("resize",function(){this._setSize(),this.loader.resize()}.bind(this)),t.addEventListener("scroll",function(){this._checkOnScreen()}.bind(this)),this.canvas.addEventListener(this._events.stop,function(e){e.preventDefault(),this.mouse.down=!1,this.lastMoveValueY=0,this.startInteraction={x:null,y:null}}.bind(this)),this.canvas.addEventListener(this._events.start,function(e){this.mouse.x=this._getCoordinate(e,"x"),this.mouse.lastMove.x=this._getCoordinate(e,"x"),this.mouse.lastMove.y=this._getCoordinate(e,"y"),this.mouse.down=!0,this.startInteraction={x:this._getCoordinate(e,"x"),y:this._getCoordinate(e,"y")}}.bind(this)),this.canvas.addEventListener(this._events.move,function(e){this.mouse.x=this._getCoordinate(e,"x"),this.mouse.y=this._getCoordinate(e,"y")}.bind(this)),this.canvas.addEventListener("mouseleave",function(){this.mouseEntered=!1,this.mouse.down=!1}.bind(this)),this.canvas.addEventListener("mouseenter",function(){this.mouseEntered=!0}.bind(this))},_createCanvas:function(){this.$element.find("canvas")&&this.$element.find("canvas").remove(),this.canvas=i.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.ctx.mozImageSmoothingEnabled=this._imageSmoothing,this.ctx.webkitImageSmoothingEnabled=this._imageSmoothing,this.ctx.msImageSmoothingEnabled=this._imageSmoothing,this.ctx.imageSmoothingEnabled=this._imageSmoothing,this.$element.find(".canvas-container").prepend(this.canvas),this._setSize()},_preloadFirst:function(e){var t=1;e&&(t=e);var i=new Image;i.src=this.images[t],i.onload=function(){this.currentImage=i,this.loadedImages[t]=i}.bind(this)},_imageHasLoaded:function(){this.loadedImagesCount++,this._loadImage()},_loadImage:function(){if(this.loadedImagesCount<this.images.length){var e=this.loadedImagesCount;this.loadedImages[e]=new Image,this.loadedImages[e].onload=this._imageHasLoaded.bind(this),this.loadedImages[e].src=this.images[e]}else this.loaded=!0,this.loader.loaded()},_getEvents:function(){e("html").hasClass("touchCapability")?this._events={start:"touchstart",stop:"touchend",move:"touchmove",touch:!0}:this._events={start:"mousedown",stop:"mouseup",move:"mousemove",touch:!1}},_checkOnScreen:function(){this.top=e(t).scrollTop(),this.bottom=this.top+t.innerHeight,this.isOnScreen=this.center>this.top&&this.center<this.bottom},_setSize:function(){this.breakpointSmall=site.utils.isBreakpointSmall(),this.breakpointMedium=site.utils.isBreakpointMedium(),this.breakpointLarge=!site.utils.isBreakpointMedium()&&!site.utils.isBreakpointSmall(),this.width=e("body").innerWidth(),site.stickyNavigationEnabled?this.height=t.innerHeight-site.utils.getStickyNavHeight(this.$element.offset().top):this.height=t.innerHeight-e("#header").height(),this.tabbedContainer&&(this.height-=70),this.imageOffset.y=0,this.imageOffset.x=0,this.calculatedWidth=e("body").innerWidth(),this.calculatedHeight=Math.round(this.calculatedWidth/16*9),this.breakpointSmall||this.breakpointMedium?(this.width=e("body").innerWidth(),this.height=this.width/16*9):this.height<this.calculatedHeight?this.imageOffset.y=Math.round((this.height-this.calculatedHeight)/2):this.calculatedHeight<this.height&&(this.calculatedHeight=this.height,this.calculatedWidth=Math.round(this.height/9*16),this.imageOffset.x=-Math.round((this.calculatedWidth-this.width)/2)),this.canvas.height=this.height,this.canvas.width=this.width,this.center=this.$element.offset().top+this.canvas.height/2,this.tabbedContainer&&(this.breakpointSmall?this.$element.height(this.height+50+this.headerBox.height()):this.$element.height(this.height+70)),this._centerHeaderBox()},_updatePointer:function(){var e=this.mouse.x-this.rect.left,t=this.mouse.y-this.rect.top;this.lastMoveValue=e-this.mouse.lastMove.x,this.lastMoveValueY=t-this.mouse.lastMove.y,this.mouse.down?(this.totalDragged+=e-this.mouse.lastMove.x,this.changeTotal+=e-this.mouse.lastMove.x):(this.changeTotal=0,this.totalDragged=0),this.mouse.lastMove.x=e,this.mouse.lastMove.y=t},_drawCanvasImage:function(){this.currentImage&&this.ctx.drawImage(this.currentImage,this.imageOffset.x,this.imageOffset.y,this.calculatedWidth,this.calculatedHeight)},_updateCurrentImage:function(){this.currentImage=this.loadedImages[this.imageIndex],this.$element.attr("data-lastimage",this.imageIndex)},_centerHeaderBox:function(){if(!this.breakpointSmall){this.headerBox.show(),this.headerBox.width("auto"),this.headerBox.height("auto"),this.headerBox.HeaderBox();var i=this.headerBox.height(),n=(this.canvas.height-i)/2;this.headerBox.css({top:n})}if(t.innerWidth>=1400||this.breakpointSmall||0===this.headerBox.length)this.canvas.xCenter=this.width/2,e(".text").css({left:0,right:0});else{var o=this.headerBox.offset().left+this.headerBox.width()-this.$element.offset().left;this.canvas.xCenter=o+(this.$element.width()-o)/2,e(".text").css({left:o,right:0})}this.canvas.yCenter=this.height/2},_resetHeaderBox:function(){this.headerBoxHidden=!1,this.headerBox.show(),setTimeout(function(){this.headerBox.css({opacity:1})}.bind(this),50)},_hideSystemCursor:function(){this.$element.addClass("noCursor")},_showSystemCursor:function(){this.$element.removeClass("noCursor")},_updateHeaderBox:function(){this.breakpointSmall||(0===this.totalDragged||this.headerBoxHidden?this.headerBoxHidden&&this.mouse.down&&(clearTimeout(this.headerBoxTimeout),this.headerBoxTimeout=setTimeout(this._resetHeaderBox.bind(this),1e3*this.headerBoxReturnTime)):(this.headerBoxHidden=!0,this.headerBox.css({opacity:0}),setTimeout(function(){this.headerBox.hide()}.bind(this),900)))},_updateImage:function(){this.changeTotal>20&&(this.changeTotal=0,this.imageIndex--,this.imageIndex<0&&(this.imageIndex=this.images.length-1),this._updateCurrentImage()),this.changeTotal<-20&&(this.changeTotal=0,this.imageIndex++,this.imageIndex>=this.images.length&&(this.imageIndex=0),this._updateCurrentImage())},_draw:function(){this.rect=this.canvas.getBoundingClientRect(),this._updatePointer(),this.loaded&&this._updateImage(),this._drawCanvasImage(),this._isLoading&&this.loader.draw(),this._updateHeaderBox(),this.ctx.save(),this.ctx.fillStyle="#fc00cf",this.isOnScreen?!this.returned&&this.loader.state.complete&&(this.loader.hidden=!1,this.returned=!0,this.loader.alpha=1,this.loader.arrowAlpha=1,this._showSystemCursor()):this.returned=!1,this.ctx.restore(),this.tabbedContainer?this.tabbedContainer&&this.tabbedContainer.hasClass("active_Exterior360")&&(this.rID=requestAnimationFrame(this._draw.bind(this))):this.rID=requestAnimationFrame(this._draw.bind(this))},_debug:function(){var e={mouseX:this.mouse.x,mouseY:this.mouse.y,mousedown:this.mouse.down,actualMouseX:this.mouse.x-this.rect.left,actualMouseY:this.mouse.y-this.rect.top,totalDragged:this.totalDragged,changeTotal:this.changeTotal,loadedImagesCount:this.loadedImagesCount,loaderAlpha:this.loader.alpha,lastMoveValue:this.lastMoveValue,cursorAlpha:this.cursorAlpha},t=1;for(var i in e)this.ctx.fillStyle="#fff",this.ctx.font="18px Georgia",this.ctx.fillText(i+": "+e[i],10,20*t),t++}};jQuery.createComponent("Exterior360",n)}(jQuery,window,document),function(e){var t={init:function(){var e=this;e._masonryLayout(),e._handleTelephoneClicks(),e._listEventHandlers()},_masonryLayout:function(){var t=this,i=e(".list",t.$element),n=i.find("> li").length;n>1&&(i.lrdxMasonry({animate:!1}),i.lrdxMasonry("refresh"))},_handleTelephoneClicks:function(){var t=this;e(".cardData .tel a",t.$element).click(function(e){var t=site.utils.isBreakpointSmall()&&site.utils.isMobileDevice();t||e.preventDefault()})},_listEventHandlers:function(){var t=this;e(".infoCardFABContact .mobileStateBtn",t.$element).on("click tap",function(t){t.preventDefault();var i=e(this).parents(".infoCardFABContact"),n=i.find(".mobile");i.hasClass("openInfoCard")?n.slideUp(300,function(){i.removeClass("openInfoCard")}):n.slideDown(300,function(){i.addClass("openInfoCard")})})}};jQuery.createComponent("FleetAndBusinessContacts",t)}(jQuery,window,document),function(e){var t={init:function(){e("body").keydown(function(){e(this).addClass("focusStylesOn")}),e("body").click(function(){e(this).removeClass("focusStylesOn")})}};jQuery.createComponent("FocusSwitcher",t)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},init:function(){var i=this;e(".FooterNav .navWrapper").not(".hygieneLinks .navWrapper"),e(".toggle",i.$element).unbind("click").click(function(){var t=e(this).next("ul"),i=e(this).children("i");return t.slideToggle(),e(this).toggleClass("active"),i.toggleClass("active"),!1}),i._initHygieneToggleEvents(),i._loadMarketSelector(),e(t).resize(function(){i._setFooterNavPadding()}),i._setFooterNavPadding()},_initHygieneToggleEvents:function(){var t=this,n=e(".toggleHandle",t.$element);n.on("click",function(t){t.preventDefault(),t.stopPropagation();var i=e(this).parent();i.hasClass("open")?n.parent().removeClass("open"):(n.parent().removeClass("open"),i.addClass("open"))}),e(i).on("click tap",function(t){var i=e(t.target).parents("li.open").length;1>i&&n.parent().removeClass("open")}),t._addKeyboardNavigation()},_loadMarketSelector:function(){var t=this,i=e(".selectMarket a",t.$element).attr("href"),n=".dropDownContainer",o=e(".marketSelectorContainer",t.$element);o.load(i+" "+n,function(){o.MarketSelector({geoLocate:!1});var t=e(".DropdownSelect",o);t.addClass("DropdownSelectDirectionUp"),t.DropdownSelect()})},_setFooterNavPadding:function(){var t=e(".hygieneLinks").height(),i=e(".marketSelectorContainer",this.$element);e(".FooterNav").css("padding-bottom",t),i.css("bottom",t)},_addKeyboardNavigation:function(){var t=this,i=e(".toggleHandle",t.$element),n=i.parent(),o=n.find(".marketSelectorContainer");i.keydown(function(e){var t=o.find("input, textarea, button, a, .focusable"),i=n.hasClass("open");return i&&38===e.keyCode?(t.first().focus(),!1):void 0})}};jQuery.createComponent("FooterNav",n)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{frameSliderItems:".frameSliderItem"},_frameSliderItemDefaults:{$element:!1,$spriteSpinElement:!1,spriteSpinApi:!1,spriteSpinData:!1,dragControl:!1,frameCount:0,framesSource:[],frameState:{position:0,direction:"forward"}},multiSliderThreshold:34,currentState:"desktop",touchState:"touch",sliderElementRef:".sliderControls",sliderProgressRef:".sliderProgress",slider:!1,desktopFramesRef:".desktopSliderFrame",mobileFramesRef:".mobileSliderFrame",spritespinFramesRef:".spritespin-instance",spriteContainerContextRef:".spriteContainerContext",spriteSpinApi:{},spriteSpinData:{},$spriteContainer:e(".spriteContainer",this.$element),$markerElement:e(".sliderMarker",this.$element),$markerContainer:e(".sliderMarkers",this.$element),$sliderTitles:e(".sliderTitle",this.$element),init:function(){var e=this;e.$element.offset(),this.activeframeSliderItem={},this.activatedFrameSliderItems=[],this._setCurrentState(),this._setTouchState(),this._configSpriteSpin(),this._initframeSliderItem(this.ui("frameSliderItems").first()),this.$element.data("total")>1?this._initRoyalSlider():t.richsponsiveImage(),this._initEvents()},init_rtl:function(){this._frameSliderItemDefaults.frameState.direction="backward"},_initframeSliderItem:function(t){var i=this;this.activeframeSliderItem=!1;var n=this.ui("frameSliderItems").index(t);if(n in this.activatedFrameSliderItems){this.activeframeSliderItem=this.activatedFrameSliderItems[n];var o=this.activeframeSliderItem.dragControl.getValue(),s=this.activeframeSliderItem.frameCount>this.multiSliderThreshold?2:1;o[0]>=.75?s=3:o[0]<=.25&&(s=1),this.activeframeSliderItem.dragControl.setStep(s,1,!0)}else this.activeframeSliderItem=e.extend(!0,{},i._frameSliderItemDefaults),this.activeframeSliderItem.$element=t,this.activatedFrameSliderItems[n]=this.activeframeSliderItem,this._initSpriteSpin(),this._initDragDealer(),this._initBackgroundOverlay(i.activeframeSliderItem);e(".headingLinear",t).Headings("linearLines"),this.activeframeSliderItem.$element.addClass("active")},_uninitframeSliderItem:function(){this.activeframeSliderItem.$element.removeClass("backgroundOverlayActive"),clearTimeout(this.activeframeSliderItem.dragControl.activePauseTimout)},_configSpriteSpin:function(){this._checkIndexOf(),SpriteSpin.mods.noBehavior||SpriteSpin.registerModule("noBehavior",{})},_initSpriteSpin:function(){var t=this,i=0;this._getFramesData(),site.rtl&&(i=this.activeframeSliderItem.frameCount,this.activeframeSliderItem.frameState.position=this.activeframeSliderItemframeCount),this.activeframeSliderItem.$spriteSpinElement.spritespin({source:t.activeframeSliderItem.framesSource,frame:i,width:e(this.spriteContainerContextRef,t.activeframeSliderItem.$element).width(),height:e(this.spriteContainerContextRef,t.activeframeSliderItem.$element).height(),animate:!1,frameTime:40,behavior:"noBehavior",renderer:"touch"!==t.touchState||site.utils.isWindowsPhone()?"canvas":"image",preloadCount:t.activeframeSliderItem.frameCount,onLoad:function(){t.activeframeSliderItem.$element.addClass("frames-loaded")}}),this.activeframeSliderItem.spriteSpinApi=this.activeframeSliderItem.$spriteSpinElement.spritespin("api"),this.activeframeSliderItem.spriteSpinData=this.activeframeSliderItem.$spriteSpinElement.data("spritespin")},_initDragDealer:function(){var i=this,n=0,o=e(this.sliderElementRef,this.activeframeSliderItem.$element).get(0),s=e(this.sliderProgressRef,this.activeframeSliderItem.$element);site.rtl&&(n=1);var r=new t.Dragdealer(o,{steps:i.activeframeSliderItem.frameCount>i.multiSliderThreshold?3:2,x:n,dragStartCallback:function(){e(this.handle).addClass("active"),i.activeframeSliderItem.$element.trigger("backgroundOverlay.on")},dragStopCallback:function(){e(this.handle).removeClass("active")},animationCallback:function(e){var t=Math.ceil(i.activeframeSliderItem.frameCount*e);i.activeframeSliderItem.$element.hasClass("frames-loaded")!==!1&&(i.activeframeSliderItem.spriteSpinApi.updateFrame(t),i.activeframeSliderItem.frameState.position=t,i._titleDisplay(t),site.rtl?s.width(100-100*e+"%"):s.width(100*e+"%"))}});e(o).on("mousedown touchstart pointerdown MSPointerDown",function(e){e.stopPropagation()}),this.activeframeSliderItem.dragControl=r},_initBackgroundOverlay:function(t){var i=this,n=t.$element,o=e(i.sliderElementRef,n);n.hasClass("backgroundOverlay")&&(n.prepend(e('<div class="backgroundOverlayElement"/>')),o.on("mouseenter touchstart",function(){n.trigger("backgroundOverlay.on")}),n.on("backgroundOverlay.on",function(e){i._backgroundOverlayToggle(e)}),n.on("backgroundOverlay.off",function(e){i._backgroundOverlayToggle(e)}))},_backgroundOverlayToggle:function(t){var i=this,n=e(t.target),o="on"===t.namespace,s="backgroundOverlayActive";o?(n.addClass(s),i._backgroundOverlayScroll.add(n)):(n.removeClass(s),i._backgroundOverlayScroll.remove(n))},_backgroundOverlayScroll:{$element:null,elementHeight:0,added:!1,add:function(i){var n=this;n.added||(n.$element=i,n.elementHeight=i.height(),e(t).on("throttledScroll",e.proxy(n.check,this)),n.added=!0)},remove:function(){var i=this;e(t).off("throttledScroll",i.check),i.added=!1},check:function(){var i=this,n=i.$element,o=i.elementHeight,s=n.offset(),r=e(t).scrollTop(),a=e(".SubNavigation").height()+e(".headerWrapper").height(),l=r+e(t).height()<=s.top,c=r+a>=o+s.top;(l||c)&&n.trigger("backgroundOverlay.off")}},_initEvents:function(){var i=this;e(t).smartresize(function(){i._sliderResize(i)})},_initRoyalSlider:function(){var i=this,n=e(".royalSlider",this.$element).royalSlider({arrowsNav:!0,loop:!0,
keyboardNavEnabled:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,autoHeight:!0,autoScaleSlider:!0,autoScaleSliderWidth:0,autoScaleSliderHeight:0,slidesSpacing:0,imgWidth:"100%",imgHeight:"100%",sliderDrag:!0,controlNavigation:"none",thumbsFitInViewport:!1,navigateByClick:!1,autoPlay:{enabled:!1},numImagesToPreload:1,transitionType:"move"});n=e(".royalSlider",this.$element).data("royalSlider"),n.ev.on("rsBeforeAnimStart",function(){i._uninitframeSliderItem(e(this.currSlide.content))}),n.ev.on("rsAfterSlideChange",function(){i._initframeSliderItem(e(this.currSlide.content)),t.richsponsiveImage(),i._sliderResize(i)}),t.richsponsiveImage()},_sliderResize:function(t){var i,n=e(t.spritespinFramesRef,t.activeframeSliderItem.$element);if(t._setCurrentState(),i=t._getTargetFrames(),n.get(0)!==i.get(0))n.spritespin("destroy").empty().removeClass(t.spritespinFramesRef.replace(".","")),t._initSpriteSpin();else{var o=e(this.spriteContainerContextRef,t.activeframeSliderItem.$element).width(),s=i.width();o!==s&&i.spritespin({width:o,height:e(this.spriteContainerContextRef,t.activeframeSliderItem.$element).height()})}},_setCurrentState:function(){this.currentState=e(t).width()>740?"desktop":"mobile"},_setTouchState:function(){this.touchState=e("html").hasClass("touchCapability")?"touch":"notouch"},_titleDisplay:function(e){var t=this.activeframeSliderItem.frameCount,i=Math.round(t/8),n="x";1*i>=e?n=0:e>=3*i&&5*i>e?n=1:e>=7*i&&(n=2),this._showtitle(n)},_showtitle:function(e){this.activeframeSliderItem.$element.find(this.$sliderTitles).not('[data-item-position="'+e+'"]').removeClass("current"),this.activeframeSliderItem.$element.find(this.$sliderTitles).filter('[data-item-position="'+e+'"]').addClass("current")},_getFramesData:function(){this.activeframeSliderItem.$spriteSpinElement=this._getTargetFrames(),this.activeframeSliderItem.framesSource=this.activeframeSliderItem.$spriteSpinElement.data("frames"),this.activeframeSliderItem.frameCount=this.activeframeSliderItem.framesSource.length-1},_getTargetFrames:function(){return"mobile"===this.currentState?e(this.mobileFramesRef,this.activeframeSliderItem.$element):e(this.desktopFramesRef,this.activeframeSliderItem.$element)},_checkIndexOf:function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1})},_isDeviceLandscape:function(){return"undefined"!=typeof t.matchMedia&&t.matchMedia("(orientation: landscape)").matches},_destroy:function(){}};jQuery.createComponent("FrameSlider",i)}(jQuery,window,document),function(e){var t={_defaults:{},init:function(){var t=e("#autoIframe",this.$element),i=t.attr("data-src");t.attr("src",i),site.utils.isIOS()||t.iframeHeight()}};jQuery.createComponent("FramedContent",t)}(jQuery,window,document),function(e){var t={_defaults:{},uiSelectors:{form:"#formDiv"},jqueryMigrate:"/resources/public/js/libs/jquery-migrate-1.2.1.js",init:function(){this.loadJqueryMigrate()},loadJqueryMigrate:function(){e.getScript(this.jqueryMigrate).done(this.loadAvoka.bind(this))},loadAvoka:function(){e.getScript(this.ui("form").data("src")).done(this.initAvoka.bind(this))},initAvoka:function(){Avoka.SmartForm.WebPlugin.showEmbeddedForm({id:this.ui("form").attr("id"),formCode:this.ui("form").data("code")})}};jQuery.createComponent("FramedForm",t)}(jQuery,window,document),function(e,t,i,n){var o={_defaults:{},uiSelectors:{carouselNav:".carouselNavigation",fullFrameItems:".fullFrameItem",videoPlayers:".VideoPlayer",videos:"video.videos",mainTextHeadings:".headingTextSub",carouselContainer:".carousel"},_slider:null,_$currentSlide:null,_$currentSlideVideo:null,_bottomOfFrame:0,_scrollTimer:null,_offScreen:!1,_$window:e(t),_tallest:0,_orientation:"portrait",_userInteracting:!1,_slideTimer:null,_firstVideo:null,_videoUsesFlash:!1,_singleItemCarousel:!1,_userInteracted:!1,_direction:"slideFromRight",_transistionSpeed:600,playCount:0,_sliderInited:!1,_isInsideTabbedContainer:!1,_isMobile:!1,_total:0,_closedTabHeight:50,_uniqId:null,init_rtl:function(){this._direction="slideFromLeft"},init:function(){var i;this._tabbedContainer=site.utils.insideTabbedContainer(this.$element),this._tabbedContainer?this._isInsideTabbedContainer=!0:this._isInsideTabbedContainer=!1,this._isMobile=site.utils.isBreakpointSmall(),this._total=parseInt(this.$element.data("total"),10),this._uniqId=Math.floor(100*Math.random()),this._$window.on("resize.ffc-"+this.uniqId,function(){clearTimeout(i),i=setTimeout(function(){var t=site.utils.isBreakpointSmall();this._isInsideTabbedContainer?(!this._isMobile&&t&&(e(".royalSlider",this.$element).height(""),this._destroyGallery(),this._initTabbedMobile()),this._isMobile&&!t&&(this._sliderInited||(this._destroyTabbedMobile(),this._initGallery(),this._updatePagination(null))),t&&this.ui("fullFrameItems").each(function(e,t){this._setOpenHeight(t)}.bind(this)),t||this._resizeSlide(!0)):this._resizeSlide(!1),this._isMobile=t}.bind(this),250)}.bind(this)),this._isInsideTabbedContainer&&(this._originalMarkup=this.$element.html()),this._isInsideTabbedContainer&&this._isMobile?this._initTabbedMobile():(this.ui("videoPlayers").VideoPlayer({autoplay:!1,loop:!1,clickToPlayPause:!1,iPhoneUseNativeControls:!1,iPadUseNativeControls:!1,AndroidUseNativeControls:!1}),e(t).on("HeroCarouselForceResize",function(){(!this._isInsideTabbedContainer||this._isInsideTabbedContainer&&!this._isMobile)&&this._resizeSlide(!1)}.bind(this)),this._initGallery(),this._updatePagination(null)),e("html").hasClass("lt-ie9")?this._isInsideTabbedContainer||this._isMobile||this._resizeSlide(!0):(this._$window.scroll(function(){this._onScroll()}.bind(this)),this._onScroll()),this._registerVideoClickToPause()},_registerVideoClickToPause:function(){this.$element.on("click",".VideoPlayer",function(t){var i=e(t.currentTarget).find("video.video")[0].player.media;this._slider&&this._slider.dragSuccess||(i.paused?i.play():i.pause())}.bind(this))},_beforeSlideChanged:function(){this._isInsideTabbedContainer&&this.ui("carouselNav").removeClass("visible"),this._destroySlideComponents()},_onSlideChanged:function(){var t;e(".linkContainer a",this._$currentSlide).off("click tap mouseenter mouseleave"),null!==this._$currentSlide&&(this._$currentSlide.removeClass("current"),t=this._$currentSlideVideo),t&&1===t.length&&(t.VideoPlayer("pause"),setTimeout(function(){t.off("onPlay"),t.off("onPause")}.bind(this),0)),this._$currentSlide=e(this._slider.currSlide.holder),this._$currentSlide.addClass("current"),this._$currentSlideVideo=e(".VideoPlayer",this._$currentSlide),e(".mejs-controls",this._$currentSlide).removeClass("hide"),e(".fullFrameContent",this.$element).removeClass("visible"),e(".linkContainer a",this._$currentSlide).on("click tap",function(e){e.stopPropagation()}),this._setupSlideComponents(),this._hoverOverCTAs(),this._resizeSlide(!0),this._$window.trigger("resize"),setTimeout(function(){this._resizeSlide(!0),this._$window.trigger("resize")}.bind(this),1e3),this._updateSlideLinks()},_initGallery:function(){var i=this,n=0;"slideFromLeft"===i._direction&&(n=this.$element.data("total")-1);var o={arrowsNav:!1,loop:!0,keyboardNavEnabled:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,autoHeight:!1,autoScaleSlider:!1,autoScaleSliderWidth:0,autoScaleSliderHeight:0,slidesSpacing:0,imgWidth:"100%",sliderDrag:!0,controlNavigation:"none",thumbsFitInViewport:!1,navigateByClick:!1,startSlideId:n,autoPlay:{enabled:!1},transitionType:"move",numImagesToPreload:1,transitionSpeed:i._transistionSpeed};site.inXPM&&(o.loop=!1,o.numImagesToPreload=100),e(".royalSlider",this.$element).royalSlider(o),setTimeout(function(){t.richsponsiveImage()},50),setTimeout(function(){(!this._isInsideTabbedContainer||this._isInsideTabbedContainer&&!this._isMobile)&&(this._resizeSlide(!0),this._$window.trigger("resize"),t.richsponsiveImage())}.bind(this),2e3),this._slider=e(".royalSlider",this.$element).data("royalSlider"),this._slider.ev.on("rsDragStart",function(){i._beforeSlideChanged()}),this._slider.ev.on("rsDragRelease",function(){i._isInsideTabbedContainer&&i.ui("carouselNav").addClass("visible")}),this._slider.ev.on("rsBeforeAnimStart",function(t){i._$currentSlide.index()!==e(i._slider.currSlide.holder).index()&&(i._beforeSlideChanged(),i._updatePagination(t))}),this._slider.ev.on("rsAfterSlideChange",function(){t.richsponsiveImage(),i._$currentSlide.index()!==e(i._slider.currSlide.holder).index()&&i._onSlideChanged()}),e(".rsNavItem",this.$element).on("click",function(){i._userFinishedInteraction()}),this._slider.ev.on("rsDragRelease",function(){this._userFinishedInteraction()}.bind(this)),this._initialiseSlides(),this._addKeyboardNavigation(),this._bindPaginationArrows(),this._sliderInited=!0},_destroyGallery:function(){this._sliderInited&&(this.ui("carouselContainer").height(""),this._$currentSlideVideo.off("onPlay"),this._$currentSlideVideo.off("onPause"),e(".linkContainer a",this._$currentSlide).off("click tap mouseenter mouseleave"),e(".rsNavItem",this.$element).off("click"),e(".carouselNavigation .prev",this.$element).off("tap click"),e(".carouselNavigation .next",this.$element).off("tap click"),this._slider.destroy(),this._slider=null,this._originalMarkup&&(this.$element.html(this._originalMarkup),this.uiElements={}),this._sliderInited=!1)},_initialiseSlides:function(){var t=this;t._$currentSlide=e(this._slider.currSlide.holder),t._$currentSlide.addClass("current"),this._$currentSlideVideo=e(".VideoPlayer",this._$currentSlide),t._resizeSlide(!0),t._$window.trigger("resize"),e(".linkContainer a",t._$currentSlide).on("click tap",function(e){e.stopPropagation()}),t._hoverOverCTAs(),t._setupSlideComponents(),t._resizeSlide(!0),t._$window.trigger("resize"),setTimeout(function(){t._$currentSlide.waitForImages(function(){this.$element.find("video.video").each(function(){site.utils.isBreakpointSmall()?this.player.setPlayerSize("100%","100%"):this.player.setPlayerSize(640,360)}),t._resizeSlide(!0),t._$window.trigger("resize"),t._slider.updateSliderSize(!0)}.bind(this))}.bind(this),200)},_hoverOverCTAs:function(){var t=this;e(".linkContainer a, .mediaOverlay, .mejs-controls",this._$currentSlide).on("mouseenter",function(){t._userInteracting=!0}).on("mouseleave",function(){t._userInteracting=!1})},_onScroll:function(){this._scrollTimer||(this._scrollTimer=setTimeout(function(){clearTimeout(this._scrollTimer),this._scrollTimer=null;var t=e(".VideoPlayer video",this._$currentSlide),i=1-this._$window.scrollTop()/1e3*2;t.length>0&&i>0&&!this.videoMute&&(t[0].volume=i),this._$window.scrollTop()>=this._bottomOfFrame?this._offScreen===!1&&(this.$element.addClass("offScreen"),this._offScreen=!0):this._offScreen!==!0||site.fullScreenMode||(this.$element.removeClass("offScreen"),this._offScreen=!1)}.bind(this),250))},_resizeSlide:function(e){var t=this._$currentSlide.find(".image"),i=this.ui("carouselNav"),n=this._$currentSlide.find(".fullFrameContent");if(e===!1&&this._$window.width()===this._windowWidth)return!1;if(this._onResize(),this._isInsideTabbedContainer)site.utils.isBreakpointSmall()||(this.$element.removeAttr("style"),i.css("bottom",this.$element.height()-(n.offset().top-this.$element.offset().top+n.outerHeight()-parseInt(n.css("padding-bottom"),10)+55)),this._$currentSlide.children(".fullFrameItem").hasClass("left")?i.css("left",site.utils.isBreakpointMedium()?50:90):i.css("left",this.$element.width()/2-i.width()/2),t.css("height","auto"));else if(site.utils.isBreakpointSmall())1===parseInt(this.$element.data("total"),10)&&n.css("margin-top",30),this.$element.css("height",t.outerHeight(!0)+n.outerHeight(!0)),this.$element.find(".rsOverflow").css("height",t.outerHeight(!0)+n.outerHeight(!0)),i.css("bottom",this.$element.height()-t.outerHeight(!0)-i.outerHeight());else{1===parseInt(this.$element.data("total"),10)&&n.css("margin-top",0),this.$element.removeAttr("style");var o=(this.$element.outerHeight()-n.outerHeight()-i.outerHeight())/4;o>80&&(o=80),i.css("bottom",o),t.css("height","auto")}null!==this._slider&&this._slider.updateSliderSize(),this.$element.find("video.video").each(function(e,t){site.utils.isBreakpointSmall()?t.player.setPlayerSize("100%","100%"):t.player.setPlayerSize(640,360)}.bind(this)),setTimeout(function(){this.$element.addClass("loaded")}.bind(this),100)},_onResize:function(i){function n(){d.each(function(){var t=e(this).height();t>h&&(h=t)})}var o=i?i.data.that:this;if(o._windowWidth===e(t).width()&&o._windowHeight===e(t).height())return!1;var s=e(t).width(),r=e(t).height();o._windowWidth=s,o._windowHeight=r;var a,l=e(".carouselNavigation",o.element),c=(l.height(),e(".royalSlider",o.element)),u=e("fullFrameContent",this._$currentSlide),d=e(".fullFrameContent",this.$element),h=0;if(site.utils.isBreakpointSmall())c.height("auto");else{n(),h+=264;var p=r-site.utils.getHeaderHeight(this.$element.offset().top),f=s/1.45;p=f>p?p:f,a=u.height(),s>1&&(a=h>p?h:p),this._isInsideTabbedContainer&&(a-=e(".tab-navigation",this._tabbedContainer).height(),e(".rsOverflow",c).css({minHeight:0}),c.css({minHeight:0,marginBottom:e(".tab-navigation",this._tabbedContainer).height()})),e(".rsOverflow",c).height(a),c.height(a)}},_userFinishedInteraction:function(){this._userInteracted=!0},_destroySlideComponents:function(){this._$currentSlide.find(".headerBox").HeaderBox("removeEvents").HeaderBox("destroy")},_setupSlideComponents:function(){var i=e(".fullFrameContent",this._$currentSlide);if(this._$currentSlide.find(".headerBox").HeaderBox(),this._$currentSlideVideo&&1===this._$currentSlideVideo.length){if(null===this._firstVideo||this._firstVideo===this._$currentSlide.index())this._firstVideo=this._$currentSlide.index(),i.addClass("visible"),this.ui("carouselNav").addClass("visible"),e(".mejs-controls",this._$currentSlide).addClass("visible"),this._$currentSlideVideo.on("onPlay",function(){this.dragStarted&&this._$currentSlideVideo.VideoPlayer("pause"),site.utils.isBreakpointSmall()||(i.removeClass("visible"),this.ui("carouselNav").removeClass("visible")),(site.utils.isIe()||site.utils.isMsEdge()||this._isInsideTabbedContainer&&this._isMobile)&&e(".fullFrameItem > .image",this._$currentSlide).css("z-index",-1),this._$currentSlideVideo.find(".mejs-overlay-play").hide(),e(".mejs-controls",this._$currentSlide).addClass("hide")}.bind(this)),this._$currentSlideVideo.on("onPause",function(){site.utils.isBreakpointSmall()||(i.addClass("visible"),this.ui("carouselNav").addClass("visible")),site.utils.isIe(),this._$currentSlideVideo.find(".mejs-overlay-play").show(),e(".mejs-controls",this._$currentSlide).removeClass("hide")}.bind(this));else{if(this._videoUsesFlash!==!1)return this._$currentSlideVideo.remove(),this._resizeSlide(!0),void e(t).trigger("resize");i.addClass("visible"),this.ui("carouselNav").addClass("visible"),this._$currentSlideVideo.on("onPlay",function(){this.dragStarted&&this._$currentSlideVideo.VideoPlayer("pause"),site.utils.isBreakpointSmall()||(i.removeClass("visible"),this.ui("carouselNav").removeClass("visible")),(site.utils.isIe()||site.utils.isMsEdge()||this._isInsideTabbedContainer&&this._isMobile)&&e(".fullFrameItem > .image",this._$currentSlide).css("z-index",-1),this._$currentSlideVideo.find(".mejs-overlay-play").hide(),e(".mejs-controls",this._$currentSlide).addClass("hide")}.bind(this)),this._$currentSlideVideo.on("onPause",function(){site.utils.isBreakpointSmall()||(i.addClass("visible"),this.ui("carouselNav").addClass("visible")),site.utils.isIe(),this._$currentSlideVideo.find(".mejs-overlay-play").show(),e(".mejs-controls",this._$currentSlide).removeClass("hide")}.bind(this))}this._$currentSlideVideo.VideoPlayer("canBeResumed")===!0&&i.addClass("visible")}else this._noVideoInteraction();"1"===String(this.$element.data("total"))?(this.ui("carouselNav").hide(),this._isInsideTabbedContainer&&i.addClass("no-extra-padding")):this.ui("carouselNav").show()},_noVideoInteraction:function(){var t=this,i=e(".fullFrameContent",t._$currentSlide);i.addClass("visible"),this.ui("carouselNav").addClass("visible"),t._userInteracted===!1||(t._userInteracted=!1)},_addKeyboardNavigation:function(){var t=this,i=t._slider,n=e(".royalSlider",t.$element);n.attr("tabindex","0"),n.keydown(function(e){39===e.keyCode?(i.next(),n.focus(),t._updateSlideLinks()):37===e.keyCode&&(i.prev(),n.focus(),t._updateSlideLinks())}),t._updateSlideLinks()},_bindPaginationArrows:function(){e(".carouselNavigation .prev",this.$element).on("tap click",function(e){e.preventDefault(),this._slider.prev()}.bind(this)),e(".carouselNavigation .next",this.$element).on("tap click",function(e){e.preventDefault(),this._slider.next()}.bind(this))},_updatePagination:function(){var t=this._slider,i=t.currSlideId+1;"slideFromLeft"===this._direction&&(i=t.numSlides-i+1),e(".numbers",this.$element).html('<span class="number">'+i+'</span><span class="divide">/</span><span class="number">'+t.numSlides+"</span>")},_updateSlideLinks:function(){var t=this._slider,i=(e(".royalSlider",this.$element),e(".rsSlide",this.$element)),n=t.currSlide.content;e("a",i).attr("tabindex","-1"),e("a",n).attr("tabindex",""),e(".TargetLinks").TargetLinks("setupListener"),e(".ResponsiveLink").ResponsiveLink()},_initTabbedMobile:function(){this.ui("mainTextHeadings").removeClass("open"),this.ui("fullFrameItems").each(function(t,i){var n=e(i),o=e(".VideoPlayer",n),s=o.find("video.video")[0];this.ui("carouselNav").hide(),e(".fullFrameContent",n).addClass("visible"),n.data("openHeight",n.find("> span").outerHeight(!0)+n.find(".fullFrameContent").outerHeight(!0)),o.length>0&&(s.player||o.VideoPlayer({autoplay:!1,loop:!1,clickToPlayPause:!1,iPhoneUseNativeControls:!1,iPadUseNativeControls:!1,AndroidUseNativeControls:!1}),s.player.setPlayerSize("100%","100%"),this._registerMobileTabVideoEvents(n)),n.animate({height:this._closedTabHeight},250)}.bind(this)),this._registerAccordionTabEvents(),this.ui("carouselContainer").removeClass("royalSlider"),t.richsponsiveImage(),this.ui("carouselContainer").addClass("royalSlider")},_setOpenHeight:function(t){var i,n=e(t),o=n.outerHeight(!0);n.height(""),i=n.find("> span").outerHeight(!0)+n.find(".fullFrameContent").outerHeight(!0),n.data("openHeight",i),n.height(o!==this._closedTabHeight?i:this._closedTabHeight)},_destroyTabbedMobile:function(){this.ui("fullFrameItems").each(function(t,i){var o=e(i),s=e(".VideoPlayer",o),r=s.find("video.video")[0];o.data("openHeight",n),o.height("100%"),s.length>0&&(r.player.setPlayerSize(640,360),this._removeMobileTabVideoEvents(o))}.bind(this)),this._removeAccordionTabEvents()},_registerMobileTabVideoEvents:function(t){var i=e(".fullFrameContent",t),n=e(".VideoPlayer",t);n.on("onPlay",function(){this.dragStarted&&n.VideoPlayer("pause"),site.utils.isBreakpointSmall()||(i.removeClass("visible"),this.ui("carouselNav").removeClass("visible")),(site.utils.isIe()||this._isInsideTabbedContainer&&this._isMobile)&&e("> .image",t).css("z-index",-1),n.find(".mejs-overlay-play").hide()}.bind(this)),n.on("onPause",function(){site.utils.isBreakpointSmall()||(i.addClass("visible"),this.ui("carouselNav").addClass("visible")),site.utils.isIe(),n.find(".mejs-overlay-play").show()}.bind(this))},_removeMobileTabVideoEvents:function(t){var i=e(".VideoPlayer",t);i.off("onPlay"),i.off("onPause")},_registerAccordionTabEvents:function(){this.ui("mainTextHeadings").on("click",function(t){var i=e(t.currentTarget),n=i.parents(".fullFrameItem");this.ui("mainTextHeadings").removeClass("open"),this.ui("videos").each(function(e,t){t.pause()}),this.ui("fullFrameItems").not(n).animate({height:this._closedTabHeight},250),n.height()===this._closedTabHeight?(n.animate({height:n.data("openHeight")},250,function(){site.utils.scrollTo(n)}),i.addClass("open")):n.animate({height:this._closedTabHeight},250)}.bind(this))},_removeAccordionTabEvents:function(){this.ui("mainTextHeadings").off("click")},_destroy:function(){this.$element.off("click",".VideoPlayer"),this._isInsideTabbedContainer&&this._isMobile?this._destroyTabbedMobile():this._destroyGallery(),this._$window.off("resize.ffc-"+this.uniqId)}};jQuery.createComponent("FullFrameCarousel",o)}(jQuery,window,document),function(e,t){var i={_$window:e(t),_isTall:!1,uiSelectors:{imageContainer:".imageContainer",itemContainer:".itemContainer",itemContent:".itemContent",headerBox:".headerBox"},init:function(){var e=this;e._isTall=e.$element.hasClass("adaptive")||e.$element.hasClass("tall"),this.$element.hasClass("withHeaderBox")&&this.ui("headerBox").HeaderBox(),e._$window.smartresize(e._onResize.bind(e)).on("stickyNavigationChange",function(){t.setTimeout(function(){e._onResize()},450)}),e._onResize()},_onResize:function(){var t=this,i=e(".imageContainer",this.$element),n=(e(".imageContainer span",this.$element),e("#header.stickyNavigation").height());if(t._isTall)if(t._$window.width()>=1e3){var o=t._$window.height();o>700?i.css({height:o-n,"min-height":o-n}):i.css({height:700,"min-height":700})}else i.removeAttr("style");t._increaseSize()},_increaseSize:function(){var t=this,i=e(".imageContainer",this.$element),n=this.ui("itemContent"),o=n.css("bottom"),s="auto"===o?0:parseInt(o,10),r=n.css("top"),a="auto"===r?0:parseInt(r,10),l=n.outerHeight()+s+a;t._$window.width()>=site.breakpoints.medium?l>=this.$element.height()?i.css({height:l}):i.css({height:"100%"}):i.removeAttr("style")}};jQuery.createComponent("FullWidthImage",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{fullscreenHeader:".fullscreenHeader",fullscreenFooter:".fullscreenFooter"},aspectRatio:16/9,_inOverlay:!1,$socialShareElement:!1,init:function(){var i=this;1===this.$element.parents(".mfp-content").length&&(this._inOverlay=!0),this._inOverlay===!0&&this._setupGalleryCategoryButton(),i._setupCloseButton(),i._onResize(),e(t).resize(function(){i._onResize()}),i.$socialShareElement=i.$element.find(".SocialSharing"),i.initComponents(),i._mouseLeaveEvents()},initComponents:function(){var i=this;i.$socialShareElement.SocialSharing(),i._initGallery(),i.$element.find(".GalleryCategories").GalleryCategories(),i.$element.find(".VideoPlayerGalleryAsset").VideoPlayerGalleryAsset(),i.$element.find(".VideoPlayer").VideoPlayer({autoplay:!1,loop:!1}),i.$element.find(".ResponsiveLink").ResponsiveLink(),e(t).trigger("resize")},_initGallery:function(){var t=this.$element.find(".Gallery");t.length&&(this.$element.find("[data-rstmb]").each(function(){var t=e(this),i=t.data("rsTmb"),n=t.data("rstmb");"undefined"==typeof i&&n&&t.data("rsTmb",n)}),this.$element.find(".Gallery").Gallery())},_mouseLeaveEvents:function(){var t=this;t.ui("fullscreenHeader").find(".addThisMenu").on("mouseleave",function(){e(this).removeClass("open"),t.$socialShareElement.SocialSharing("closeMenu")})},destroyComponents:function(){var e=this;e.$element.find(".Gallery").Gallery("destroy"),e.$element.find(".GalleryCategories").GalleryCategories("destroy"),e.$element.find(".VideoPlayerGalleryAsset").VideoPlayerGalleryAsset("destroy"),e.$element.find(".VideoPlayer").VideoPlayer("destroy"),e.$socialShareElement.SocialSharing("destroy")},_setupGalleryCategoryButton:function(){var t=this;e(".galleryCategoriesBtn",this.$element).on("click tap",function(i){i.preventDefault(),t.loadURL({url:e(this).attr("href"),type:"GalleryCategories"})})},_setupCloseButton:function(){if(site.utils.cookieManager.checkForCookie("JLR_previousURL")===!0){var t=site.utils.cookieManager.readCookie("JLR_previousURL");null!==t&&e(".mfp-close",this.$element).attr("href",t)}},_onResize:function(){var e=this;e._resizeHeader(),e._setGalleryPadding()},_resizeHeader:function(){var i=this.ui("fullscreenHeader").find(".logo").outerWidth()+e("#filmstripToggle").outerWidth()+this.ui("fullscreenHeader").find(".galleryCategoriesBtn").outerWidth()+this.ui("fullscreenHeader").find(".mfp-close").outerWidth()+this.ui("fullscreenHeader").find(".addThisMenu").outerWidth();this.ui("fullscreenHeader").find(".info").width(e(t).width()-i)},_setGalleryPadding:function(){var t=this,i=e(".Gallery",t.$element),n=e(".fullscreenFooter",t.$element).outerHeight();95>n&&n>0&&(n=95),i.css({"padding-bottom":n})},loadURL:function(t){var i=this;this.destroyComponents(),this.$element.find(".fullscreenContentWrapper").empty(),e.get(t.url,function(n){switch(e(".info h4",i.$element).html(e(n).find(".info h4").html()),e(".info p",i.$element).html(e(n).find(".info p").html()),i.$element.find(".fullscreenContentWrapper").html(e(n).find(".fullscreenContentWrapper").html()),t.type){case"GalleryCategories":i.$element.removeClass("hasGallery").addClass("hasGalleryCategories"),e(".galleryCategoriesBtn",i.$element).hide(),i.ui("fullscreenHeader").find("#filmstripToggle").remove();break;case"Gallery":i.$element.removeClass("hasGalleryCategories").addClass("hasGallery"),e(".galleryCategoriesBtn, #filmstripToggle",i.$element).show()}i.initComponents()})}};jQuery.createComponent("Fullscreen",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{galleryItemsWithThumb:".galleryItem[data-rsTmb]"},_$filmstripToggle:null,_filmstripOpen:!1,_totalItems:null,_$currentSlide:null,_$currentSlideOnDrag:null,_userInteracting:!1,_slider:null,_slideChanging:!1,_fullScreen:!1,_textHidden:!1,_thumbPreviewTimeout:null,_direction:"slideFromRight",init_rtl:function(){this._direction="slideFromLeft"},init:function(){var i=this,n=e.Deferred();this.ui("galleryItemsWithThumb").length?(this._loadThumbnails(n),n.done(this._initGallery.bind(this))):this._initGallery(),e(t).on("AddThisToggle",function(e,t){t&&i._filmstripOpen&&(i._toggleFilmstrip(),clearTimeout(i._thumbPreviewTimeout))});var o=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);e(t).width()<site.breakpoints.small&&o&&(t.scrollTo(0,0),e(t).on("orientationchange",function(){t.scrollTo(0,0)}))},_loadThumbnails:function(e){var i=0,n=function(){i++,i===this.ui("galleryItemsWithThumb").length&&e.resolve()};this.ui("galleryItemsWithThumb").each(this._loadThumbnail.bind(this,n)),t.setTimeout(function(){e.resolve()},5e3)},_loadThumbnail:function(t,i,n){var o=e(n),s=o.data("rsTmb"),r=new Image;r.onload=t.bind(this),r.src=s},_onSlideChange:function(e){var t=this;this._slideChanging=!0,setTimeout(function(){t._slideChanging===!0&&t._userInteracting===!0&&e.target.dragSuccess&&t._hideText()},150)},_onSlideChanged:function(){var i=this;this._slideChanging=!1,null!==this._$currentslide&&this._$currentSlide.removeClass("current"),this._$currentSlide=e(this._slider.currSlide.holder),this._$currentSlide.addClass("current"),this._destroySlideComponents(),this._setupSlideComponents(),this._setVideoPlayer(),this._textHidden===!1&&i._hideText(),setTimeout(function(){i._switchText(),i._changeSlideNumber()},800),this._updateSharingURL(),e(".ResponsiveLink").ResponsiveLink(),e(t).trigger("resize")},_destroySlideComponents:function(){e("div:not(.current) > .YouTubeGalleryAsset > .YouTubePlayer",this.$element).YouTubePlayer("destroy")},_setupSlideComponents:function(){e(".YouTubePlayer",this._$currentSlide).YouTubePlayer({expandToWidthOnly:!1,inGallery:!0})},_setVideoPlayer:function(){e(".VideoPlayer",this._$element).VideoPlayer("pause")},_onSlideClicked:function(){this._switchText(),e(t).trigger("slideClicked"),this._filmstripOpen?this._toggleFilmstrip():this._fullScreen?this._noFullScreen():this._goFullScreen()},_goFullScreen:function(){e(t).width()<=site.breakpoints.medium&&(this._fullScreen=!0,e(".fullscreenContentWrapper").transition({"padding-top":"0px",duration:300}),e(".fullscreenHeader").transition({top:"-100px",duration:300}),e(".fullscreenFooter").transition({bottom:"-100px",duration:300}),this.$element.transition({"padding-bottom":"0px",duration:300}))},_noFullScreen:function(){this._fullScreen=!1,e(".fullscreenContentWrapper").transition({"padding-top":"50px",duration:300}),e(".fullscreenHeader").transition({top:"0px",duration:300}),e(".fullscreenFooter").transition({bottom:"0px",duration:300}),this.$element.transition({"padding-bottom":e(".fullscreenFooter").height(),duration:300})},_initFilmStrip:function(){var t=this;this._$filmstripToggle=e("#filmstripToggle",this.$element),e(".fullscreenHeader",this.$element.parents(".Fullscreen")).append(this._$filmstripToggle),this._$filmstripToggle.on("click tap",function(){t._toggleFilmstrip()})},_toggleFilmstrip:function(){this._filmstripOpen?(e(".rsNav").transition({top:0-e(".rsNav",this.$element).outerHeight(),duration:400}),this._$filmstripToggle.removeClass("on")):(e(".rsNav").transition({top:0,duration:400}),this._$filmstripToggle.addClass("on"),t.setTimeout(function(){e(t).resize()},50)),this._filmstripOpen=!this._filmstripOpen,e(t).trigger("FilmstripToggle",[this._filmstripOpen])},_initGallery:function(){var i=this,n=!1;e(".galleryItem",this.$element).length>1&&(n=!0);var o=e(".galleryItem",this.$element).index(e(".galleryItem[data-show]",this.$element));0>o&&(o=0,"slideFromLeft"===this._direction&&(o=e(".royalSlider > div",i.$element).length-1)),e(".royalSlider",this.$element).royalSlider({arrowsNav:!1,loop:!0,keyboardNavEnabled:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,autoHeight:!1,autoScaleSlider:!0,autoScaleSliderWidth:0,autoScaleSliderHeight:0,imgWidth:"100%",imgHeight:"100%",sliderDrag:n,sliderTouch:n,controlNavigation:"thumbnails",thumbsFitInViewport:!1,navigateByClick:!1,startSlideId:o,autoPlay:!1,transitionType:"move",numImagesToPreload:1,thumbs:{autoCenter:!1,spacing:30,arrows:!0},deeplinking:{enabled:!1,change:!1,prefix:"slide-"}}),setTimeout(function(){t.richsponsiveImage()},50),setTimeout(function(){t.richsponsiveImage()},500),this._slider=e(".royalSlider",this.$element).data("royalSlider"),i._addThumbnailOverlays(),e(".galleryItem",this.$element).length>1&&(e(".directionArrow",this.$element).show(),e(".directionArrow.left",this.$element).on("click tap",function(e){e.preventDefault(),i._hideText(),i._slider.prev()}),e(".directionArrow.right",this.$element).on("click tap",function(e){e.preventDefault(),i._hideText(),i._slider.next()}),this._slider.ev.on("rsDragStart",function(e){i._userInteracting=!0,i._$currentSlideOnDrag=i._$currentSlide,i._onSlideChange(e)}),this._slider.ev.on("rsBeforeAnimStart",function(){i._onSlideChanged()}),this._slider.ev.on("rsAfterSlideChange",function(){t.richsponsiveImage(),e(t).trigger("resize")}),i._initFilmStrip(),i._addKeyboardNavigation()),e(".royalSlider",this.$element).on("click tap",function(t){0===e(t.target).parents(".rsOverflow").length||e(t.target).hasClass("video")||null!==i._$currentSlideOnDrag&&i._$currentSlideOnDrag[0]===e(i._slider.currSlide.holder)[0]&&i._onSlideClicked(),i._userInteracting=!1}),this._initialiseSlides(),this._changeSlideNumber(),this._switchText(),e(t).on("resize",function(){i._resizeSlide()}),e(t).trigger("resize"),e(".rsThumbsContainer",this.$element).wrap("<div class='rsThumbsOuterContainer'><div>")},_initialiseSlides:function(){var i=this;i._$currentSlide=e(this._slider.currSlide.holder),i._$currentSlide.addClass("current"),this._setupSlideComponents(),t.setTimeout(function(){i._updateSharingURL()},1e3),setTimeout(function(){i._$currentSlide.waitForImages(function(){e(t).trigger("resize"),i._slider.updateSliderSize(!0),i._playFirstVideo()})},200)},_playFirstVideo:function(){if(this.$element.parents(".mfp-content").length){var e=this.$element.find(".rsSlide:nth-child(1) .VideoPlayer");e.find(".ResponsiveLink").trigger("click")}},_resizeSlide:function(){var i=this,n=e(".royalSlider",this.$element).height(),o=e(".royalSlider",this.$element).width();this._slider.updateSliderSize();var s=e(".galleryItem .image",this._slider.currSlide.holder),r=!1;"portrait"===s.data("orientation")&&(r=!0);var a=o/n;return 0===s.height()?void setTimeout(function(){i._resizeSlide()},400):(1===s.length&&(r===!0||e(t).width()<site.breakpoints.medium?s.css({"background-size":"contain"}):a>1?s.css({"background-size":"cover"}):s.css({"background-size":"contain"})),void(this._filmstripOpen===!0&&(e(".rsThumbsContainer",this.$element).width()<e(".rsNav",this.$element).width()?e(".rsThumbsArrow").addClass("arrowOff"):e(".rsThumbsArrow").removeClass("arrowOff"))));
},_updateSharingURL:function(){if(t.addthis){var i=e("> div",this._$currentSlide),n=i.data("id"),o=t.location.protocol+"//"+t.location.host+e(".gallery",this.$element).data("url")+n;o+=o.indexOf("?")<=-1?"?shared=true":"&shared=true",t.addthis.update("share","url",o),t.addthis.toolbox(".addthis_toolbox",t.addthis_config,{url:o})}},_changeSlideNumber:function(){var e=this._slider.currSlideId+1;"slideFromLeft"===this._direction&&(e=this._slider.numSlides-e+1),this._$filmstripToggle&&this._slider&&this._$filmstripToggle.text(e+" / "+this._slider.numSlides)},_hideText:function(){this._textHidden=!0,this._hide(e(".fullscreenHeader h4")),this._hide(e(".fullscreenHeader p")),this._hide(e(".fullscreenFooter h4")),this._hide(e(".fullscreenFooter p"))},_hide:function(e){e.transition({opacity:0,duration:300})},_fadeIn:function(e,t){e.transition({opacity:1,duration:t})},_switchText:function(){this._textHidden=!1;var t=e(this._slider.currSlide.holder),i=e("h4",t).html(),n=e("p",t).html();this._fadeIn(e(".fullscreenHeader h4").html(i),300),this._fadeIn(e(".fullscreenHeader p").html(n),300),this._fadeIn(e(".fullscreenFooter h4").html(i),300),this._fadeIn(e(".fullscreenFooter p").html(n),300)},_addThumbnailOverlays:function(){var t=this;t._removeThumbnailOverlays();var i=e(".rsThumb img",t.$element);if(i.length>0){var n,o=e('<div class="mediaOverlay mediaOverlayImage"><div class="mediaOverlayBg"></div><div class="mediaOverlayIcon"></div></div>'),s=e('<div class="mediaOverlay mediaOverlayVideo"><div class="mediaOverlayBg"></div><div class="mediaOverlayIcon"></div></div>');i.each(function(i){n=null;var r=t._slider.slides[i].content.hasClass("videoItem");n=r?s.clone():o.clone(),e(this).parent().append(n)})}},_removeThumbnailOverlays:function(){var t=this;e(".rsThumb .mediaOverlay",t.$element).remove()},_destroy:function(){this._slider.ev.off("rsDragStart"),this._slider.ev.off("rsBeforeAnimStart"),e(".royalSlider",this.$element).off("click tap"),this._$filmstripToggle&&this._$filmstripToggle.off("click tap"),e(t).off("AddThisToggle"),e(".directionArrow.left",this.$element).off("click tap"),e(".directionArrow.right",this.$element).off("click tap"),e(".directionArrow.right",this.$element).off("hover"),e(".YouTubePlayer",this._$currentSlide).YouTubePlayer("destroy")},_addKeyboardNavigation:function(){var t=this,i=t._$filmstripToggle,n=e(".rsNav .rsThumb img");n.attr("tabindex","0"),i.keydown(function(e){var i=t._filmstripOpen;i===!0&&40===e.keyCode&&n.first().focus()}),n.keydown(function(t){39===t.keyCode?e(this).parent(".rsThumb").next(".rsThumb").find(".rsThumb img").focus():37===t.keyCode?e(this).parent(".rsThumb").prev(".rsThumb").find(".rsThumb img").focus():13===t.keyCode&&e(this).trigger("click")})}};jQuery.createComponent("Gallery",i)}(jQuery,window,document),function(e,t){var i={_$fullscreenContentWrapper:null,_$fullscreenHeader:null,_$fullscreenFooter:null,_inOverlay:!1,_width:0,_height:0,init:function(){var i=this;if(this._$fullscreenContentWrapper=this.$element.parents(".Fullscreen").find(".fullscreenContentWrapper"),this._$fullscreenHeader=this.$element.parents(".Fullscreen").find(".fullscreenHeader"),this._$fullscreenFooter=this.$element.parents(".Fullscreen").find(".fullscreenFooter"),1===this.$element.parents(".mfp-content").length&&(this._inOverlay=!0),this._inOverlay===!0){this._setupCategoryLinks();var n=t.location.protocol+"//"+t.location.host+this.$element.data("url");n+=n.indexOf("?")<=-1?"?shared=true":"&shared=true",setTimeout(function(){"undefined"!=typeof t.addthis&&(t.addthis.update("share","url",n),t.addthis.toolbox(".addthis_toolbox",t.addthis_config,{url:n}))},3e3)}e(t).on("scroll",{that:this},i._onResize),e(t).on("resize",{that:this},i._onResize),setTimeout(function(){e(t).trigger("resize")},500),i._hoverEvent(),setTimeout(function(){i.$element.addClass("show")},500)},_setupCategoryLinks:function(){e("li",this.$element).on("click tap",function(t){t.preventDefault(),e(".Fullscreen").Fullscreen("loadURL",{url:e(this).find("a").attr("href"),type:"Gallery"})})},_hoverEvent:function(){e("li",this.$element).on({mouseenter:function(){e(this).addClass("hover")},mouseleave:function(){e(this).removeClass("hover")}})},_onResize:function(i){var n=i?i.data.that:this,o=e(t).width(),s=e(t).height();(o!==n._width||s!==n._height)&&(n._width=o,n._height=s,setTimeout(function(){e(t).trigger("resize")},100));var r,a=n._$fullscreenContentWrapper.height();r=a>0?n._$fullscreenFooter.height()>0?a-n._$fullscreenFooter.outerHeight():a:n._$fullscreenFooter.outerHeight(),n.$element.height(r),s>o?n.$element.addClass("portrait"):n.$element.removeClass("portrait")},_destroy:function(){var i=this;e(t).off("scroll",i._onResize),e(t).off("resize",i._onResize),e("li",this.$element).off("click tap mouseenter mouseleave")}};jQuery.createComponent("GalleryCategories",i)}(jQuery,window,document),function(e,t,i){var n={_context:null,_canvas:null,_video:null,_dragger:null,_progressBar:null,_tabletPlay:null,_dragElement:null,_endHandleEl:null,_handleEl:null,_endHandleInner:null,_handleOuter:null,_infoSlides:null,_dragDealer:!1,_imageWidth:1920,_imageHeight:1080,_videoInitialised:!1,_videoPlaying:!1,_currentInteraction:!1,_videoExtension:null,_rotations:{Up:"bottom-to-top",Down:"top-to-bottom",Right:"left-to-right",Left:"right-to-left"},_resizeTimeout:!1,_element:{offsetX:0,offsetY:0,width:0,height:0},_assetLoader:{isLoading:!1,assetsLoaded:0,assetsToLoad:0,downloadsStarted:0},_endHandle:{left:0,centre:0,centreDifference:0,transforms:{scale:1.14}},_handle:{position:0,centre:0,right:0,height:0,width:0,draggerHeight:0,draggerWidth:0},_isFlyThrough:!1,interactions:!1,_currentWidth:0,_currentHeight:0,_debug:!0,_videoSpeed:1,_isInsideTabbedContainer:!1,_uniqId:null,_cleanup:function(){e(".tablet-play",this._videoContainer).remove(),e(".no-click",this._videoContainer).remove(),e("video",this._videoContainer).remove(),e(".dragdealer",this._videoContainer).remove(),e(".play-button",this._videoContainer).remove(),e("canvas",this._videoContainer).remove(),e(".data-slides",this.$element).removeClass("gone")},_checkIfInsideTabbedContainer:function(){this._isInsideTabbedContainer=!!this.$element.parents(".TabbedContainer").not('[data-total="1"]').length,this._isInsideTabbedContainer&&(this._tabbedContainer=this.$element.parents(".TabbedContainer"),e(".GesturedVideoSequence",this.$element).addClass("insideTabs")),this._checkTouch()},_checkTouch:function(){e("html").hasClass("touchCapability")&&(this._isInsideTabbedContainer?e(".GesturedVideoSequence",this.$element).addClass("touch"):this.$element.addClass("touch"))},_getInteractions:function(){this.interactions=[];var t=this;e(".interaction-item",this.$element).each(function(){t.interactions.push(e(this).data("interaction"))})},init:function(){this._uniqId=Math.floor(100*Math.random()),this._checkIfInsideTabbedContainer(),this._getInteractions(),this._setImageSize(),this._getElements(),this._isInsideTabbedContainer&&this._cleanup(),this._noClick=this._appendElement("div","no-click",this._videoContainer),this._setElementSize(),this._getVideoExtension(),this._createVideo(),this._isFlyThrough||this._createCanvas(),this._nextInteraction(),this._calculatePositions(),this._isFlyThrough?this._setupPrevNext():this._setupDrag(),this._bindVideoEvents(),this._checkMobileTablet(),e(t).on("resize.gesturedvideo-"+this._uniqId,function(){clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(function(){this._currentWidth!==t.innerWidth&&(this._setElementSize(),this._calculatePositions(),this._dragger&&this._positionNoClick(),this._setVideoCss(),this._centerInfoSlide(),this._positionDragdealer())}.bind(this),500)}.bind(this)),this._setupInfoSlides(),this._getFullscreenFunctionName(),this._isFlyThrough||setTimeout(function(){this._getEndHandleCoords(),this._positionDragdealer()}.bind(this),500),e(".canvas",this.$element).css({opacity:0})},_positionDragdealer:function(){if(this._dragger){var e=(this.$element.width()-(this._infoSlidesContainer.offset().left+this._infoSlidesContainer.width()))/2-this._dragger.width()/2+(this._infoSlidesContainer.offset().left+this._infoSlidesContainer.width());site.utils.isBreakpointSmall()?this._dragger.css({left:""}):this._dragger.css({left:e}),this._positionNoClick(),this._videoPlaying||this._dragger.css({opacity:1})}},_setImageSize:function(){this._imageSize="desktop",t.innerWidth<600&&(this._imageSize="mobile")},_getFullscreenFunctionName:function(){var e=i.createElement("video");e.exitFullscreen?this._exitFullscreenFunc="exitFullscreen":e.msExitFullscreen?this._exitFullscreenFunc="msExitFullscreen":e.mozCancelFullScreen?this._exitFullscreenFunc="mozCancelFullScreen":e.webkitExitFullscreen?this._exitFullscreenFunc="webkitExitFullscreen":this._exitFullscreenFunc=!1},_setupResizeEvents:function(){},_setElementSize:function(){var i;if(i=site.utils.isBreakpointSmall()?Math.floor(9/(16/e(t).width())):site.stickyNavigationEnabled?e(t).height()-site.utils.getStickyNavHeight(this.$element.offset().top):e(t).height()-e("#header").height(),this._isInsideTabbedContainer){var n=e(".tab-navigation",this._tabbedContainer);site.utils.isBreakpointSmall()||(i-=n.height()),this._videoContainer.css({marginBottom:n.height()})}this._videoContainer.height(Math.round(i))},_checkMobileTablet:function(){!site.utils.isIOS()&&"undefined"==typeof site.utils.getAndroidVersion()||this._videoInitialised||this._videoFirst?this._videoInitialised=!0:(this._tabletPlay=this._appendElement("div","tablet-play",this._videoContainer),this._videoInitialised=!1,this._tabletPlay.show(),this._tabletPlay.on("touchstart",function(){this._videoEl.play(),this._videoEl.pause(),this._videoEl.currentTime=0,this._tabletPlay.fadeOut()}.bind(this)),this._dragger&&(this._handleEl.on("touchstart",this._addHoverClass.bind(this)),this._handleEl.on("touchend",this._removeHoverClass.bind(this))))},_addHoverClass:function(){this._handleEl.addClass("hovered")},_removeHoverClass:function(){this._handleEl.removeClass("hovered")},_setupInfoSlides:function(){this._isFlyThrough||this._infoSlidesContainer.addClass("noPagination"),this._updateInfoSlide()},_centerInfoSlide:function(){var e=(this._videoContainer.height()-this._infoSlidesContainer.outerHeight())/2;this._infoSlidesContainer.css({top:e})},_setupPrevNext:function(){this._isFlyThrough&&(this._nextButton.on("click",function(e){e.preventDefault(),this._nextButton.hasClass("inactive")||this._videoEl.play()}.bind(this)),this._prevButton.on("click",function(e){e.preventDefault(),this._prevButton.hasClass("inactive")||this._reverseVideoEl.play()}.bind(this)),this._prevButton.addClass("inactive"))},_initFlyThrough:function(){e(".dragdealer",this.$element).remove()},_getAsset:function(){var e=new XMLHttpRequest,t=this.interactions[this._currentInteraction].images[this._imageSize][this._assetLoader.downloadsStarted];e.addEventListener("load",function(){this._assetLoader.assetsLoaded++,this._assetLoader.assetsLoaded===this._assetLoader.assetsToLoad&&(this._assetLoader.isLoading=!1,this.$element.removeClass("loading"))}.bind(this)),e.open("GET",t),e.send()},_loadFiles:function(){var e;for(!this._assetLoader.isLoading&&!this._isFlyThrough&&this.interactions[this._currentInteraction].images[this._imageSize].length>0?(this._assetLoader.downloadsStarted=0,this._assetLoader.assetsLoaded=0,this._assetLoader.assetsToLoad=this.interactions[this._currentInteraction].images[this._imageSize].length,this._assetLoader.isLoading=!0,this.$element.addClass("loading"),this._currentInteraction>0&&(e=new XMLHttpRequest,e.open("GET",this.interactions[this._currentInteraction].video[this._videoExtension]),e.send())):this._currentInteraction>0&&(e=new XMLHttpRequest,e.open("GET",this.interactions[this._currentInteraction].video[this._videoExtension]),e.send());this._assetLoader.downloadsStarted<this._assetLoader.assetsToLoad;)this._getAsset(),this._assetLoader.downloadsStarted++},_getEndHandleCoords:function(){this._dragger&&(this._verticalDrag?(this._endHandle.top=parseInt(this._endHandleEl.offset().top-this._dragger.offset().top,10),this._endHandle.centre=parseInt(this._endHandle.top+this._endHandleEl.outerHeight()/2,10),this._endHandle.centreDifference=parseInt(this._endHandleEl.outerHeight()/2+this._handleEl.height()/2,10),this._endHandle.initialWidth=this._endHandleEl.outerWidth()):(this._endHandle.left=parseInt(this._endHandleEl.offset().left-this._dragger.offset().left,10),this._endHandle.centre=parseInt(this._endHandle.left+this._endHandleEl.outerWidth()/2,10),this._endHandle.centreDifference=parseInt(this._endHandleEl.outerWidth()/2+this._handleEl.width()/2,10),this._endHandle.initialHeight=this._endHandleEl.outerHeight()),this._handle.height=this._handleEl.height(),this._handle.width=this._handleEl.width(),this._handle.draggerHeight=this._dragger.height(),this._handle.draggerWidth=this._dragger.width(),this._rightIndicator=e(".right-indicator",this._dragger))},_updateHandleCoords:function(){this._verticalDrag?(this._handle.centre=this._handle.position+this._handle.height/2,this._handle.bottom=this._handle.position+this._handle.height):(this._handle.centre=this._handle.position+this._handle.width/2,this._handle.right=this._handle.position+this._handle.width)},_setProgressLineSize:function(){this._verticalDrag&&this._reverseDrag?this._rightIndicator.css({bottom:Math.round(this._handle.draggerHeight-this._handle.position)}):this._verticalDrag?this._rightIndicator.css({top:Math.round(this._handle.bottom)}):this._reverseDrag?this._rightIndicator.css({right:Math.round(this._handle.draggerWidth-this._handle.position)}):this._rightIndicator.css({left:Math.round(this._handle.right)})},_doHandleTransition:function(t){var i,n=100/this._endHandle.centreDifference,o=(this._endHandle.centreDifference-t)*n;i=this._verticalDrag?this._endHandle.initialWidth/(this._handle.width/1.25):this._endHandle.initialHeight/(this._handle.height/1.25);var s=(i-1)/100*o+1,r=1-.01*o,a=1-.02*o;this._endHandleEl.css({transform:"scale("+s+")"}),e(".smaller",this._endHandleEl).css({opacity:a}),this._handleOuter.css({opacity:r})},_resetHandleTransition:function(){this._endHandleEl.css({transform:"scale(1)"}),e(".smaller",this._endHandleEl).css({opacity:1}),this._handleOuter.css({opacity:1})},_checkHandlePosition:function(){var e;e=this._reverseDrag?this._handle.centre-this._endHandle.centre:this._endHandle.centre-this._handle.centre,e<=this._endHandle.centreDifference?this._doHandleTransition(e):this._resetHandleTransition()},_dragChange:function(){this._updateHandleCoords(),this._setProgressLineSize(),this._checkHandlePosition()},_addNoTransitionClass:function(){this._infoSlidesContainer.hasClass("noTransition")||this._infoSlidesContainer.addClass("noTransition")},_getInfoSlideOpacity:function(e){return this._reverseDrag?1-2*(1-e):1-2*e},_setInfoSlideOpacity:function(e){site.utils.isBreakpointSmall()||this._infoSlidesContainer.css({opacity:this._getInfoSlideOpacity(e)})},_loadFrame:function(e){var t,i=this.interactions[this._currentInteraction].images[this._imageSize],n=1/(i.length-1);t=this._reverseDrag?Math.round(i.length-e/n):Math.round(e/n),this._loadImage(i[t])},_checkPlay:function(e){(1===e&&!this._reverseDrag||0===e&&this._reverseDrag)&&this._videoEl.play()},_getFrame:function(e,t){this._dragger.haveElementDimensions||(this._getEndHandleCoords(),this._dragger.haveElementDimensions=!0);var i,n=this._verticalDrag?t:e,o=100*n;i=this._verticalDrag?(this._handle.draggerHeight-this._handle.height)/100:(this._handle.draggerWidth-this._handle.width)/100,this._handle.position=i*o,this._addNoTransitionClass(),this._dragChange(),this._setInfoSlideOpacity(n),this._loadFrame(n),this._checkPlay(n)},_dragStopCallback:function(){this._verticalDrag&&this._reverseDrag?this._dragDealer.setValue(0,1,!1):this._verticalDrag?this._dragDealer.setValue(0,0,!1):this._reverseDrag?this._dragDealer.setValue(1,0):this._dragDealer.setValue(0,0)},_animationCallback:function(e,t){this._videoPlaying||this._getFrame(e,t)},_getExtraDragdealerOptions:function(e){return this._dragger.hasClass("bottom-to-top")?(e.y=1,e.vertical=!0,this._reverseDrag=!0,this._verticalDrag=!0):this._dragger.hasClass("top-to-bottom")?(e.vertical=!0,this._verticalDrag=!0,this._reverseDrag=!1):this._dragger.hasClass("left-to-right")?(this._verticalDrag=!1,this._reverseDrag=!1):this._dragger.hasClass("right-to-left")&&(e.x=1,this._reverseDrag=!0,this._verticalDrag=!1),e},_getDragdealerOptions:function(){var e={animationCallback:this._animationCallback.bind(this),dragStopCallback:this._dragStopCallback.bind(this),snap:!1,slide:!1,steps:2,speed:.1,tapPauseTimeout:0,animationDuration:0};return e=this._getExtraDragdealerOptions(e)},_resetDragDealer:function(){this._dragDealer&&this._dragDealer.unbindEventListeners(),this._dragger&&this._dragger.remove(),e(".dragdealer",this._videoContainer)&&e(".dragdealer",this._videoContainer).remove()},_getDragElements:function(){this._dragger=e(".dragdealer",this._videoContainer),this._handleEl=e(".handle",this._dragger),this._endHandleInner=e(".handle-end .handle-end-inner",this._dragger),this._handleOuter=e(".handle .handle-outer",this._dragger),this._endHandleEl=e(".handle-end",this._dragger)},_showPlayButton:function(){if(!site.utils.isIOS()||site.utils.isIOS()&&!site.utils.isBreakpointSmall()){var t="play-button";this._lastPlayed&&(t+=" gone"),this._playButton=this._appendElement("div",t,this._videoContainer),this._playButton.click(function(t){this._videoEl.play();var i=e(t.target);i.addClass("gone"),setTimeout(function(){i.remove()},500)}.bind(this))}},_setupDrag:function(){if(this._resetDragDealer(),0===this.interactions[this._currentInteraction].images[this._imageSize].length)return this._showPlayButton(),this._noClick.css({zIndex:-1}),this._canvas.addClass("gone"),this._dragger=!1,this._videoFirst=!0,!1;var e=this._dragDealerTemplate.clone(),t=this._rotations[this.interactions[this._currentInteraction].rotation];e.addClass(t),(this._currentInteraction>0||this._lastPlayed)&&e.addClass("gone"),this._videoContainer.prepend(e),this._getDragElements(),this._dragDealer=new Dragdealer(this._dragger[0],this._getDragdealerOptions()),this._positionNoClick()},_positionNoClick:function(){var e,t,i,n,o=this._dragger.offset(),s=this.$element.offset(),r=o.left-s.left,a=o.top-s.top,l=this._dragger.width(),c=this._dragger.height(),u=this._handleEl.width(),d=this._handleEl.height();this._verticalDrag?(e=a+d,t=r,n=l,i=c-d):(e=a,t=r+u,n=l-u,i=c),this._reverseDrag&&this._verticalDrag?e=a:this._reverseDrag&&(t=r),this._noClick.css({top:e,left:t,width:n,height:i,zIndex:3})},_hideElements:function(){this._canvas.addClass("gone"),this._dragger&&this._dragger.addClass("gone")},_updateInfoSlide:function(){this._infoSlides.hide(),e(this._infoSlides[this._currentInteraction]).show(),site.utils.isBreakpointSmall()||this._centerInfoSlide()},_showInfoSlide:function(){e(this._infoSlidesContainer).removeClass("gone")},_showReverseElements:function(){this._reverseVideo.addClass("gone"),this._video.removeClass("gone"),this._updateInfoSlide()},_showForwardElements:function(){var e=0;this._lastPlayed&&(e=200),setTimeout(function(){this._dragger?(this._canvas.removeClass("gone"),this._dragger.removeClass("gone")):(!site.utils.isIOS()||site.utils.isIOS()&&!site.utils.isBreakpointSmall())&&this._playButton.removeClass("gone")}.bind(this),e)},_showElements:function(){this._showForwardElements()},_startVideo:function(){this._videoPlaying=!0,this._hideElements(),site.utils.isBreakpointSmall()||this._infoSlidesContainer.addClass("gone").removeClass("noTransition").css("opacity",""),this._currentInteraction<this.interactions.length-1?(this._nextInteraction(),this._setupDrag(),this._loadImage(this.interactions[this._currentInteraction].images[this._imageSize][0]),site.utils.isBreakpointSmall()||this._updateInfoSlide(),this._loadFiles()):(this._currentInteraction=0,this._lastPlayed=!0,this._setupDrag(),this._loadImage(this.interactions[this._currentInteraction].images[this._imageSize][0]),site.utils.isBreakpointSmall()||this._updateInfoSlide())},_videoPlay:function(){e(".next, .prev",this.$element).removeClass("inactive"),this._videoInitialised?this._startVideo():(this._videoEl.pause(),this._videoEl.currentTime=0,this._videoInitialised=!0,this.$element.addClass("videoInitialised"))},_checkLastPlayed:function(){return this._lastPlayed&&(this._videoContainer.addClass("gone"),setTimeout(function(){this._videoContainer.removeClass("gone"),this._lastPlayed=!1}.bind(this),1e3),this._isInsideTabbedContainer)?(this.$element.parents(".TabbedContainer").TabbedContainer("nextTab"),!0):!1},_videoEnded:function(){if(this._exitFullscreenFunc&&this._videoEl[this._exitFullscreenFunc](),!this._checkLastPlayed()){site.utils.isBreakpointSmall()&&this._updateInfoSlide(),this._videoPlaying=!1;var e=0;this._lastPlayed&&(e=1e3),setTimeout(function(){this._showInfoSlide()}.bind(this),e),setTimeout(function(){this._showElements()}.bind(this),e-150),0===e&&(e=200),setTimeout(function(){this._setVideo()}.bind(this),e),this._dragger&&this._dragger.css({opacity:1})}},_canPlay:function(){this._video.removeClass("gone"),this._videoEl.removeEventListener("canplay",this._canPlay)},_bindVideoEvents:function(){this._isFlyThrough?(this._videoEl.addEventListener("play",this._startFlythrough.bind(this)),this._videoEl.addEventListener("ended",this._endFlythrough.bind(this)),this._reverseVideoEl.addEventListener("play",this._startReverseFlythrough.bind(this)),this._reverseVideoEl.addEventListener("ended",this._endReverseFlythrough.bind(this))):(this._videoEl.addEventListener("play",this._videoPlay.bind(this)),this._videoEl.addEventListener("ended",this._videoEnded.bind(this)),this._videoEl.addEventListener("canplay",this._canPlay.bind(this)),this._videoEl.addEventListener("pause",function(){this._videoEl.currentTime!==this._videoEl.duration&&site.utils.isIOS()&&0!==this._videoEl.currentTime&&this._videoEnded()}.bind(this)))},_previousInteraction:function(){this._currentInteraction>0&&this._currentInteraction--},_nextInteraction:function(){this._currentInteraction||0===this._currentInteraction?this._currentInteraction++:this._currentInteraction=0,0===this._currentInteraction&&(this._setVideo(),this._loadFiles())},_setVideo:function(){this._videoEl.src=this._getVideo(),""!==this.interactions[this._currentInteraction].poster&&"undefined"!=typeof this.interactions[this._currentInteraction].poster?this._videoEl.poster=this.interactions[this._currentInteraction].poster:this._videoEl.removeAttribute("poster"),this._isFlyThrough&&(this._videoEl.poster=this._getPoster()),this._videoEl.playbackRate=this._videoSpeed,(site.utils.isIOS()||"undefined"!=typeof site.utils.getAndroidVersion())&&setTimeout(function(){}.bind(this),1e3)},_getPoster:function(){return this._isFlyThrough?this.interactions[this._currentInteraction].video+"-poster.jpg":this.interactions[this._currentInteraction].images[this._imageSize][this.interactions[this._currentInteraction].images[this._imageSize].length-1]},_getVideo:function(){return this.interactions[this._currentInteraction].video[this._videoExtension]},_resetElements:function(){this._element.width=0,this._element.height=0,this._element.offsetX=0,this._element.offsetY=0},_getPositions:function(e){this._element.width=Math.round(e.elementWidth),this._element.height=Math.round(e.elementHeight),this._element.offsetX=0,this._element.offsetY=0,e.elementWidth/e.ratio>e.elementHeight?(this._element.width=Math.round(e.elementWidth),this._element.height=Math.round(e.elementWidth/e.ratio),this._element.offsetY=Math.round((e.elementHeight-e.elementWidth/e.ratio)/2),this._element.offsetX=0):e.elementWidth/e.ratio<e.elementHeight&&(this._element.height=Math.round(e.elementHeight),this._element.width=Math.round(e.elementHeight*e.ratio),this._element.offsetX=Math.round((e.elementWidth-e.elementHeight*e.ratio)/2),this._element.offsetY=0)},_setVideoCss:function(){this._video.css({height:this._element.height,width:this._element.width,top:this._element.offsetY,left:this._element.offsetX}),this._isFlyThrough&&this._reverseVideo.css({height:this._element.height,width:this._element.width,top:this._element.offsetY,left:this._element.offsetX})},_calculatePositions:function(){this._currentWidth=t.innerWidth,this._currentHeight=t.innerHeight;var e=this._imageWidth/this._imageHeight,i=this._videoContainer.height(),n=this._videoContainer.width();this._isFlyThrough||(this._canvasEl.height=i,this._canvasEl.width=n),this._getPositions({elementWidth:n,elementHeight:i,ratio:e}),this._setVideoCss(),this._isFlyThrough||this._loadImage(this.interactions[this._currentInteraction].images[this._imageSize][0],!0),this._dragDealer&&(this._dragDealer.reflow(),this._getEndHandleCoords())},_getElements:function(){this._videoContainer=e(".video-container",this.$element),this._infoSlides=e(".info-slide",this.$element),this._infoSlidesContainer=e(".data-slides",this.$element),this._isFlyThrough?(this._prevButton=e(".prev",this._infoSlidesContainer),this._nextButton=e(".next",this._infoSlidesContainer)):this._dragDealerTemplate=e(".ddtemplate .dragdealer",this.$element)},_getVideoExtension:function(){var e=i.createElement("video"),n={webm:e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),mp4:e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")},o="1080";t.innerWidth<=360?o="360":t.innerWidth<=480?o="480":t.innerWidth<=720&&(o="720");for(var s in n)""!==n[s]&&(this._videoExtension="url"+o+s)},_appendElement:function(t,n,o,s){var r=i.createElement(t);if(null!==s&&"undefined"!=typeof s)for(var a in s)r[a]=s[a];return"undefined"!=typeof n&&null!==n&&(r.className=n),o.append(r),e(r)},_createVideo:function(){this._video=this._appendElement("video","forward",this._videoContainer),this._videoEl=this._video[0],this._isFlyThrough&&(this._reverseVideo=this._appendElement("video","reverse gone",this._videoContainer),this._reverseVideoEl=this._reverseVideo[0])},_createCanvas:function(){this._canvas=this._appendElement("canvas",null,this._videoContainer),this._canvasEl=this._canvas[0],this._context=this._canvasEl.getContext("2d")},_drawImage:function(e){this._context.clearRect(this._element.offsetX,this._element.offsetY,this._element.width,this._element.height),this._context.drawImage(e,this._element.offsetX,this._element.offsetY,this._element.width,this._element.height)},_loadImage:function(e,t){if("undefined"==typeof e)return!1;var i;"undefined"!=typeof t&&t===!0?(i=new Image,i.onload=function(){this._loadedImage=e,this._drawImage(i)}.bind(this),i.src=e):this._loadedImage!==e&&(i=new Image,i.onload=function(){this._loadedImage=e,this._drawImage(i)}.bind(this),i.src=e)},_destroy:function(){e(t).off("resize.gesturedvideo-"+this._uniqId),this._videoPlaying&&(this._videoEl.pause(),this._videoEl.currentTime=0)}};jQuery.createComponent("GesturedVideoSequence",n)}(jQuery,window,document),function(e,t,i){var n={_googleMapsJsUrl:"//maps.googleapis.com/maps/api/js?callback=site.gmapsLoaded",mapObject:!1,zoom:6,position:{lat:52.4480957,lng:-1.7214052},controls:!0,init:function(){return this._initEvents(),this._setData(),"object"==typeof google&&"object"==typeof google.maps?void this._initMap():void this.loadGoogleMaps()},_setData:function(){var e=["zoom","position","libraries","type","controls","scrollwheel","doubleclickzoom","clientid","apikey"];for(var t in e){var i=e[t],n=this.$element.data(i);"undefined"!=typeof n?this[i]=n:this[i]=null}},_initMap:function(){var e={center:this.position,zoom:this.zoom};null!==this.controls&&(e.disableDefaultUI=!this.controls),null!==this.doubleclickzoom&&(e.disableDoubleClickZoom=!this.doubleClickZoom),this.type&&(e.mapTypeId=google.maps.MapTypeId[this.type.toUpperCase()]),this.scrollwheel||(e.scrollwheel=!1),this.mapObject=new google.maps.Map(this.$element.get(0),e)},_initEvents:function(){this.$element.on("api:ready",this._initMap.bind(this))},loadGoogleMaps:function(){var e=i.createElement("script");this.libraries&&(this._googleMapsJsUrl+="&libraries="+this.libraries),this.clientid?this._googleMapsJsUrl+="&client="+this.clientid:this.apikey?this._googleMapsJsUrl+="&key="+this.apikey:""!==site.googleMapsClientId?this._googleMapsJsUrl+="&client="+site.googleMapsClientId:""!==site.googleMapsAPIKey&&(this._googleMapsJsUrl+="&key="+site.googleMapsAPIKey),e.type="text/javascript",e.src=this._googleMapsJsUrl,i.body.appendChild(e)},_drawRoutes:function(){},getMapObject:function(){return this.mapObject},_destroy:function(){}};jQuery.createComponent("GoogleMap",n)}(jQuery,window,document),function(e,t){var i={stickyNavigationActive:!1,fieldInFocus:!1,_$window:null,_$inPageNav:null,_reducedLayout:!1,init:function(){var i=this;i._$window=e(t),i._$inPageNav=e(".InPageNavigation"),i._setNavType(),i._setBodyPadding(),i._setNavHeight(!0),i._setNavPosition(),i._adjustHeaderOnSearchActiveForIOS(),i._$window.resize(function(){i.fieldInFocus||(i._setNavType(),i._setNavHeight(),i._setNavPosition(),i._setBodyPadding())}),i._$window.scroll(function(){i._setNavHeight(),i._setNavPosition()}),e("input, textarea").on("focus",function(){var e=site.utils.getBreakpointSize();"large"===e&&site.utils.isMobileDevice()&&"landscape"===site.utils.getDeviceOrientation()&&(i.$element.removeClass("stickyNavigation"),i.stickyNavigationActive=!1,i._setNavHeight(!1),i._setNavPosition(),i._setBodyPadding(),i.fieldInFocus=!0)}).on("blur",function(t){var n=site.utils.getBreakpointSize();"large"===n&&site.utils.isMobileDevice()&&"landscape"===site.utils.getDeviceOrientation()&&(i.$element.addClass("stickyNavigation"),i.stickyNavigationActive=!0,i._setNavHeight(!1),i._setNavPosition(),i._setBodyPadding(),i.fieldInFocus=!1,site.utils.scrollTo(e(t.target).offset().top-5))})},_setNavType:function(){var e=this,t=site.utils.getBreakpointSize();"large"===t&&site.stickyNavigationEnabled?(e.$element.addClass("stickyNavigation"),e.stickyNavigationActive=!0):(e.$element.removeClass("stickyNavigation"),e.stickyNavigationActive=!1)},_setNavHeight:function(e){var t=this,i=t._$window.scrollTop(),n=t.$element,o=i>site.stickyNavigationTransitionPoint;e="boolean"!=typeof e?!1:e,o&&!t._reducedLayout?(n.addClass("reducedStickyNavigation"),t._$window.trigger("stickyNavigationChange"),t._reducedLayout=!0):!o&&t._reducedLayout&&(n.removeClass("reducedStickyNavigation"),t._$window.trigger("stickyNavigationChange"),t._reducedLayout=!1),0===i||e?n.addClass("notransition"):n.removeClass("notransition")},_setNavPosition:function(){var e=this;if(e._$inPageNav.length>0&&e._isFixedHeader()){var t="";if(e._$inPageNav.first().is(":visible")){var i=e._$window.scrollTop(),n=e.$element.offset().top-i,o=n+e.$element.outerHeight(),s=e._$inPageNav.first().offset().top-i;t=n+(s-o),t=t>0?0:t,t+="px"}e.$element.css("top",t)}},_setBodyPadding:function(){var t=this,i=0;t._isFixedHeader()&&(i=site.utils.getStickyNavHeight(0)),e("body").css("padding-top",i)},_adjustHeaderOnSearchActiveForIOS:function(){if(site.utils.isIOS()&&site.stickyNavigationEnabled){var t=this.$element,i=e(".searchText",t);i.on("focus",function(){t.addClass("searchActive")}),i.on("blur",function(){t.removeClass("searchActive")})}},_isFixedHeader:function(){var e=this;return"fixed"===e.$element.css("position")}};jQuery.createComponent("Header",i)}(jQuery,window,document),function(e,t){var i={_defaults:{onAtSmallBreakpoint:!1},uiSelectors:{headerBoxContent:".headerBoxContent",headerBoxWidthElements:".headingTextMain, .headingTextSub .subtitle, .headingTextSub .price, .primaryLinkWithStyle, .secondaryLinkContainer, .caveat, .bodyText, .totalCost, .bodyText",headingTextMain:".headingTextMain",totalCostElement:".totalCost"},_widestElementWidth:0,_resizeBound:null,init:function(){this._checkTotalCostPriceWidth(),this._checkOnlyHasPrimaryHeading(),this._resizeHeaderBox(),this._resizeBound=this._resizeHeaderBox.bind(this),e(t).on("resize",this._resizeBound)},_checkOnlyHasPrimaryHeading:function(){1===this.$element.children().length&&this.$element.find(".primaryHeading")&&this.$element.addClass("onlyHasPrimaryHeading")},
_onResize:function(){t.requestAnimationFrame(this._resizeHeaderBoxes.bind(this))},_resizeHeaderBox:function(){var e="small"!==site.utils.getBreakpointSize();if(this.$element.css("width","auto").removeClass("maxWidthOff"),this.options.onAtSmallBreakpoint||e){var t=2*parseInt(this.ui("headerBoxContent").css("padding-left"),10);this._widestElementWidth=0,this.ui("headerBoxWidthElements").each(this._getWidestElementWidth.bind(this)),this.$element.css("width",this._widestElementWidth+t),this.ui("headingTextMain").width()+t/2>this.$element.width()&&this.$element.addClass("maxWidthOff")}},_getWidestElementWidth:function(t,i){var n,o=e(i),s=o.hasClass("primaryLinkWithStyle")||o.hasClass("headerBoxDontInline");s||o.css("display","inline"),n=o.outerWidth()+1,s||o.css("display",""),this._widestElementWidth=n>this._widestElementWidth?n:this._widestElementWidth},_checkTotalCostPriceWidth:function(){var e=this.ui("totalCostElement");if(0!==e.length){var t=this.$element.find(".number")[0]||{},i=t.innerHTML||"",n=this.$element.find(".currency")[0]||{},o=n.innerHTML||"",s=site.utils.measureTextWidth(i+o,t);s>160&&e.removeClass("headerBoxDontInline").addClass("stacked")}},removeEvents:function(){e(t).off("resize",this._resizeBound)}};jQuery.createComponent("HeaderBox",i)}(jQuery,window,document),function(e,t){var i={_initiated:!1,uiSelectors:{headingWrapper:".headingWrapper",headingTextMain:".headingTextMain"},init:function(){this._initiated||(this._layout(),this.linearLines(),e(t).smartresize(this.linearLines.bind(this)),this._initiated=!0)},_layout:function(){if(!this.ui("headingTextMain").length){var t=e('<span class="headingTextMain"/>');this.ui("headingWrapper").wrapInner(t),this.uiElements.headingTextMain=e(".headingTextMain",this.$element)}this.ui("headingTextMain").css("display","inline")},linearLines:function(){this.ui("headingWrapper").css("width","auto"),"small"!==site.breakpoints.current&&""!==e.trim(this.ui("headingWrapper").text())&&this.ui("headingWrapper").width(this.ui("headingTextMain").width()+1)}};jQuery.createComponent("Headings",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},_slider:null,_$currentSlide:null,_$subnav:e(".SubNavigation"),_bottomOfHero:0,_scrollTimer:null,_offScreen:!1,_interactionTimer:null,_$window:e(t),_pageWidth:0,_tallest:0,_orientation:"portrait",_userInteracting:!1,_slideTimer:null,_firstVideo:null,_videoUsesFlash:!1,_singleItemCarousel:!1,_userInteracted:!1,_direction:"slideFromRight",_transistionSpeed:600,videoMute:!1,playCount:0,Odometer:!1,_totalCostElements:{},_totalCostDefaultElementId:!1,_totalCostTallestElementHeight:0,_totalCostLastPrice:!1,uiSelectors:{totalCostContainer:".totalCostContainer",headerBoxContent:".headerBoxContent",deepLinkable:".primaryLinkContainer, .secondaryLinkContainer",heroItems:".heroItem",pagination:".rsNav"},init_rtl:function(){this._direction="slideFromLeft"},init:function(){this._totalCostInitiateBehaviour(),this._$window.smartresize(this._resizeSlide.bind(this,!1)),this._$window.on("HeroCarouselForceResize",this._resizeSlide.bind(this,!0)),"undefined"!==this.$element.data("total")?"1"===String(this.$element.data("total"))?(this._singleItemCarousel=!0,this._$currentSlide=this.ui("heroItems").first(),this._setupSlideComponents(),this._resizeSlide(!0),this._$window.trigger("resize"),this.$element.addClass("loaded")):(this._initGallery(),this._onSlideChanged()):this._initGallery(),e("html").hasClass("lt-ie9")?this._resizeSlide(!0):(this._$window.scroll(this._onScroll.bind(this)),this._onScroll()),this._$window.on("fullscreenOpened overlayOpened",{that:this},this._pauseCarousel),this._$window.on("fullscreenClosed overlayClosed",{that:this},this._playCarousel),this._is_firefox=navigator.userAgent.indexOf("Firefox")>-1,this._is_safari=!1,-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(this._is_safari=!0)},_beforeSlideChanged:function(){this._destroySlideComponents();var t=e(".VideoPlayer",this._$currentSlide);t.length&&t.VideoPlayer("pause")},_onSlideChanged:function(){e(".linkContainer a",this._$currentSlide).off("click tap mouseenter mouseleave"),null!==this._$currentSlide&&this._$currentSlide.removeClass("current");var i=e(".VideoPlayer",this._$currentSlide);1===i.length&&(i.off("videoEnded"),i.VideoPlayer("pause"),t.setTimeout(function(){i.VideoPlayer("rewind")},this._transistionSpeed)),this._$currentSlide=e(this._slider.currSlide.holder),this._$currentSlide.addClass("current"),e(".heroContent",this.$element).removeClass("visible"),e(".linkContainer a",this._$currentSlide).on("click tap",function(e){e.stopPropagation()}),this._setupSlideComponents(),this._hoverOverCTAs(),this._resizeSlide(!0),this._$window.trigger("resize"),setTimeout(function(){this._resizeSlide(!0),this._$window.trigger("resize")}.bind(this),1e3),this._updateSlideLinks(),this.$element.CursorAnimateRotate("refreshSelectors"),this._slider&&this._totalCostMobileTransition(this._slider.currSlideId)},_initGallery:function(){var i=this;this._$window.width()<=site.breakpoints.small&&this.ui("heroItems").each(function(){var t=e(this);t.height()>i._tallest&&(i._tallest=t.height())});var n=0;"slideFromLeft"===this._direction&&(n=this.$element.data("total")-1);var o={arrowsNav:!1,loop:!0,keyboardNavEnabled:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,autoHeight:!1,autoScaleSlider:!0,autoScaleSliderWidth:0,autoScaleSliderHeight:0,slidesSpacing:0,imgWidth:"100%",imgHeight:"100%",sliderDrag:!0,controlNavigation:"tabs",thumbsFitInViewport:!1,navigateByClick:!1,startSlideId:n,autoPlay:{enabled:!1},transitionType:"move",numImagesToPreload:1,transitionSpeed:this._transistionSpeed};site.inXPM&&(o.loop=!1,o.numImagesToPreload=100),e(".royalSlider",this.$element).royalSlider(o),this._initGalleryPagination(),setTimeout(function(){t.richsponsiveImage()},50),setTimeout(function(){this._resizeSlide(!0),this._$window.trigger("resize"),t.richsponsiveImage()}.bind(this),2e3),this._slider=e(".royalSlider",this.$element).data("royalSlider"),this._slider.ev.on("rsBeforeAnimStart",function(){this._$currentSlide.index()!==e(this._slider.currSlide.holder).index()&&this._beforeSlideChanged()}.bind(this)),this._slider.ev.on("rsAfterSlideChange",function(){t.richsponsiveImage(),this._$currentSlide.index()!==e(this._slider.currSlide.holder).index()&&this._onSlideChanged()}.bind(this)),e(".rsNavItem",this.$element).on("click",function(){this._userFinishedInteraction()}.bind(this)),this._slider.ev.on("rsDragRelease",function(){var t=e(".VideoPlayer",this._$currentSlide);1===t.length&&this._is_safari===!1&&this._is_firefox===!1&&t.VideoPlayer("play"),this._userFinishedInteraction()}.bind(this)),this._slider.ev.on("rsDragStart",function(){var t=e(".VideoPlayer",this._$currentSlide);1===t.length&&this._is_safari===!1&&this._is_firefox===!1&&t.VideoPlayer("pause")}.bind(this)),this._slider.ev.on("rsSlideClick",function(){var i=e(".VideoPlayer",this._$currentSlide),n="ontouchstart"in t||navigator.msMaxTouchPoints;n||site.inXPM||(this.$element.hasClass("left")?(this._cancelSlideTo(),this._is_safari===!1&&this._is_firefox===!1&&i.VideoPlayer("pause"),this._slider.prev()):this.$element.hasClass("right")&&(this._cancelSlideTo(),this._is_safari===!1&&this._is_firefox===!1&&i.VideoPlayer("pause"),this._slider.next()))}.bind(this)),this._initialiseSlides(),this._addKeyboardNavigation();var s="ontouchstart"in t||navigator.msMaxTouchPoints;s||site.inXPM||i.$element.CursorAnimateRotate()},_initGalleryPagination:function(){var t,i=this,n=e(".royalSlider",this.$element),o=e(".rsNavItem",n),s=o.length;o.each(function(n){var o=e(this);t="slideFromLeft"===i._direction?s-n:n+1,o.html(t)})},_initialiseSlides:function(){this._resizeSlide(!0),this._$window.trigger("resize"),this._$currentSlide=e(this._slider.currSlide.holder),this._$currentSlide.addClass("current"),e(".linkContainer a",this._$currentSlide).on("click tap",function(e){e.stopPropagation()}),this._hoverOverCTAs(),this._setupSlideComponents(),this._resizeSlide(!0),this._$window.trigger("resize"),setTimeout(function(){this._$currentSlide.waitForImages(function(){this._resizeSlide(!0),this._$window.trigger("resize"),this._slider.updateSliderSize(!0)}.bind(this))}.bind(this),200)},_hoverOverCTAs:function(){var t=this;e(".linkContainer a, .playButton",this._$currentSlide).on("mouseenter",function(){t._userInteracting=!0,t._cancelSlideTo()}).on("mouseleave",function(){t._userInteracting=!1;var i=e(".VideoPlayer",t._$currentSlide);1===i.length?t._slideToNextIn(3e4):t._slideToNextIn(1e4)})},_onScroll:function(){var t=this;t._scrollTimer||(t._scrollTimer=setTimeout(function(){clearTimeout(t._scrollTimer),t._scrollTimer=null;var i=e(".VideoPlayer video",this._$currentSlide),n=1-t._$window.scrollTop()/1e3*2;i.length>0&&n>0&&!t.videoMute&&(i[0].volume=n),t._$window.scrollTop()>=t._bottomOfHero?t._offScreen===!1&&(t.$element.addClass("offScreen"),t.$element.append('<div class="disable"></div>'),e(".disable",t.$element).transit({opacity:.6},400),e(".VideoPlayer",t._$currentSlide).VideoPlayer("mute",!0),t._pauseCarousel(),t._offScreen=!0,t.videoMute=!0,e(".playButton",t.$element).addClass("played")):t._offScreen!==!0||site.fullScreenMode||(t.$element.removeClass("offScreen"),t._offScreen=!1,t.playCount||(t.videoMute=!1),e(".disable",t.$element).transit({opacity:0},400,function(){this.remove(),t._playCarousel()}))},250))},_slideToNextIn:function(t){var i=this;site.inXPM||null!==i._slider&&(clearTimeout(i._slideTimer),0===e(".disable",i.$element).length&&(i._slideTimer=setTimeout(function(){"slideFromRight"===i._direction?i._slider.next():i._slider.prev()},t)))},_cancelSlideTo:function(){var e=this;null!==e._slider&&clearTimeout(e._slideTimer)},_resizeSlide:function(i){var n=this;if(i===!1&&this._$window.width()===this._windowWidth)return!1;var o;this._windowWidth=this._$window.width(),site.utils.isPageInIframe()?(this._windowHeight=450,o=450):(this._windowHeight=this._$window.height(),o=t.innerHeight?t.innerHeight:this._windowHeight);var s=0;this._windowWidth>=site.breakpoints.medium?(s=o-this.$element.offset().top,s>450&&this.$element.css("height",s)):this.$element.removeAttr("style"),null!==this._slider&&this._slider.updateSliderSize(),this._bottomOfHero=(this.$element.offset().top+this.$element.outerHeight())/2,this._windowWidth>this._windowHeight?"portrait"===this._orientation&&(this._orientation="landscape",this._tallest=0):"landscape"===this._orientation&&(this._orientation="portrait",this._tallest=0),this._windowWidth<=site.breakpoints.small?(e(".rsContainer",this.$element).css({height:"100%"}),this.ui("heroItems").each(function(){var t=e(this);t.height()>n._tallest&&(n._tallest=t.height())}),e(".rsContainer",this.$element).css({height:n._tallest})):e(".rsContainer",this.$element).css({height:"100%"}),this._videoSize(),setTimeout(function(){n.$element.addClass("loaded")},100),this._totalCostSetElementHeight(),this._slider&&this._totalCostPaginationOverlapCheck(this._slider.currSlideId)},_userFinishedInteraction:function(){this._userInteracted=!0,this._cancelSlideTo()},_destroySlideComponents:function(){this._$currentSlide.find(".headerBox").HeaderBox("removeEvents").HeaderBox("destroy")},_setupSlideComponents:function(){var i=this,n=e(".VideoPlayer",this._$currentSlide),o=e(".heroContent",this._$currentSlide),s=n.data("audio");if("undefined"!==s&&(s=!s),this._$currentSlide.find(".headerBox").HeaderBox(),1===n.length){var r="ontouchstart"in t||navigator.msMaxTouchPoints;if(r)return e(".heroItem > .image",this._$currentSlide).show(),n.remove(),this._resizeSlide(!0),this._$window.trigger("resize"),this._slideToNextIn(7e3),void this._noVideoInteraction();if(this._autoplayDisabled=!0,this._cancelSlideTo(),this._slideToNextIn(3e4),null===this._firstVideo||this._firstVideo===this._$currentSlide.index())this._firstVideo=this._$currentSlide.index(),n.VideoPlayer({autoplay:!0,controls:[],loop:!1,muted:s,clickToPlayPause:!1,pauseOtherPlayers:!1,onCanPlay:function(e){(n.parents(".rsSlide")[0]===this._$currentSlide[0]||this._singleItemCarousel===!0)&&o.addClass("visible"),"flash"===e.pluginType&&(this._videoUsesFlash=!0)}.bind(this)});else{if(this._videoUsesFlash!==!1)return e(".heroItem > .image",this._$currentSlide).show(),n.remove(),this._resizeSlide(!0),this._$window.trigger("resize"),void this._slideToNextIn(7e3);n.VideoPlayer({autoplay:!0,controls:[],loop:!1,muted:s,pauseOtherPlayers:!1,clickToPlayPause:!1,onCanPlay:function(){(n.parents(".rsSlide")[0]===i._$currentSlide[0]||i._singleItemCarousel===!0)&&o.addClass("visible")}})}n.VideoPlayer("canBeResumed")===!0&&o.addClass("visible"),n.VideoPlayer("play"),n.off("videoEnded").on("videoEnded",function(){i._videoComplete()}),this._videoMute()}else this._noVideoInteraction()},_videoComplete:function(){var t=this,i=e(".VideoPlayer",t._$currentSlide),n=e(".playButton",t.$element);n.addClass("played"),t.playCount=1,e(".VideoPlayer",t._$currentSlide).VideoPlayer("mute",!0),t._userInteracting===!1&&(t._singleItemCarousel?i.VideoPlayer("play"):t._slideToNextIn(1))},_noVideoInteraction:function(){var t=this,i=e(".heroContent",t._$currentSlide);i.addClass("visible"),t._userInteracted===!1?t._slideToNextIn(7e3):(t._slideToNextIn(1e4),t._userInteracted=!1)},_videoSize:function(){var t=e("video",this.$element),i=t.outerWidth(),n=t.outerHeight(),o=e(this.$element),s=i/n,r=0;null!==o&&(r=o.width());var a=0;null!==o&&(a=o.height());var l=r/a;s>l?t.height(a).width("auto").removeClass("is-vertical").addClass("is-horizontal").css("marginTop",0).css("marginLeft",-(i/2|0)):l>s?t.width(r).height("auto").removeClass("is-horizontal").css("marginLeft",0).addClass("is-vertical").css("marginTop",-(n/2|0)):t.width("100%").height("auto").removeClass("is-horizontal").removeClass("is-vertical").css("margin",0)},_videoMute:function(){var t=this,i=e(".playButton",t.$element);e(".VideoPlayer",t._$currentSlide),i.off("click tap").on("click tap",function(e){e.stopPropagation(),e.preventDefault(),i.hasClass("soundOn")?(t._videoFadeAudio(!1),i.removeClass("soundOn").removeClass("icon-sound-on").addClass("icon-sound-off"),t.videoMute=!0,t._$window.trigger("HeroCarousel:mute",[!0])):(i.hasClass("played")||t._videoFadeAudio(!0),t.videoMute=!1,i.addClass("soundOn").removeClass("icon-sound-off").addClass("icon-sound-on"),t._$window.trigger("HeroCarousel:mute",[!1]))})},_videoFadeAudio:function(t){var i=this,n=e(".VideoPlayer",i._$currentSlide),o=n.VideoPlayer("getVolume"),s=t?0:o,r=t?100:0,a={vol:s};e(a).animate({vol:r},{duration:1e3,step:function(e){n.VideoPlayer("setVolume",e)}})},_addKeyboardNavigation:function(){var t=this,i=t._slider,n=e(".royalSlider",t.$element);n.attr("tabindex","0"),n.keydown(function(e){39===e.keyCode?(i.next(),n.focus(),t._updateSlideLinks()):37===e.keyCode&&(i.prev(),n.focus(),t._updateSlideLinks())}),this._updateSlideLinks()},_updateSlideLinks:function(){var t=this,i=this._slider,n=(e(".royalSlider",this.$element),e(".rsSlide",this.$element)),o=i.currSlide.content;e("a",n).attr("tabindex","-1"),e("a",o).attr("tabindex",""),e(".ResponsiveLink").ResponsiveLink(),e(".TargetLinks").TargetLinks("setupListener"),this.ui("deepLinkable").find("a").bind("click tap",function(e){t._checkDeepLink(this,e)})},_pauseCarousel:function(t){var i=this;if("undefined"!=typeof t&&(i=t.data.that),i._offScreen!==!0){var n=e(".VideoPlayer",i._$currentSlide);1===n.length&&n.VideoPlayer("pause"),setTimeout(function(){i._cancelSlideTo(),n=e(".VideoPlayer",i._$currentSlide),1===n.length&&n.VideoPlayer("pause")},200)}},_playCarousel:function(t){var i=this;if("undefined"!=typeof t&&(i=t.data.that),i._offScreen!==!0){var n=e(".VideoPlayer",i._$currentSlide);1===n.length?(i.videoMute&&n.VideoPlayer("mute",!0),n.VideoPlayer("play")):i._slideToNextIn(7e3)}},_checkDeepLink:function(t,i){var n=e(t).attr("href"),o=site.utils.checkDeepLink(n);o&&i.preventDefault()},_totalCostInitiateBehaviour:function(){this.ui("heroItems").each(function(t,i){var n=e(i),o=n.find(".totalCost").first();if(o.length){this._totalCostElements[t]={el:o,underlay_el:!1,faded_out:!1};var s=o.outerHeight(),r=o.data();s>this._totalCostTallestElementHeight&&(this._totalCostTallestElementHeight=s),r&&r.default_el===!0&&(this._totalCostDefaultElementId=t)}}.bind(this)),this._totalCostDefaultElementId!==!1?this.ui("totalCostContainer").html(this._totalCostElements[this._totalCostDefaultElementId].el.html()).css("height",this._totalCostTallestElementHeight):this.ui("totalCostContainer").css("visibility","hidden")},_totalCostSetElementHeight:function(){var t;if(this._$window.width()>site.breakpoints.small||0===Object.keys(this._totalCostElements).length){for(t in this._totalCostElements)this._totalCostElements[t].el.css("min-height","");return void this.ui("headerBoxContent").css("min-height","")}var i=0;for(t in this._totalCostElements){var n=this._totalCostElements[t].el,o=n.height(),s=n.outerHeight();s>this._totalCostTallestElementHeight&&(this._totalCostTallestElementHeight=s),o>i&&(i=o)}for(t in this._totalCostElements)this._totalCostElements[t].el.css("min-height",i);var r=0;this.ui("headerBoxContent").each(function(t,i){var n=e(i);n.outerHeight()>r&&(r=n.outerHeight())}),this.ui("headerBoxContent").css("min-height",r),this.ui("totalCostContainer").css("height",this._totalCostTallestElementHeight)},_totalCostMobileTransition:function(e){if(!(this._$window.width()>site.breakpoints.small||0===Object.keys(this._totalCostElements).length)){var t=this._totalCostDefaultElementId,i=this.ui("totalCostContainer");this._totalCostElements[e]&&e!==this._totalCostDefaultElementId&&(t=e),i.css("height",this._totalCostTallestElementHeight);var n=this._totalCostElements[t].el.find(".number").html()||"",o=this._totalCostElements[t].el.find(".infoColumn").html()||"",s=i.find(".number"),r=i.find(".infoColumn"),a=(s.html(),r.html()),l=/\d+\.*(?!\d{3})\d*/g,c=!1,u="";if(-1!==n.indexOf(",")?u=",":-1!==n.indexOf(".")&&(u="."),n&&null!==n.match(l)&&(c=parseInt(n.match(l).join(""),10)),this._totalCostLastPrice===!1&&(this._totalCostLastPrice=c),o!==a||this._totalCostLastPrice!==c){var d="fadeIn",h="fadeOut",p=1e3;c===!1&&(d+=" thirdspeed",h+=" thirdspeed",p=300),r.removeClass(d).addClass(h),setTimeout(function(){r.html(o).removeClass(h).addClass(d)},p),c!==!1&&(s.html(n),this._totalCostLastPrice=c)}}},_totalCostPaginationOverlapCheck:function(e){var n=this._totalCostElements[e];if(n&&!(t.innerWidth<=site.breakpoints.small)&&0!==n.el){var o=n.el,s=o.outerHeight(),r=this._slider.slides[e].content.find(".headerBox"),a=s+o.offset().top,l=this.ui("pagination").offset().top-10;if(a>l){if(n.underlay_el===!1&&o.find(".priceColumn").length>0){var c=i.createElement("div");c.className="totalCostUnderlay headerBoxDontInline",c.innerHTML=o.html(),r.append(c),n.underlay_el=c}n.faded_out===!1&&(r.addClass("fadedOut"),n.faded_out=!0)}else n.faded_out===!0&&(r.removeClass("fadedOut"),n.faded_out=!1);n.underlay_el&&(n.underlay_el.style.top="-"+s+"px")}}};jQuery.createComponent("HeroCarousel",n)}(jQuery,window,document),function(e){var t={uiSelectors:{headerBox:".headerBox",deepLinkable:".primaryLinkContainer, .secondaryLinkContainer"},init:function(){var e=this,t=!this.$element.hasClass("tall");this.ui("headerBox").hasClass("withImage")&&this.ui("headerBox").HeaderBox({onAtSmallBreakpoint:t}),this.ui("deepLinkable").find("a").bind("click tap",function(t){e._checkDeepLink(this,t)})},_checkDeepLink:function(t,i){var n=e(t).attr("href"),o=site.utils.checkDeepLink(n);o&&i.preventDefault()}};jQuery.createComponent("HeroTitleBanner",t)}(jQuery,window,document),function(e,t){var i={_defaultHotspotWidth:50,_defaultHotspotHeight:50,_defaults:{},uiSelectors:{backgroundImage:"> span",hotspotGrid:".hotspot-grid",hotspots:".hotspot"},init:function(){var i=this.$element.data();i.grid?this._isGrid=!0:this._isGrid=!1,this._columns=i.columns,this._rows=i.rows,this._aspectRatio=i.aspectHeight/i.aspectWidth,this.ui("backgroundImage").css("padding-bottom",100*this._aspectRatio+"%"),this._isGrid?(this._updateHotspotGrid(),this._updateHotspots()):this._drawHotspots(),this._bindHotspotEvents(),this.ui("hotspots").show(),i.debug===!0&&this._showGrid(),e(t).smartresize(function(){this._isGrid?(this._updateHotspotGrid(),this._updateHotspots()):this._drawHotspots(),i.debug===!0&&this._showGrid()}.bind(this))},_bindHotspotEvents:function(){e(".hotspot-overlay").click(function(){e(this).css({opacity:0}),setTimeout(function(){e(this).css({zIndex:0}),e(".selected").removeClass("selected")}.bind(this),400)}),this.ui("hotspots").each(function(t,i){e(i).click(function(t){e(this).hasClass("selected")||(t.stopPropagation(),t.preventDefault(),e(".hotspot-overlay").css({zIndex:3,opacity:1}),e(this).addClass("selected"))})})},_drawHotspots:function(){this.ui("hotspots").each(function(t,i){var n=e(i),o=parseInt(n.data("y"),10),s=parseInt(n.data("x"),10),r=n.data("height")||this._defaultHotspotHeight,a=n.data("width")||this._defaultHotspotWidth,l={h:1125,w:2e3},c=this.$element.height()/l.h,u=this.$element.width()/l.w;console.log(c,u),console.log(o-r/2*c,s-a/2*u),n.css({height:r,width:a,top:o*c-r/2,left:s*u-a/2})}.bind(this))},_updateHotspots:function(){this.ui("hotspots").each(function(t,i){var n=e(i),o=parseInt(n.data("row"),10)-1,s=parseInt(n.data("column"),10)-1,r=n.data("height")||this._defaultHotspotHeight,a=n.data("width")||this._defaultHotspotWidth;o>=0&&o<this._rows&&s>=0&&s<this._columns?n.css({height:r,width:a,top:this._oneCellHeight*o+(this._oneCellHeight/2-r/2),left:this._oneCellWidth*s+(this._oneCellWidth/2-a/2)}):n.remove()}.bind(this))},_updateHotspotGrid:function(){this._windowWidth=this.$element.width(),this._elementHeight=this._windowWidth*this._aspectRatio,this._oneCellWidth=this._windowWidth/this._columns,this._oneCellHeight=this._elementHeight/this._rows},_showGrid:function(){if(this._isGrid){this.$element.find(".grid").remove(),this.ui("hotspotGrid").append('<div class="grid"></div>');for(var t=0;t<this._rows;t++)for(var i=0;i<this._columns;i++){var n=e("<div>Col: "+(i+1)+"<br/>Row: "+(t+1)+"</div>");n.css({width:this._oneCellWidth,height:this._oneCellHeight,"z-index":2,position:"absolute",left:this._oneCellWidth*i,top:this._oneCellHeight*t}),this.$element.find(".grid").append(n)}}else this.$element.addClass("debug"),0===e(".coords").length&&this.ui("hotspotGrid").append('<div class="coords"></div>'),this.ui("hotspotGrid").mousemove(function(t){e(".coords").html(t.offsetX+","+t.offsetY)}.bind(this))},_destroy:function(){}};jQuery.createComponent("Hotspots",i)}(jQuery,window,document),function(){var e={init:function(){this.$element.HubLayout().HubFiltersController()}};jQuery.createComponent("Hub",e)}(jQuery,window,document),function(e,t,i){var n={_defaults:{listOptions:{valueNames:["itemCategory","itemNameplate",{data:["tag"]}]}},uiSelectors:{hubItemsWrapper:".hubItemsWrapper",hubItemsList:".hubItemsList"},_filterState:null,list:null,model:null,view:null,filterParams:{},init:function(){var t=e.Deferred();this.clearStorage(),this.filterParams=this.setFilterParams(["itemCategory","itemNameplate","itemTag"]),this.$element.HubFiltersModel(),this.model=this.$element.HubFiltersModel.bind(this.$element),this._filterState=this.model("buildFilterState",this.$element,this.filterParams),this.view=this.$element.HubFiltersView.bind(this.$element),this.initList(t),this.$element.HubFiltersView({controller:this}),t.done(this._attachEvents.bind(this))},initList:function(t){var i;e.ajax({url:"?ajax=true"}).done(function(n){i=e(n).find(".hubItem"),this.ui("hubItemsList").append(i),this.list=new List(this.ui("hubItemsWrapper").get(0),this.options.listOptions),t.resolve(),this.$element.HubInfinite(),this.view("updateCounter",this.view("getHubItemsOnPage"),"hubHeaderCounter"),this.$element.HubLayout("onResize"),this.$element.HubLayout("loadImages"),e.isEmptyObject(this.filterParams)===!1&&(this.filterOrCount(null,null,!1,this._filterState),this.view("setIntialUIState",this._filterState),this.view("scrollToHub"))}.bind(this))},setFilterParams:function(e){var t={};return e.length>0&&e.map(function(e){site.utils.getUrlParameter(e)&&(t[e]=decodeURIComponent(site.utils.getUrlParameter(e)),this.setSession(e,t[e]))}.bind(this)),t},_attachEvents:function(){this.list.on("filterComplete",this._filterComplete.bind(this)),t.onpopstate=this.historyPopState.bind(this)},historyPopState:function(){this._filterState=this.model("buildFilterState",this.$element,this.filterParams),this.filterOrCount(null,null,!1,this._filterState)},filterOrCount:function(e,t,i,n){var o,s;if(e&&(this._filterState=this.model("updateFilterState",e,t,this._filterState)),o=this.model("getActiveFilters",this._filterState),s=this.model("filterOrCount",i,o,this.list),this.view("updateCounter",s,"hubResultsCounter"),i)JSON.stringify(n)===JSON.stringify(this._filterState)||0===s?this.view("inactivateFilter"):this.view("activateFilter");else{if(JSON.stringify(n)!==JSON.stringify(this._filterState)){var r=this.buildFilterQueryString(this._filterState);this.addQueryString(r)}this.$element.HubInfinite("initEnquire"),this.view("updateCounter",s,"hubHeaderTotalCounter"),this.view("updateCounter",this.view("getHubItemsOnPage"),"hubHeaderCounter"),this.$element.HubLayout("onResize"),this.$element.HubLayout("loadImages")}},_filterComplete:function(){this.view("filterComplete"),this.$element.trigger("HubFiltersController:filter_change",{filterState:this._filterState})},getFilterState:function(){return JSON.parse(JSON.stringify(this._filterState))},buildFilterQueryString:function(e){var t="";if(this.clearStorage(),"object"!=typeof e)return t;for(var i in e){var n="",o="";for(var s in e[i])e[i][s]===!0&&(n+=n?","+s:i+"="+s,o+=o?","+s:s);n&&(t+=t?"&"+n:n,this.setSession(i,o)),n="",o=""}return t},addQueryString:function(e){var n=i.location.href.split("?")[0];return n=site.utils.addParameterToURL(n,e),t.history.pushState&&t.history.pushState({path:n},"",n),n},setSession:function(e,t){sessionStorage.setItem(e,t)},clearStorage:function(){sessionStorage.removeItem("itemNameplate"),sessionStorage.removeItem("itemTag"),sessionStorage.removeItem("itemCategory")}};jQuery.createComponent("HubFiltersController",n)}(jQuery,window,document),function(e,t,i,n){var o={init:function(){},buildFilterState:function(t,i){var o={itemCategory:{},itemNameplate:{},itemTag:{}},s=i.itemCategory===n?null:i.itemCategory,r=i.itemTag===n?null:i.itemTag,a=i.itemNameplate===n?null:i.itemNameplate,l=a?a.split(","):a,c=r?r.split(","):r;return t.find(".hubCategoryButton:not(.buttonReset)").each(function(t,i){var n=e(i).text();o.itemCategory[n]=s===n?!0:!1}),t.find(".hubFilterButton").each(function(t,i){var n=e(i),s=n.text(),r=!1;(e.inArray(s,l)>-1||e.inArray(s,c)>-1)&&(r=!0),o[n.data("filter-type")][s]=r}),o},filterOrCount:function(t,i,n){var o;if(t){var s=e.grep(n.items,this._filterMethod.bind(this,i));o=s.length}else n.filter(this._filterMethod.bind(this,i)),o=n.matchingItems.length;return o},updateFilterState:function(t,i,n){return"itemCategory"===t&&e.each(n,function(t,i){e.each(i,function(e){i[e]=!1}.bind(this))}.bind(this)),t&&i&&(n[t][i]=!n[t][i]),"itemCategory"===t||i||e.each(n[t],function(e){n[t][e]=!1}.bind(this)),n},getActiveFilters:function(e){var t={};for(var i in e.itemCategory)if(e.itemCategory[i]===!0){t.itemCategory=i;break}for(var n in e.itemNameplate)e.itemNameplate[n]===!0&&(t.itemNameplate=t.itemNameplate||[],t.itemNameplate.push(n));for(var o in e.itemTag)e.itemTag[o]===!0&&(t.itemTag=t.itemTag||[],t.itemTag.push(o));return t},_filterMethod:function(e,t){var i="undefined"!=typeof e.itemCategory,n="undefined"!=typeof e.itemNameplate,o="undefined"!=typeof e.itemTag,s=!i,r=!n,a=!o;if(i&&e.itemCategory===t.values().itemCategory&&(s=!0),n)for(var l=0,c=e.itemNameplate.length;c>l;l++)if(e.itemNameplate[l]===t.values().itemNameplate){r=!0;break}if(o)for(var u=0,d=e.itemTag.length;d>u;u++)if("string"==typeof t.values().tag&&t.values().tag.indexOf(e.itemTag[u])>=0){a=!0;break}return s&&r&&a}};jQuery.createComponent("HubFiltersModel",o)}(jQuery,window,document),function(e,t,i,n){var o={_defaults:{filterTransitionDuration:600,controller:null},_$html:e("html"),_$window:e(t),_$body:e("html, body"),uiSelectors:{hubItem:".hubItem",hubFilterButton:".hubFilterButton",hubCategoryButton:".hubCategoryButton",hubCategoryButtonReset:".hubCategoryButton.buttonReset",hubCategoryButtonCategory:".hubCategoryButton.buttonCategory",hubResults:".hubResults",hubResultsCounter:".hubResultsCounter",hubResultsButton:".hubResultsButton",hubShowFilter:".hubTogggleFilter",hubResetButton:".hubResetButton",hubHeader:".hubHeader",hubHeaderCounter:".hubHeaderCounter",hubHeaderTotalCounter:".hubHeaderTotalCounter",hubCategories:".hubCategories",hubCategoriesList:".hubCategoriesList",hubFilters:".hubFilters",hubFilter:".hubFilter.hubFiltersSection",hubFiltersWrapper:".hubFiltersWrapper",hubFiltersHeader:".hubFiltersHeader",hubFilterTitle:".hubFiltersWrapper .hubFilterTitle",shelfComponent:".shelfComponent",primaryLinkContainer:".primaryLinkContainer",touchDropdown:".DropdownNav",hubItemLink:".hubItemLink",hubFilterTitleWrapper:".hubFilterTitleWrapper"},breakpointSize:"large",_origFilterState:null,_dropInit:!1,mobileStickyPoint:380,scrollPositon:0,init:function(){this._attachEvents(),this._initEnquire()},_initEnquire:function(){var i=this;e(t).width(),enquire.register("screen and (min-width: "+t.site.breakpoints.medium+"px)",{match:function(){return i.breakpointSize="large",i._$html.hasClass("touch")?void i._initCateogryDrop():void i._disableCateogryDrop()}}),enquire.register("screen and (max-width: "+(t.site.breakpoints.medium-1)+"px)",{match:function(){i.breakpointSize="medium",i._initCateogryDrop()}}),enquire.register("screen and (max-width: "+t.site.breakpoints.small+"px)",{match:function(){i.breakpointSize="small",e(".js-nav-icon").removeClass("open")}})},_initCateogryDrop:function(){if(this.$element.find(".hubCategoryButton.filterOn"),this._dropInit===!1){this.ui("hubCategories").wrapInner('<div class="DropdownNav" data-dropdownnav-close-on-tap-outside="true" data-dropdownnav-stay-on-page="true"></div>');var e=this.$element.find(".DropdownNav");e.DropdownNav(),e.on("open",this._dropDownOpen.bind(this)),e.on("close",this._dropDownClose.bind(this)),this._dropInit=!0}else this.$element.find(".DropdownNav-disabled").toggleClass("DropdownNav DropdownNav-disabled")},_disableCateogryDrop:function(){var e=this.$element.find(".DropdownNav");0!==e.length&&(e.toggleClass("DropdownNav-disabled DropdownNav").removeClass("active"),this.ui("hubCategoriesList").removeAttr("style"))},_attachEvents:function(){this.ui("hubCategoryButtonReset").on("click",this._categoryResetButtonClick.bind(this)),this.ui("hubCategoryButtonCategory").on("click",this._categoryFilterButtonClick.bind(this)),this.ui("hubFilterButton").on("click",this._categoryFilterButtonClick.bind(this)),this.ui("hubResultsButton").on("click",this._hubResultsButtonClick.bind(this)),this.ui("hubFilterButton").on("mouseleave",this._removeFilterOff.bind(this)),this.ui("hubShowFilter").on("click",this._hubShowFilterButtonClick.bind(this)),this.ui("hubResetButton").on("click",this._hubResetButtonClick.bind(this)),this.ui("hubFiltersWrapper").on("scroll",this._filterScroll.bind(this)),this.ui("hubFilterTitleWrapper").on("click",this.filterScrollTo.bind(this)),this.$element.on("hubHeader:sticky",this._stickyBehaviours.bind(this)),this.$element.on("hubHeader:unsticky",this._unstickyBehaviours.bind(this)),this.$element.on("hubNavBackToTop",this._backToTopEvent.bind(this)),e(t).smartresize(this.viewResize.bind(this))},setIntialUIState:function(t){e.merge(this.ui("hubCategoryButton"),this.ui("hubFilterButton")).each(function(i,o){var s=e(o),r=s.text(),a=s.attr("data-filter-type");a!==n&&t[a][r]===!0&&(this._highlightButton(s),"itemCategory"===a&&this._checkFilterStatus())}.bind(this))},_categoryFilterButtonClick:function(t){var i=e(t.currentTarget),n=i.text(),o=i.attr("data-filter-type");i.hasClass("noResults")||(this._highlightButton(i),"itemCategory"===o?(this._transitionThenFilter(o,n),
this.ui("hubFilterButton").removeClass("filterOn noResults"),this._checkFilterStatus()):this.options.controller.filterOrCount(o,n,!0,this._origFilterState),this.$element.removeClass("categoryOpen"))},_hubResultsButtonClick:function(e){e.preventDefault(),this._toggleFilterPanel(!1),this.$element.addClass("filtersLongClosing"),t.setTimeout(this._transitionThenFilter.bind(this,null,null),this.options.filterTransitionDuration),this.inactivateFilter()},_categoryResetButtonClick:function(t){var i=e(t.currentTarget),n=i.attr("data-filter-type");this._highlightButton(i),this._transitionThenFilter(n,null),this.ui("hubFilterButton").removeClass("filterOn noResults"),this.$element.removeClass("categoryOpen")},_highlightButton:function(e){e.hasClass("hubCategoryButton")?(this.ui("hubCategoryButton").removeClass("filterOn"),e.addClass("filterOn")):(e.hasClass("filterOn")&&e.addClass("filterOff"),e.toggleClass("filterOn"))},_transitionThenFilter:function(e,t){return"itemCategory"===e&&this.$element.hasClass("filtersOpen")?void this._closeFilterPanel(!1).done(function(){this._hubScrollTopAnimation(e,t)}.bind(this)):void this._hubScrollTopAnimation(e,t)},_hubScrollTopAnimation:function(e,i){var n=!1,o=this.options.controller,s=o.filterOrCount.bind(o,e,i,n,null);this.ui("hubHeader").addClass("transitioning"),this.$element.addClass("itemsFadeOut"),this.$element.hasClass("stickyMode")&&(this.uiElements.hubItem=this.$element.find(this.uiSelectors.hubItem),site.utils.scrollTo(this.$element.offset().top+2,1.5*this.options.filterTransitionDuration,function(){this.ui("hubHeader").removeClass("transitioning")}.bind(this),"hubSlowFadeInOut",!0)),t.setTimeout(function(){s()}.bind(this),Math.round(.666666*this.options.filterTransitionDuration))},filterComplete:function(){this.$element.HubLayout("onResize"),this.$element.HubLayout("loadImages"),this.$element.removeClass("filtersOpenFadeOutItems itemsFadeOut filtersLongClosing")},updateCounter:function(e,t){this.ui(t).text(e)},_hubShowFilterButtonClick:function(e){this.ui("hubFilters").hasClass("active")?this._hubResultsButtonClick(e):this._toggleFilterPanel(!0)},_toggleFilterPanel:function(e){var t=(this._$window.width(),this._$window.scrollTop());if(this.$element.hasClass("filtersOpen"))this.$element.removeClass("filtersAnimationComplete"),this._closeFilterPanel(e);else{if(this.ui("hubHeader").addClass("transitioning"),this.$element.hasClass("stickyMode")===!1&&("small"===this.breakpointSize||"medium"===this.breakpointSize)||"large"===this.breakpointSize&&this._$html.hasClass("touch")&&this.ui("hubHeader").hasClass("sticky")===!1){var i=this.$element.offset().top+site.utils.getStickyNavHeight(this.$element.offset().top);return this.$element.addClass("stickyMode"),"small"===this.breakpointSize?void this._openFilterPanel(e,function(){site.utils.scrollTo(i,0)}):void site.utils.scrollTo(i,400,this._openFilterPanel.bind(this,e))}var n=this.$element.height()+this.$element.offset().top-this._$window.height();if(t>=n){var o=n;return this.ui("hubHeader").addClass("transitioning"),o<this.$element.offset().top+site.utils.getStickyNavHeight(t)&&(o=this.$element.offset().top+site.utils.getStickyNavHeight(t)),void site.utils.scrollTo(o,400,this._openFilterPanel.bind(this,e))}this._openFilterPanel(e,!1)}},_openFilterPanel:function(i,n){this.$element.addClass("filtersOpen").removeClass("filtersClosing filtersAnimationComplete"),this._origFilterState=this.options.controller.getFilterState(),i&&this.$element.addClass("filtersOpenFadeOutItems"),this._$html.hasClass("noScroll")===!1&&this._lockScroll(),this.ui("hubHeader").HubNavigation("resetHeaderPosition"),this._$html.hasClass("touch")&&this.ui("hubHeader").HubNavigation("touchStickyPositioning"),this.scrollPositon=e(t).scrollTop(),this.ui("hubFiltersWrapper").scrollTop(0),t.setTimeout(function(){"function"==typeof n&&n(),this.$element.addClass("filtersAnimationComplete")}.bind(this),this.options.filterTransitionDuration)},_closeFilterPanel:function(i){var n=(this._$window.width(),e.Deferred());return this.ui("hubFilters").css("top",""),this.$element.addClass("filtersClosing").removeClass("filtersOpen filtersAnimationComplete"),"large"!==this.breakpointSize&&this._$window.scrollTop(this.scrollPositon),t.setTimeout(function(){this.$element.removeClass((i?"filtersOpenFadeOutItems ":"")+"filtersClosing "),n.resolve(),this._unlockScroll()}.bind(this),this.options.filterTransitionDuration),this.ui("hubHeader").removeClass("transitioning"),n},_hubResetButtonClick:function(t){var i=e(t.currentTarget),n=i.attr("data-filter-type");t.stopPropagation();var o=this.ui("hubFilterButton").filter(function(){return e(this).data("filter-type")===n});o.removeClass("filterOn"),this.options.controller.filterOrCount(n,!1,!0,this._origFilterState)},activateFilter:function(){this.ui("hubFilters").addClass("active"),this.ui("hubResultsButton").addClass("active")},inactivateFilter:function(){this.ui("hubFilters").removeClass("active"),this.ui("hubResultsButton").removeClass("active")},_stickyBehaviours:function(){this.$element.addClass("stickyMode"),this.$element.hasClass("filtersOpen")&&this._$html.hasClass("noScroll")===!1&&this._lockScroll()},_unstickyBehaviours:function(){this.$element.hasClass("stickyMode")!==!1&&(this.$element.removeClass("stickyMode"),this.ui("hubHeader").hasClass("transitioning")||this.$element.hasClass("filtersOpen")&&this._$html.hasClass("touch")&&this._closeFilterPanel(!0))},viewResize:function(){this._$window.scrollTop()<=this.$element.offset().top&&this.$element.hasClass("filterOpen")&&this._unlockScroll(),this.$element.hasClass("filtersOpen")&&this.ui("hubFiltersWrapper").scrollTop(0),this._$window.height()<this.mobileStickyPoint&&(this.ui("hubFilterTitle").removeClass("hubFilterTitleInactive hubFilterTitleSticky"),this.ui("hubFilterTitleWrapper").attr("style",""))},_dropDownOpen:function(){return this.ui("hubHeader").hasClass("sticky")===!1&&this.$element.hasClass("categoryOpen")===!1&&this._$html.hasClass("touch")?(this._closeFilterPanel(!0),this.ui("hubHeader").addClass("transitioning"),void site.utils.scrollTo(this.$element.offset().top+site.utils.getStickyNavHeight(this.$element.offset().top),400,function(){this.$element.addClass("categoryOpen")}.bind(this))):(this.ui("hubHeader").HubNavigation("resetHeaderPosition"),this._$html.hasClass("touch")&&this.ui("hubHeader").HubNavigation("touchStickyPositioning"),this.$element.addClass("categoryOpen"),void this.ui("hubHeader").removeClass("transitioning"))},_dropDownClose:function(){this.$element.removeClass("categoryOpen transitioning")},_lockScroll:function(){this._$html.hasClass("touch")&&this._$html.hasClass("noScroll")===!1?(this._$html.addClass("noScroll forceScrollBar"),t.addEventListener("touchmove",this._touchMoveBlock,!1)):this.ui("hubHeader").hasClass("sticky")&&this._$html.addClass("noScroll forceScrollBar")},_unlockScroll:function(){this._$html.hasClass("touch")&&(t.removeEventListener("touchmove",this._touchMoveBlock,!1),this.$element.find(".scrollBlock").remove()),this._$html.removeClass("noScroll forceScrollBar")},_touchMoveBlock:function(t){1!==e(t.target).parents(".hubFilters").length&&t.preventDefault()},_removeFilterOff:function(t){var i=e(t.currentTarget);i.removeClass("filterOff")},_checkFilterStatus:function(){var t=e(".hubCategoryButton.filterOn").text();this.ui("hubFilter").fadeOut(400,function(){this.ui("hubFilterButton").each(function(i,n){var o=e(n),s=0,r=o.data("categories");"object"==typeof r&&(s=e.inArray(t,r)),-1===s&&o.addClass("noResults")}.bind(this)),this.ui("hubFilter").each(function(t,i){var n=e(i),o=n.find(".hubFilterButton").not(".noResults").length;return 0!==o?void n.fadeIn(400):void 0})}.bind(this))},getHubItemsOnPage:function(){return this.uiElements.hubItem=this.$element.find(this.uiSelectors.hubItem),this.ui("hubItem").length},_backToTopEvent:function(){this._$window.scrollTop()-this.$element.offset().top>this._$window.height()&&this.$element.addClass("itemsFadeOut"),t.setTimeout(function(){this.$element.removeClass("itemsFadeOut")}.bind(this),400)},_filterScroll:function(t){if(!("large"===this.breakpointSize||this._$window.height()<this.mobileStickyPoint)){var i=e(t.currentTarget),n=parseFloat(i.css("paddingTop"),10),o=i.offset().top+n;this.ui("hubFilterTitle").each(function(t,i){var s=e(i),r=0,a=s.offset().top-o;0!==t&&(a-=this.ui("hubFilterTitle").eq(t-1).find(".hubFilterTitleWrapper").outerHeight()),0>=a&&s.hasClass("hubFilterTitleSticky")===!1?(s.addClass("hubFilterTitleSticky").removeClass("hubFilterTitleInactive").find(".hubFilterTitleWrapper"),r=s.find(".hubFilterTitleWrapper").outerHeight(),0!==t&&(n+=r*t,this.ui("hubFilterTitle").eq(t-1).addClass("hubFilterTitleInactive")),s.find(".hubFilterTitleWrapper").css("top",n)):a>0&&s.hasClass("hubFilterTitleSticky")&&(s.removeClass("hubFilterTitleSticky").find(".hubFilterTitleWrapper").attr("styles",""),0!==t&&this.ui("hubFilterTitle").eq(t-1).removeClass("hubFilterTitleInactive"))}.bind(this))}},filterScrollTo:function(t,i){if(!("large"===this.breakpointSize||this._$window.height()<this.mobileStickyPoint)){t&&(i=e(t.currentTarget),t.stopPropagation());var n=i.parent(),o=n.offset().top,s=this.ui("hubFilterTitle").index(n)+1,r=this.ui("hubFiltersWrapper").scrollTop(),a=n.height(),l=o+r-this.ui("hubFiltersWrapper").offset().top;1!==s?l-=a:l+=a,this.ui("hubFiltersWrapper").stop().animate({scrollTop:l-parseFloat(this.ui("hubFiltersWrapper").css("paddingTop"),10)},400)}},scrollToHub:function(){this.ui("hubHeader").addClass("transitioning"),site.utils.scrollTo(this.$element.offset().top+2,1.5*this.options.filterTransitionDuration,function(){this.ui("hubHeader").removeClass("transitioning")}.bind(this),"hubSlowFadeInOut",!0)}};jQuery.easing.hubSlowFadeInOut=function(e,t,i,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},jQuery.createComponent("HubFiltersView",o)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},_$window:e(t),uiSelectors:{hubItemsList:".hubItemsList",hubItem:".hubItem",FooterNav:".FooterNav",loadMoreButton:".primaryLinkWithStyle.moreResults",ctaContainer:".ctaContainer"},_contentStoryLimits:{pageLoad:{small:8,medium:8,large:24},scrollLoad:{small:8,medium:8,large:24}},_largeBreakpoint:900,_smallBreakpoint:740,_cacheContent:[],_additionalStoriesLoaded:0,_cookie_expiry:.00694,init:function(){this.initEnquire(),this._initCookieBehaviour()},initEnquire:function(){this._cacheContent=[],enquire.register("screen and (min-width: "+(this._largeBreakpoint+1)+"px)",{match:this._initOrLoad.bind(this,"large")}).register("screen and (min-width: "+(this._smallBreakpoint+1)+"px) and (max-width: "+this._largeBreakpoint+"px)",{match:this._initOrLoad.bind(this,"medium")}).register("screen and (max-width: "+this._smallBreakpoint+"px)",{match:this._initOrLoad.bind(this,"small")})},_initOrLoad:function(e){0===this._cacheContent.length?this._initInfiniteScroll(e):this._enableInfiniteScroll(e)},_initInfiniteScroll:function(t){this.uiElements.hubItem=this.$element.find(this.uiSelectors.hubItem);var i=this._getExtraStoriesNumber(),n=this._contentStoryLimits.pageLoad[t]+i,o=this.ui("hubItem"),s=[];o.length>n?(o.each(function(t,i){t>=n&&(s.push(e(i)),e(i).remove())}),this._cacheContent=s,this._enableInfiniteScroll(t)):this._disableInfiniteScroll()},_initCookieBehaviour:function(){if(this._interactiveStoryWasVisited()){var t=this.$element.offset().top,n=this._getLastScrollPosition();(t>n||this._getFilterState()===!0)&&(n=t),e(i).ready(function(){site.utils.scrollTo(n,0,null,null,!0)})}this._createFilterStateCookie(!1),this._additionalStoriesLoaded=this._getExtraStoriesNumber();var o=!1;this.$element.on("HubFiltersController:filter_change",function(e,t){o=!1;for(var i in t.filterState.itemCategory)t.filterState.itemCategory[i]===!0&&(o=!0);for(i in t.filterState.itemNameplate)t.filterState.itemNameplate[i]===!0&&(o=!0)}.bind(this)),this._$window.one("unload pagehide",function(){this._createFilterStateCookie(o),this._createExtraStoriesNumCookie(this._additionalStoriesLoaded),this._createScrollPositionCookie()}.bind(this))},_createExtraStoriesNumCookie:function(e){site.utils.cookieManager.createCookie("extra_stories_loaded",e,this._cookie_expiry),site.utils.cookieManager.createCookie("interactive_story_visited",!1,this._cookie_expiry)},_getExtraStoriesNumber:function(){var e=0;return this._interactiveStoryWasVisited()&&(e=parseInt(site.utils.cookieManager.readCookie("extra_stories_loaded"),10)||0),e},_interactiveStoryWasVisited:function(){return"true"===site.utils.cookieManager.readCookie("interactive_story_visited")},_createFilterStateCookie:function(e){site.utils.cookieManager.createCookie("filters_applied",e,this._cookie_expiry)},_getFilterState:function(){return"true"===site.utils.cookieManager.readCookie("filters_applied")},_createScrollPositionCookie:function(){site.utils.cookieManager.createCookie("scroll_position",this._$window.scrollTop(),this._cookie_expiry)},_getLastScrollPosition:function(){return parseInt(site.utils.cookieManager.readCookie("scroll_position"),10)||0},_enableInfiniteScroll:function(i){this.$element.data("infinite-scroll")===!0?(e(t).unbind("scroll.infinte").on("scroll.infinte",this._loadingViaScroll.bind(this,i)),this.ui("ctaContainer").hide()):(this.ui("loadMoreButton").addClass("showInfiniteButton"),this.ui("loadMoreButton").unbind("click").on("click",this._loadingMore.bind(this,i)))},_disableInfiniteScroll:function(){this.ui("loadMoreButton").unbind("click").removeClass("showInfiniteButton")},_loadingMore:function(e,t){var i,n=this._contentStoryLimits.scrollLoad[e];t.preventDefault(),i=this._loadContent(n),this._additionalStoriesLoaded+=n,this._createExtraStoriesNumCookie(this._additionalStoriesLoaded),0===i[i.length-1]&&(i.pop(),this._disableInfiniteScroll()),this.ui("hubItemsList").append(i),this.$element.HubFiltersView("updateCounter",this.$element.HubFiltersView("getHubItemsOnPage"),"hubHeaderCounter"),this.$element.HubLayout("onResize"),this.$element.HubLayout("loadImages"),site.utils.scrollTo(i[0]),this._contentAnimation(i)},_loadContent:function(e){var t,i=this._cacheContent;return t=i.splice(0,e),e>=i&&t.push(0),t},_contentAnimation:function(t){e(t).each(function(t,i){e(i).css({opacity:0,y:120}).transition({opacity:1,y:0,delay:100*t})})},_loadingViaScroll:function(e){var t,i=this.$element.offset().top+this.$element.height(),n=this._$window.scrollTop(),o=.95*this._$window.height(),s=this._contentStoryLimits.scrollLoad[e];o>i-n&&(t=this._loadContent(s),0===t[t.length-1]&&(t.pop(),this._disableInfiniteScroll()),this.ui("hubItemsList").append(t),this.$element.HubLayout("onResize"),this.$element.HubLayout("loadImages"),this.$element.HubFiltersView("updateCounter",this.$element.HubFiltersView("getHubItemsOnPage"),"hubHeaderCounter"),this._contentAnimation(t))}};jQuery.createComponent("HubInfinite",n)}(jQuery,window,document),function(e,t){var i={_defaults:{gridMarginHorizontal:40,gridMarginVertical:30,imageRatio:450/680,itemMetaHeight:12,doubleHeightItems:[2,9,19],columns:[[1,4,6,9,14,17,20,22],[2,7,10,12,15,18,21,23],[3,5,8,11,13,16,19,24]],rows:[[1,2,3],[4,5],[6,7,8],[9,10,11],[12,13],[14,15,16],[17,18,19],[20,21],[22,23,24]]},uiSelectors:{hubItemsWrapper:".hubItemsWrapper",hubItemsList:".hubItemsList",hubItem:".hubItem",hubItemMeta:".hubItem .itemMeta"},_largeLayoutOn:!1,_largeBreakpoint:1281,_hubItemWidth:0,_hubItemHeight:0,_hubItemDoubleHeight:0,_hubItemCol1Left:0,_hubItemCol2Left:0,_hubItemCol3Left:0,init:function(){this._initEnquire(),e(t).smartresize(this.onResize.bind(this)),this._largeLayoutOn||this.loadImages()},_initEnquire:function(){enquire.register("screen and (min-width: "+this._largeBreakpoint+"px)",{match:this._initRefreshLargeLayout.bind(this),unmatch:this._undoLargeLayout.bind(this)}),enquire.register("screen and (orientation:landscape) and (max-width: "+t.site.breakpoints.small+"px)",{match:this._multipleEqualHeights.bind(this,!0),unmatch:this._multipleEqualHeights.bind(this,!1)})},onResize:function(){this._largeLayoutOn&&this._initRefreshLargeLayout()},_undoLargeLayout:function(){this._largeLayoutOn=!1,this.$element.removeClass("layoutFixed").addClass("layoutUnfixed"),this.$element.find(".hubItem.doubleHeight").removeClass("doubleHeight"),this.loadImages()},_initRefreshLargeLayout:function(){this._largeLayoutOn=!0,this._calculateHubItemDimensions(),this.ui("hubItemsWrapper").each(this._masonryLayout.bind(this)),this.loadImages()},_calculateHubItemDimensions:function(){this._hubItemWidth=this.ui("hubItemsList").width()/3,this._hubItemHeight=this._hubItemWidth*this.options.imageRatio+this.options.gridMarginVertical/2,this._hubItemDoubleHeight=2*this._hubItemHeight+this.options.itemMetaHeight,this._hubItemCol2Left=this._hubItemWidth,this._hubItemCol3Left=2*this._hubItemCol2Left},_masonryLayout:function(t,i){var n=e(i);this.$element.removeClass("layoutUnfixed").addClass("layoutFixed"),this._setItemsWidthHeight(n),this._setItemsDoubleHeight(n),this._positionColumns(n),this._positionRows(n),this._resizeWrapper(n)},_setItemsDoubleHeight:function(e){var t=this._getNthChilds(this.options.doubleHeightItems),i=e.find(t).filter(this._filterLastItem);i.css("height",this._hubItemDoubleHeight).addClass("doubleHeight")},_filterLastItem:function(t,i){return e(i).next().length},_setItemsWidthHeight:function(e){var t=e.find(".hubItem");t.css({height:this._hubItemHeight,width:this._hubItemWidth})},_positionColumns:function(e){var t=this._getNthChilds(this.options.columns[0]),i=this._getNthChilds(this.options.columns[1]),n=this._getNthChilds(this.options.columns[2]),o=e.find(t),s=e.find(i),r=e.find(n);o.css("left",this._hubItemCol1Left),s.css("left",this._hubItemCol2Left),r.css("left",this._hubItemCol3Left)},_positionRows:function(){this.uiElements.hubItem=this.$element.find(this.uiSelectors.hubItem);for(var t=24,i=this.ui("hubItem").length,n=Math.ceil(i/t),o=0,s=function(e){var i=o,n=o+(t-1);return e>=i&&n>=e},r=0;n>r;r++)e.each(this.options.rows,this._positionRow.bind(this,this.ui("hubItem").filter(s),r)),o+=t},_positionRow:function(e,t,i,n){var o=this._getNthChilds(n),s=this._hubItemHeight+this.options.itemMetaHeight,r=e.filter(o),a=s*i;t>0&&(a+=s*(this.options.rows.length*t)),r.css("top",a)},_resizeWrapper:function(e){var t,i=e.find(".hubItem").last(),n=parseInt(i.css("top"),10),o=this._getRowItems(i,n),s=this._getTallestItemHeight(i,o);t=n+s+this.options.itemMetaHeight,e.css("height",t)},_getTallestItemHeight:function(t,i){var n=0;return e.each(i,function(t,i){var o=e(i).height();n=o>n?o:n}),n},_getRowItems:function(e,t){for(var i,n=[e],o=e,s=2,r=0;s>r&&(o=o.prev(),o.length)&&(i=parseInt(o.css("top"),10),!(t>i));)n.push(o),r++;return n},loadImages:function(){var e=".hubItem:not(.doubleHeight) .itemImageStandardHeight",t=".hubItem.doubleHeight .itemImageDoubleHeight",i=this.$element.find(e+", "+t);site.utils.loadIgnoredResponsiveImages(i)},_getNthChilds:function(t){var i=".hubItem",n=t.length,o="";return e.each(t,function(e,t){o+=i+":nth-child(24n + "+t+")",e!==n-1&&(o+=", ")}),o},_multipleEqualHeights:function(e){if(e)for(var t=2,i=this.ui("hubItem").length,n=Math.ceil(i/t),o=0,s=function(e){var i=o,n=o+(t-1);return e>=i&&n>=e},r=0;n>r;r++)this.ui("hubItem").addClass("equalHeights").filter(s).find(".hubItemInner").removeAttr("style").equalHeights(),o+=t;else this.ui("hubItem").removeClass("equalHeights").find(".hubItemInner").removeAttr("style")}};jQuery.createComponent("HubLayout",i)}(jQuery,window,document),function(e,t){var i={_$window:e(t),_$html:e("html"),_$content:null,_$header:null,_headerHeightAtTop:0,_limitTop:null,_limitBottom:null,_scrollPosition:0,_scrollDirection:"down",_headerPushOutPointHeight:0,headerPullFlag:!1,breakpointSize:"large",uiSelectors:{stickyContent:".hubNavigationWrapper",backToTop:".hubNavigationBackToTop"},init:function(){this.$element.data("sticky")===!0&&(this._initEnquire(),this._setElements(),this._setHeights(),this._$window.scrollTop()>0&&this._headerPositioning(),this._setPosition(!1),this._attachEvents(),this._positionCalculations())},_initEnquire:function(){var e=this;enquire.register("screen and (min-width: "+site.breakpoints.medium+"px)",{match:function(){e.breakpointSize="large"}}),enquire.register("screen and (max-width: "+(site.breakpoints.medium-1)+"px)",{match:function(){e.breakpointSize="medium"}}),enquire.register("screen and (max-width: "+site.breakpoints.small+"px)",{match:function(){e.breakpointSize="small"}})},_setElements:function(){this._$content=e("#content"),this._$header=e("#header"),this._$header.addClass("HubStickyNav")},_attachEvents:function(){this._$window.on("scroll",function(e){if("large"===this.breakpointSize||!this.$element.parent().hasClass("filtersOpen")){var t=this._$window.scrollTop();this._setScrollDirection(t),this._setPosition(e),this._headerPositioning(),this._toggleBackToTopIcon(),"large"===this.breakpointSize&&this._headerResizeBehaviours(t)}}.bind(this)),e(t).smartresize(this.viewResize.bind(this)),e(t).on("closeNotificationBar",this._notificationBarClose.bind(this)),e(t).on("stickyNavigationChange",this._headerHeightChange.bind(this)),e(t).on("subNavigationChange",function(){if(this.$element.hasClass("sticky"))this.ui("stickyContent").css("top",this._$header.outerHeight());else{var e=this._$header.height()-this._headerHeightAtTop;0>e&&(e=0),this.ui("stickyContent").css("top",e)}this._setHeights()}.bind(this)),e(t).on("scrollHighjack",this._scrollHighjack.bind(this)),this.ui("backToTop").on("click",this._backToTop.bind(this))},viewResize:function(){this._setHeights(),this._headerPositioning(),this._setPosition(!1)},_headerHeightChange:function(){"large"===this.breakpointSize&&"up"===this._scrollDirection&&this.headerPullFlag===!0&&this.ui("stickyContent").css("top",this._headerHeightAtTop)},_scrollHighjack:function(){this.$element.addClass("transitioning"),this.resetHeaderPosition(),t.setTimeout(function(){this.$element.removeClass("transitioning")}.bind(this),400)},_notificationBarClose:function(){this._$html.hasClass("touch")?this.resetHeaderPosition(!0):(this._setHeights(),this._setHeaderPostion())},_backToTop:function(t){var i=function(){this.$element.removeClass("transitioning")}.bind(this);t&&t.preventDefault(),this._$header.removeClass("stickyQuickReverse"),this.ui("stickyContent").removeClass("stickyQuickReverse"),this.$element.addClass("transitioning");var n=e.Event("hubNavBackToTop");this.$element.trigger(n);var o=this.$element.offset().top+site.utils.getStickyNavHeight(this.$element.offset().top);site.utils.scrollTo(o,1e3,i,"hubSlowFadeInOut")},_setScrollDirection:function(e){e<this._scrollPosition?(this._scrollDirection="up",this.$element.addClass("scrolllUp").removeClass("scrolllDown")):(this._scrollDirection="down",this.$element.addClass("scrolllDown").removeClass("scrolllUp"),"large"===this.breakpointSize&&e<site.stickyNavigationTransitionPoint+this.$element.height()&&(this.headerPullFlag=!1)),this._scrollPosition=e},_setHeights:function(){this.$element.height(this.ui("stickyContent").height()),this._headerPushOutPointHeight=site.utils.getStickyNavHeight(this.$element.offset().top),this._headerHeightAtTop=site.utils.getStickyNavHeight(0),this._headerPushOutPointHeight<this._headerHeightAtTop},_positionCalculations:function(){if(this._limitTop=this.$element.offset().top,this._limitBottom=0,0!==this._$content.length){var e=this._$content.offset();this._limitBottom=e.top+this._$content.outerHeight()}},_setPosition:function(){this._positionCalculations();var t=this._$window.scrollTop(),i=!1;this._$html.hasClass("touch")&&(this._limitTop=this._limitTop+this.ui("stickyContent").outerHeight(),this._limitBottom=this._limitBottom-this.ui("stickyContent").outerHeight()),"up"===this._scrollDirection&&this.headerPullFlag===!0&&(this._limitTop-=this._$header.outerHeight());var n=this.$element.offset().top+this._headerPushOutPointHeight+this.ui("stickyContent").outerHeight();if(t>n&&"large"===this.breakpointSize&&t>2*site.stickyNavigationTransitionPoint&&(this.headerPullFlag=!0),t>n&&("small"===this.breakpointSize||"medium"===this.breakpointSize)&&(this.headerPullFlag=!0),t>=this._limitTop){this.$element.hasClass("sticky")===!1&&(i=e.Event("hubHeader:sticky")),this.$element.addClass("sticky");var o=t+this.ui("stickyContent").outerHeight();if(o>this._limitBottom){this.$element.removeClass("stickyQuickReverse");var s=this._limitBottom-o;this._$html.hasClass("touch")&&Math.abs(s)<this.ui("stickyContent").outerHeight()&&(s=-this.ui("stickyContent").outerHeight()),this.ui("stickyContent").css("top",s)}else"down"===this._scrollDirection&&this._$html.hasClass("no-touch")&&this.ui("stickyContent").css("top",""),this._$html.hasClass("touch")&&"down"===this._scrollDirection&&this.touchStickyPositioning()}else this.$element.hasClass("sticky")&&(i=e.Event("hubHeader:unsticky")),this.$element.removeClass("sticky"),this.resetHeaderPosition(!0);i!==!1&&this.$element.trigger(i)},_headerPositioning:function(){var e=this._$window.scrollTop();if(site.stickyNavigationEnabled!==!1){var t="",i=this._headerPushOutPointHeight;this.$element.offset().top<e&&(i=this._$header.outerHeight());var n=this._$header.offset().top-e,o=n+i,s=this.$element.first().offset().top-e;if(s+this.$element.height(),this.headerPullFlag===!0&&this.$element.hasClass("transitioning")===!1&&"up"===this._scrollDirection&&e<this._limitBottom-i-this.ui("stickyContent").height())return void(0!==n&&this._setHeaderPostion());this.$element.hasClass("transitioning")&&this.resetHeaderPosition(!0),t=n+(s-o),t=t>0?0:t,Math.abs(t)>=i&&(t=-i),t+="px",this._$header.css("top",t)}},_setHeaderPostion:function(){var e=this._$header.height();this._$header.css("top",0),this._$header.addClass("stickyQuickReverse"),this.$element.addClass("stickyQuickReverse"),this._$html.hasClass("touch")&&(e-=this.ui("stickyContent").outerHeight()),this.ui("stickyContent").css("top",e)},resetHeaderPosition:function(e){e&&(this._$header.removeClass("stickyQuickReverse"),this.$element.removeClass("stickyQuickReverse"),this.headerPullFlag=!1),"up"===this._scrollDirection&&this.$element.hasClass("sticky")&&this._$header.css("top",-this._$header.height()),this.ui("stickyContent").css("top","")},touchStickyPositioning:function(){this.ui("stickyContent").css("top",-this.ui("stickyContent").outerHeight())},_toggleBackToTopIcon:function(){this._$window.scrollTop()>=this.$element.offset().top+10?this.$element.addClass("showBackToTop"):this.$element.removeClass("showBackToTop")},_headerResizeBehaviours:function(e){e<=this._headerHeightAtTop?this.$element.addClass("notransition"):(this._$header.removeClass("notransition"),this.$element.removeClass("notransition")),e<=site.stickyNavigationTransitionPoint+this.$element.height()&&this.$element.addClass("notransitionDelay"),(e>site.stickyNavigationTransitionPoint+this.$element.height()||0===e)&&this.$element.removeClass("notransitionDelay notransition")}};jQuery.createComponent("HubNavigation",i)}(jQuery,window,document),function(e){var t={init:function(){var t=this,i=this.$element.data("experiment-id"),n=1;"undefined"!=typeof cxApi&&(n=cxApi.chooseVariation()+1),this.$element.data("force-ignitev2")===!0&&(n=2);var o=t._getParameterByName("ignite");o.length>0&&(n=Number(o)),dataLayer.push({event:"contentExperimentLoaded",experimentID:i,variantID:"igniteBar"+n});var s=e(".IgniteBarV1",t.$element),r=e(".IgniteBarV2",t.$element),a=e(".IgniteBarDevice");2===n?(s.remove(),a.remove(),r.IgniteBarV2()):(r.remove(),s.IgniteBarV1())},_getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}};jQuery.createComponent("IgniteBar",t)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},uiSelectors:{items:"li",shareItem:"li.share",shareAction:".shareAction",vee24Link:"li.vee24"},isHovered:!1,isOpen:!0,_isTouchDevice:!1,init:function(){this.$element.addClass("visible"),this._setTouchState(),this._loadSharing(),this._initElementEvents(),this._initScroll(),this._open()},_loadSharing:function(){var t=this.ui("shareItem");if(1===t.length){var i=e(".SocialSharing",t);i.SocialSharing({orientation:"horizontal",animateFrom:"right",visibleWhenClosed:!1,hasMenu:!1}),this._sharingWidth=50*e("> a",i).length,e("> span > a",t).hide(),i.width(this._sharingWidth),i.show()}},_open:function(){this._isTouchDevice&&e(i).on("touchstart",e.proxy(this._onDocumentTouch,this)),this.$element.addClass("open"),this.isOpen=!0},_close:function(){this.$element.removeClass("open"),this.isOpen=!1},_initScroll:function(){e(t).on("scroll",site.utils.throttle(e.proxy(this._onScroll,this)))},_uninitScroll:function(){e(t).off("scroll",site.utils.throttle(e.proxy(this._onScroll,this)))},_onScroll:function(e){e.originalEvent&&!this.isHovered&&this._close()},_initElementEvents:function(){this._isTouchDevice?this.ui("items").find(" > a").on("touchend click",e.proxy(this._onElementTouchClick,this)):(this.ui("items").find(" > a").on("mouseenter",e.proxy(this._onLinkMouseenter,this)),this.$element.on("mouseenter",e.proxy(this._onElementMouseenter,this)),this.$element.on("mouseleave",e.proxy(this._onElementMouseleave,this))),this.ui("vee24Link").on("click tap",function(e){e.preventDefault(),this._openVee24()}.bind(this)),this.$element.on("touchend click",e.proxy(this._onTouchClick,this)),this.ui("shareAction").on("touchend click",function(e){e.preventDefault()}),this._switchLiveChat(!0)},_onLinkMouseenter:function(){this._open()},_onElementMouseenter:function(){this.isHovered=!0},_onElementMouseleave:function(){this.isHovered=!1},_onTouchClick:function(e){this.isOpen||(e.preventDefault(),this._open())},_onDocumentTouch:function(t){var n=e(t.target),o=n.parents(".IgniteBarV1").length||n===this.$element;o||(e(i).off("click touchstart",e.proxy(this._onDocumentTouch,this)),this._close())},_openVee24:function(){e(t).trigger("vee24_launch_chat")},_setTouchState:function(){this._isTouchDevice=e("html").hasClass("touchCapability")?!0:!1},_switchLiveChat:function(e){var t=new Date,i=(t.getDay(),this._isOpenTime(t));if(e===!0){if(i===!1)return this.ui("vee24Link").css("display","none"),void setTimeout(this._switchLiveChat.bind(this,!1),6e4)}else if(i===!0)return this.ui("vee24Link").css("display","block"),void setTimeout(this._switchLiveChat.bind(this,!0),6e4);t=new Date;var n=6e4-t%6e4;setTimeout(this._switchLiveChat.bind(this,e),n)},_isOpenTime:function(e){var t,i,n,o=this._isDST(e);return o?(t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),7,30,0)),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),16,0,0))):(t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),8,30,0)),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),17,0,0))),n=e.getTime()>t.getTime()&&e.getTime()<i.getTime()},_isDST:function(e){var t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return Math.min(t.getTimezoneOffset(),i.getTimezoneOffset())===e.getTimezoneOffset()}};jQuery.createComponent("IgniteBarV1",n)}(jQuery,window,document),function(e,t){var i={uiSelectors:{barContainer:".barContainer",toggle:".toggle",toggleLabel:".toggle .toggleLabel",toggleCrossIcon:".toggle .toggleCrossIcon",vee24Link:".actionItemVee24 .action a",sharingItem:".actionItemShare",sharingLink:".actionItemShare .action a",sharingContainer:".actionItemShare .sharingContainer",socialSharing:".SocialSharing"},_$window:e(t),_$header:e("#header"),_transitionTime:400,_sharingWidth:0,_overlayTimeout:null,init:function(){var e=this;e.$element.addClass("visible"),e._setPosition(!1),e._bindEvents(),e._initSharing(),e._initialPagePopOut()},_setPosition:function(e){var t=this;e=e===!0?!0:!1;var i=t._$window.height(),n=t.$element.height(),o=(i-n)/2,s=t._getHeaderBottom();o=s>o?s:o,e?t.$element.addClass("animate"):t.$element.removeClass("animate"),t.$element.css("top",o+"px")},_getHeaderBottom:function(){var e=this,t=e._$header.offset().top+e._$header.height()-e._$window.scrollTop();return t},_bindEvents:function(){var t=this;
t.ui("toggle").on("click tap",function(e){e.preventDefault(),t._toggle()}),e(".igniteOverlay").on("click tap",function(){t._close()}),t.ui("sharingLink").on("click tap",function(e){e.preventDefault(),t._toggleSharing()}),t.ui("vee24Link").on("click tap",function(e){e.preventDefault(),t._openVee24()}),t._$window.on("resize",function(){t._setPosition(!0)})},_initSharing:function(){var t=this;if(t.ui("socialSharing").length>0){t.ui("socialSharing").SocialSharing({orientation:"horizontal",animateFrom:"right",visibleWhenClosed:!0,hasMenu:!1});var i=e("> a",t.ui("socialSharing")),n=i.length,o=i.first().width();t._sharingWidth=n*o,t.ui("socialSharing").width(t._sharingWidth)}},_toggle:function(){var e=this;e.$element.hasClass("open")?e._close():e._open()},_open:function(){var e=this;e.$element.addClass("open"),e._openOverlay(),e._closePagePopOut()},_close:function(){var e=this;e.$element.removeClass("open"),e._closeSharing(),e._closeOverlay()},_openOverlay:function(){var t=this;t._overlayTimeout&&clearTimeout(t._overlayTimeout),e(".igniteOverlay").addClass("visible active")},_closeOverlay:function(){var t=this,i=e(".igniteOverlay");i.removeClass("active"),t._overlayTimeout=setTimeout(function(){i.removeClass("visible")},2*t._transitionTime)},_toggleSharing:function(){var e=this;e.ui("sharingItem").hasClass("open")?e._closeSharing():e._openSharing()},_openSharing:function(){var e=this;e.ui("sharingItem").addClass("open"),e.ui("sharingContainer").width(e._sharingWidth)},_closeSharing:function(){var e=this;e.ui("sharingContainer").width(0),e.ui("sharingItem").removeClass("open")},_openVee24:function(){var e=this;e._$window.trigger("vee24_launch_chat")},_initialPagePopOut:function(){var e=site.utils.cookieManager.readCookie("JLR_IgniteBar");null===e&&(site.utils.cookieManager.createCookie("JLR_IgniteBar",!0,.04),this._openPagePopOut())},_openPagePopOut:function(){var e=this,t=2e3;e.ui("toggleLabel").transition({delay:e._transitionTime}).addClass("open").transition({x:-50-e.ui("toggleLabel").outerWidth()+"px"},e._transitionTime).transition({delay:t}).transition({x:"0px"},e._transitionTime,function(){e.ui("toggleLabel").removeClass("open")}),e.ui("toggleCrossIcon").transition({delay:t+3*e._transitionTime}).transition({scale:1.24},e._transitionTime).transition({delay:0}).transition({scale:1},e._transitionTime,function(){e.ui("toggleCrossIcon").removeAttr("style")})},_closePagePopOut:function(){var e=this;e.ui("toggleLabel").hasClass("open")&&(e.ui("toggleLabel").stop().transition({x:"0px"},e._transitionTime),e.ui("toggleCrossIcon").stop().transition({scale:1},e._transitionTime,function(){e.ui("toggleCrossIcon").removeAttr("style"),e.ui("toggleLabel").removeClass("open")}))}};jQuery.createComponent("IgniteBarV2",i)}(jQuery,window,document),function(e,t){var i={init:function(){this._bindEvents()},_bindEvents:function(){var t=this;e("a",t.$element).on("click tap",{that:t},t._onBarClick)},_onBarClick:function(i){return i.data.that,e(i.currentTarget).hasClass("vee24")?(i.stopImmediatePropagation(),i.preventDefault(),void e(t).trigger("vee24_launch_chat")):void 0}};jQuery.createComponent("IgniteBarDevice",i)}(jQuery,window,document),function(e){var t={_defaults:{},init:function(){var t=this;e("form",t.$element).on("submit",function(i){var n=e("input.postCode",t.$element),o=e("p.errorMessage",t.$element),s=new RegExp(t.$element.data("postcode-regex"));o.hide(),""!==n.val()&&n.val()!==n.attr("placeholder")&&s.test(n.val())||(i.preventDefault(),o.show(),n.css({border:"1px solid red"}))})}};jQuery.createComponent("InPageDealerLocator",t)}(jQuery,window,document),function(e,t){var i={_$window:null,_$content:null,_$navBar:null,_$topLink:null,_$linksContainer:null,_$navLinkItems:null,_$navLinks:null,_$indicator:null,_scrollDuration:800,_slideDuration:400,_slideInTimeout:null,_scrollCompleteTimeout:null,_isTouchDevice:null,_isIe:null,_limitTop:null,_limitBottom:null,_navHeight:null,_waypoints:[],init:function(){var e=this;e._detectTouch(),e._isTouchDevice===!1&&(e._getElements(),e._detectIe(),e._setLinkCount(),e._calculations(),e._disableAnimation(),e._setNavPosition(),e._setActiveSection(),e._enableAnimation(),e._addEvents(),e._$window.on("resize",function(){e._calculations(),e._disableAnimation(),e._setNavPosition(),e._setActiveSection(),e._enableAnimation(),setTimeout(function(){e._calculations(),e._disableAnimation(),e._setNavPosition(),e._setActiveSection(),e._enableAnimation()},1e3)}),e._$window.on("load",function(){e._calculations()}),e._$window.on("scroll",function(){e._setNavPosition(),e._setActiveSection()}))},_detectTouch:function(){var e=this;site.utils.isMobileDevice()===!0?(e._isTouchDevice=!0,e.$element.addClass("touchDevice")):e._isTouchDevice=!1},_detectIe:function(){var t=this;t._isIe=e("html").hasClass("ie")},_getElements:function(){var i=this;i._$window=e(t),i._$content=e("#content"),i._$navBar=e(".ipnBar",i.$element),i._$topLink=e(".ipnTopLink",i._$navBar),i._$linksContainer=e(".ipnLinksContainer",i._$navBar),i._$navLinkItems=e(".ipnLinks li",i._$linksContainer),i._$navLinks=e("a",i._$navLinkItems),i._$indicator=e(".ipnIndicator",i._$linksContainer)},_setLinkCount:function(){var e=this;e.$element.attr("data-total",e._$navLinks.length)},_enableAnimation:function(){var e=this;e.$element.removeClass("ipnNoAnimate")},_disableAnimation:function(){var e=this;e.$element.addClass("ipnNoAnimate")},_calculations:function(){var e=this;e._navCalculations(),e._waypointCalculations()},_navCalculations:function(){var e=this;e._limitTop=e.$element.offset().top,e._limitBottom=e._$content.offset().top+e._$content.outerHeight(),e._navHeight=e._$navBar.outerHeight(),e.$element.height(e._navHeight)},_waypointCalculations:function(){var t=this,i=[],n=t._$navBar.outerHeight();t._$navLinks.each(function(){var t=e(this),o=t.attr("href"),s=e(o);s.length>0&&i.push({top:s.offset().top-n,link:t})}),i.sort(t._sortWaypoints),t._waypoints=i},_sortWaypoints:function(e,t){return t.top-e.top},_addEvents:function(){var i=this;i._$topLink.on("click tap",function(e){e.preventDefault(),site.utils.scrollTo(0)}),i._$navLinks.on("click tap",function(n){n.preventDefault(),clearTimeout(i._slideInTimeout),clearTimeout(i._scrollCompleteTimeout);var o=e(this),s=o.attr("href"),r=e(s);if(r.length>0){i.$element.addClass("ipnScrollInProgress"),i._setActiveLink(o.parents("li").index());var a=r.first().offset().top;i._isIe&&(a+=2),site.utils.scrollTo(a,i._scrollDuration),i._slideInTimeout=setTimeout(function(){i._slideIn()},i._scrollDuration-i._slideDuration)}else t.location.href=s})},_setNavPosition:function(){var e=this;if(e.$element.hasClass("ipnScrollInProgress")===!1){var t=e._$window.scrollTop();if(t>=e._limitTop){e.$element.addClass("ipnSticky"),e.$element.addClass("ipnReversed");var i=t+e._navHeight;i>e._limitBottom?e._$navBar.css("top",e._limitBottom-i):e._$navBar.css("top","")}else e.$element.removeClass("ipnSticky"),e.$element.removeClass("ipnReversed"),e._$indicator.removeAttr("data-active"),e._$navLinkItems.removeClass("active")}},_setActiveSection:function(){var t=this;if(t.$element.hasClass("ipnScrollInProgress")===!1){var i=t._$window.scrollTop();e.each(t._waypoints,function(e,n){return i>=n.top?(t._setActiveLink(n.link.parents("li").index()),!1):void 0})}},_setActiveLink:function(t){var i=this,n=i._$navLinkItems.eq(t),o=i._$navLinkItems.filter(".active");if(n[0]!==o[0]){var s=e("a",n);i._$navLinkItems.removeClass("active"),n.addClass("active");var r=i._$linksContainer.outerWidth(),a=i._$linksContainer.offset().left,l=a+r,c=s.offset().left,u=c+s.outerWidth(),d=i._$indicator.offset().left;d>c?(i._$indicator.removeClass("ipnIndicatorAnimateRight"),i._$indicator.addClass("ipnIndicatorAnimateLeft")):(i._$indicator.removeClass("ipnIndicatorAnimateLeft"),i._$indicator.addClass("ipnIndicatorAnimateRight"));var h=100*((c-a)/r),p=100*((l-u)/r);i._$indicator.css({left:h+"%",right:p+"%"})}i._$indicator.attr("data-active",t+1)},_slideIn:function(){var e=this,t=e._$window.scrollTop(),i=e._$navBar.offset().top;if(t>i){var n=i-t;n=n<-e._navHeight?-e._navHeight:n,e._$navBar.css("top",n+"px"),e.$element.addClass("ipnSticky"),e._disableAnimation(),e.$element.addClass("ipnReversed"),e._$navBar.animate({top:0},{duration:e._slideDuration,easing:"easeOutSine",complete:function(){e._$navBar.css("top",""),e.$element.removeClass("ipnScrollInProgress"),e._enableAnimation(),e._setNavPosition()}})}else e._scrollCompleteTimeout=setTimeout(function(){e.$element.removeClass("ipnScrollInProgress"),e._enableAnimation(),e._setNavPosition()},e._slideDuration)}};jQuery.createComponent("InPageNavigation",i)}(jQuery,window,document),function(e){var t={_$dropdown:null,init:function(){this.$element.css({overflow:"hidden"}),this._$dropdown=e(".DropdownNav",this.$element),this.bindEvents()},bindEvents:function(){var t=this;e(".chooseModel > a",this.$element).on("click tap",function(e){e.stopPropagation(),e.preventDefault(),t._open()})},_open:function(){var t=this,i=t.$element.height();t.$element.height(i),e(".modelsContainer",t.$element).show(),t.$element.transition({height:e(".modelsContainer",t.$element).height(),duration:400}),e(".subNavWrapper",t.$element).transition({y:0-i,duration:400},function(){t.$element.addClass("modelsOpened")}),e(".subNavWrapper > ul > li > a",t.$element).attr("tabindex","-1"),e(".modelsContainer .back",t.$element).on("click tap",function(e){e.preventDefault(),t._close()}),e(".NavigationModelSwitcher").NavigationModelSwitcher("openOnRotate")},_close:function(){var t=this,i=e(".modelsContainer",t.$element),n=i.height();i.hide(),t.$element.height("auto");var o=t.$element.height();t.$element.height(n),i.show(),t.$element.transition({height:o,duration:400}),e(".subNavWrapper",t.$element).transition({y:0,duration:400},function(){e(".modelsContainer",t.$element).hide(),t.$element.height("auto"),t.$element.removeClass("modelsOpened")}),e(".subNavWrapper > ul > li > a",t.$element).attr("tabindex",""),e(".NavigationModelSwitcher").NavigationModelSwitcher("fastClose"),e(".modelsContainer .back",t.$element).off("click tap")},openModelsOnRotate:function(){var e=this;e._openModelsOnRotate=!0,enquire.register("screen and (min-width: 1px) and (max-width: "+site.breakpoints.small+"px)",{setup:function(){e._openModelsOnRotate===!0&&(e._openModelsOnRotate=!1,e.$element.hasClass("modelsOpened")||(e._$dropdown.hasClass("active")?e._open():(e._$dropdown.DropdownNav("open"),setTimeout(function(){e._open()},500))))},deferSetup:!0})},closeModels:function(){var e=this;e._openModelsOnRotate=!1,this.$element.hasClass("modelsOpened")&&e._close()}};jQuery.createComponent("InPageSubNavigation",t)}(jQuery,window,document),function(e,t){var i={_defaults:{},$frameSliderItems:null,activeframeSliderItem:{},activatedFrameSliderItems:[],_frameSliderItemDefaults:{$element:!1,$spriteSpinElement:!1,spriteSpinApi:!1,spriteSpinData:!1,dragControl:!1,frameCount:0,framesSource:[],frameState:{position:0,direction:"forward"}},multiSliderThreshold:34,currentState:"desktop",touchState:"touch",sliderElementRef:".sliderControls",sliderProgressRef:".sliderProgress",slider:!1,desktopFramesRef:".desktopSliderFrame",mobileFramesRef:".mobileSliderFrame",spritespinFramesRef:".spritespin-instance",spriteContainerContextRef:".spriteContainerContext",spriteSpinApi:{},spriteSpinData:{},$waypointDivs:null,$sliderContainerUpper:null,$sliderControls:null,$contentContainer:null,$arrangementInformationContainer:null,_numberOfWaypoints:8,_resizeTimeout:200,isOldSlider:!1,activeContent:!1,_getElements:function(){this.$frameSliderItems=e(".frameSliderItem",this.$element),this.$sliderContainerUpper=e(".sliderContainerUpper",this.$element),this.$sliderControls=e(".sliderContainerLower .sliderControls",this.$element),this.$contentContainer=e(".infoContainer .content",this.$element),this.$arrangementInformationContainer=e(".infoContainer .content .tabData",this.$element)},buildWaypointDivs:function(){1===e(".infoContainerTemplates .tabData",this.$element).length?(this.$element.addClass("old"),this.isOldSlider=!0,this._numberOfWaypoints=3):this._numberOfWaypoints=e(".infoContainerTemplates .tabData",this.$element).length,e(".infoContainerTemplates .tabData",this.$element).each(function(t,i){var n=e(i).data("desktop-title"),o=e(i).data("mobile-title"),s=e('<div><span class="desktop">'+n+'</span><span class="mobile">'+o+"</span></div>");site.rtl?this.$sliderContainerUpper.prepend(s):this.$sliderContainerUpper.append(s)}.bind(this)),this.$waypointDivs=e(".sliderContainerUpper div",this.$element),site.rtl?e(this.$waypointDivs[this.$waypointDivs.length-1]).addClass("active"):e(e(this.$waypointDivs)[0]).addClass("active"),this._setupWaypointDivs(),this._resizeElements(),e(t).resize(function(){clearTimeout(this.waypointTimeout),this.waypointTimeout=setTimeout(function(){this._setupWaypointDivs(!0),this._resizeElements()}.bind(this),this._resizeTimeout)}.bind(this))},_doNewMobileResize:function(){var t=e(".frameSliderBg",this.$element).offset().top,i=e(".infoContainer",this.$element).offset().top+e(".infoContainer",this.$element).height(),n=i-t;this.$element.find(".frameSliderItem").height(n)},_resizeElements:function(){var i,n,o,s=e(".infoContainer",this.$element);t.innerWidth<=740&&this.isOldSlider?(n=s.height(),i=e(".frameSliderBg",this.$element).height(),o=n+i,e(".frameSliderItem",this.$element).height(o)):t.innerWidth<=740&&!this.isOldSlider?(i=e(".frameSliderBg",this.$element).height(),n=s.height(),o=i+n+e(".sliderContainer",this.$element).height(),e(".frameSliderItem",this.$element).height(o)):t.innerWidth>740&&!this.isOldSlider},_setupWaypointDivs:function(i){var n="auto";this.$sliderContainerUpper.css({width:"auto"}),this.$sliderControls.css({width:"auto"});var o=Math.floor(this.$sliderContainerUpper.width()/this.$waypointDivs.length);o%2!==0&&o--,this.$waypointDivs.width(o);var s=o*this.$waypointDivs.length;if(this.$sliderContainerUpper.css({marginLeft:"auto",marginRight:"auto",width:s}),this.isOldSlider){var r=200;t.innerWidth<1e3&&t.innerWidth>750?r=40:t.innerWidth<=750&&(r=0),950===this.$sliderControls.width()&&(n="100px"),this.$sliderControls.css({marginLeft:n,marginRight:"auto",width:s-r}),this.$waypointDivs.css({opacity:0})}else e(t).width()>=1500&&(n=130,this.$sliderContainerUpper.css({marginLeft:n-o/2})),this.$sliderControls.css({marginLeft:n,marginRight:"auto",width:s-o});i?this.activeframeSliderItem.dragControl.reflow():this._showtitle(0),e(".sliderContainer",this.$element).click(function(e){var t=this.$sliderControls.offset(),i=t.left,n=t.left+this.$sliderControls.width(),o=this.activeframeSliderItem.dragControl;e.clientX<i?o.setTargetValueByOffset(o.getOffsetsByRatios([0,1]),!1):e.clientX>n&&o.setTargetValueByOffset(o.getOffsetsByRatios([1,1]),!1)}.bind(this))},init:function(){this._setCurrentState(),e(".royalSlider.carousel",this.$element).removeClass("royalSlider").removeClass("carousel"),this._getElements(),this.buildWaypointDivs(),this.waypointTimeout=null;var i=this;i.$element.offset(),this._setTouchState(),this._configSpriteSpin(),this._initframeSliderItem(this.$frameSliderItems.first()),t.richsponsiveImage(),this._initEvents()},init_rtl:function(){this._frameSliderItemDefaults.frameState.direction="backward"},_initframeSliderItem:function(t){var i=this;this.activeframeSliderItem=!1;var n=this.$frameSliderItems.index(t);this.activeframeSliderItem=e.extend(!0,{},i._frameSliderItemDefaults),this.activeframeSliderItem.$element=t,this.activeframeSliderItem.$infoContainerTemplates=e(".infoContainerTemplates > div",this.$element),this.activatedFrameSliderItems[n]=this.activeframeSliderItem,this._initSpriteSpin(),this._initDragDealer(),this._initBackgroundOverlay(i.activeframeSliderItem),e(".headingLinear",t).Headings("linearLines"),this.activeframeSliderItem.$element.addClass("active")},_uninitframeSliderItem:function(){this.activeframeSliderItem.$element.removeClass("backgroundOverlayActive"),clearTimeout(this.activeframeSliderItem.dragControl.activePauseTimout)},_configSpriteSpin:function(){this._checkIndexOf(),"undefined"==typeof SpriteSpin.mods.noBehavior&&SpriteSpin.registerModule("noBehavior",{})},_initSpriteSpin:function(){var t=this,i=0;this._getFramesData(),site.rtl&&(i=this.activeframeSliderItem.frameCount,this.activeframeSliderItem.frameState.position=this.activeframeSliderItemframeCount),this.activeframeSliderItem.$spriteSpinElement.spritespin({source:t.activeframeSliderItem.framesSource,frame:i,width:e(this.spriteContainerContextRef,t.activeframeSliderItem.$element).width(),height:e(this.spriteContainerContextRef,t.activeframeSliderItem.$element).height(),animate:!1,frameTime:40,behavior:"noBehavior",renderer:"touch"!==t.touchState||site.utils.isWindowsPhone()?"canvas":"image",preloadCount:t.activeframeSliderItem.frameCount,onLoad:function(){t.activeframeSliderItem.$element.addClass("frames-loaded")}}),this.activeframeSliderItem.spriteSpinApi=this.activeframeSliderItem.$spriteSpinElement.spritespin("api"),this.activeframeSliderItem.spriteSpinData=this.activeframeSliderItem.$spriteSpinElement.data("spritespin")},_initDragDealer:function(){var i=this,n=0,o=e(this.sliderElementRef,this.activeframeSliderItem.$element).get(0),s=e(this.sliderProgressRef,this.activeframeSliderItem.$element);site.rtl&&(n=1);var r=new t.Dragdealer(o,{steps:this._numberOfWaypoints,x:n,slide:!1,speed:.1,tapPauseTimeout:1e3,slideOnTap:!0,animationDuration:200,dragStartCallback:function(){e(this.handle).addClass("active"),i.activeframeSliderItem.$element.trigger("backgroundOverlay.on")},dragStopCallback:function(){e(this.handle).removeClass("active")},animationCallback:function(e,t){var n=Math.round(i.activeframeSliderItem.frameCount*e);if(i.activeframeSliderItem.$element.hasClass("frames-loaded")!==!1){i.activeframeSliderItem.spriteSpinApi.updateFrame(n),i.activeframeSliderItem.frameState.position=n;var o=i.activeframeSliderItem.dragControl.getClosestSteps([e,t]),r=.1;clearTimeout(i._titleTimeout),i._titleTimeout=setTimeout(function(){Math.abs(this.activeframeSliderItem.dragControl.value.target[0]-e)<r&&this._findActiveSlide(o[0])}.bind(i),10),site.rtl?s.width(100-100*e+"%"):s.width(100*e+"%")}}});e(o).on("mousedown touchstart pointerdown MSPointerDown",function(e){e.stopPropagation()}),this.activeframeSliderItem.dragControl=r},_findActiveSlide:function(e){var t=this.activeframeSliderItem.frameCount,i=this._numberOfWaypoints,n=Math.round(t*e/(t/(i-1)));this._titleDisplay(n)},_initBackgroundOverlay:function(t){var i=this,n=t.$element,o=e(i.sliderElementRef,n);n.hasClass("backgroundOverlay")&&(n.prepend(e('<div class="backgroundOverlayElement"/>')),o.on("mouseenter touchstart",function(){n.trigger("backgroundOverlay.on")}),n.on("backgroundOverlay.on",function(e){i._backgroundOverlayToggle(e)}),n.on("backgroundOverlay.off",function(e){i._backgroundOverlayToggle(e)}))},_backgroundOverlayToggle:function(t){var i=this,n=e(t.target),o="on"===t.namespace,s="backgroundOverlayActive";o?(n.addClass(s),i._backgroundOverlayScroll.add(n)):(n.removeClass(s),i._backgroundOverlayScroll.remove(n))},_backgroundOverlayScroll:{$element:null,elementHeight:0,added:!1,add:function(i){var n=this;n.added||(n.$element=i,n.elementHeight=i.height(),e(t).on("throttledScroll",e.proxy(n.check,this)),n.added=!0)},remove:function(){var i=this;e(t).off("throttledScroll",i.check),i.added=!1},check:function(){var i=this,n=i.$element,o=i.elementHeight,s=n.offset(),r=e(t).scrollTop(),a=e(".SubNavigation").height()+e(".headerWrapper").height(),l=r+e(t).height()<=s.top,c=r+a>=o+s.top;(l||c)&&n.trigger("backgroundOverlay.off")}},_initEvents:function(){var i=this;e(t).smartresize(function(){i._sliderResize(i),i._setInfoContainerHeight()})},_centerInfoContainer:function(){"mobile"!==this.currentState&&(t.richsponsiveImage(),e(".infoContainer",this.$element).css({top:(e(".frameSliderBg",this.$element).height()-e(this.$arrangementInformationContainer).outerHeight())/2}))},_sliderResize:function(t){var i,n=e(t.spritespinFramesRef,t.activeframeSliderItem.$element);if(t._setCurrentState(),this._centerInfoContainer(),i=t._getTargetFrames(),n.get(0)!==i.get(0))n.spritespin("destroy").empty().removeClass(t.spritespinFramesRef.replace(".","")),t._initSpriteSpin();else{var o=e(this.spriteContainerContextRef,t.activeframeSliderItem.$element).width(),s=i.width();o!==s&&i.spritespin({width:o,height:e(this.spriteContainerContextRef,t.activeframeSliderItem.$element).height()})}},_setCurrentState:function(){this.currentState=e(t).width()>740?"desktop":"mobile"},_setTouchState:function(){this.touchState=e("html").hasClass("touchCapability")?"touch":"notouch"},_titleDisplay:function(e){e===this._currentWaypoint||this.isOldSlider||(this._showtitle(e),this._currentWaypoint=e)},_loadImage:function(e,t){var i=new Image;i.src=e,i.onload=function(){t.css({background:'url("'+this.src+'") no-repeat center center'}),setTimeout(function(){t.removeClass("loading")},220)}},_setupOdometer:function(){if(!this.isOldSlider){this.odometer=e(this.$contentContainer).find(".odo")[0];var t=e(this.odometer).html();""!==t?(new Odometer({el:this.odometer,value:t,format:"(d).dd",theme:"default",duration:2e3}),this._noOdometer=!1):(this.$contentContainer.addClass("noOdo"),e(".literage").remove(),this._noOdometer=!0)}},_setInfoContainerHeight:function(){t.innerWidth>740&&this.$contentContainer.height(e(this.$arrangementInformationContainer).outerHeight())},_getNewContent:function(){return{title:this.activeElement.find(".title").html(),arrangement:this.activeElement.find(".largeTitle").html(),dimensions:this.activeElement.find(".dimensions").html(),copy:this.activeElement.find(".copy").html(),img:this.activeElement.find("img").attr("src"),odometer:this.activeElement.find(".odo").html()}},_addNewContent:function(){var t=this._getNewContent();this.contentElements||(this.contentElements={title:this.$arrangementInformationContainer.find(".title"),arrangement:this.$arrangementInformationContainer.find(".largeTitle"),dimensions:this.$arrangementInformationContainer.find(".dimensions"),copy:this.$arrangementInformationContainer.find(".copy"),img:this.$arrangementInformationContainer.find("img"),odometer:e(this.odometer)}),this.contentElements.title.html(t.title),this.contentElements.arrangement.html(t.arrangement),this.contentElements.dimensions.html(t.dimensions),this.contentElements.copy.html(t.copy),this.contentElements.odometer.html(t.odometer),t.img?(this.contentElements.img.show(),this.contentElements.img.attr("src",t.img)):this.contentElements.img.hide()},_setElementHeight:function(){this.$arrangementInformationContainer.find("img").length>0?this.$arrangementInformationContainer.find("img")[0].complete?(this._setInfoContainerHeight(),this._centerInfoContainer(),this.$contentContainer.removeClass("hidden"),this.$contentContainer.css({opacity:1})):this.$arrangementInformationContainer.find("img").load(function(){this._setInfoContainerHeight(),this._centerInfoContainer(),this.$contentContainer.removeClass("hidden"),this.$contentContainer.css({opacity:1})}.bind(this)):(this._setInfoContainerHeight(),this._centerInfoContainer(),this.$contentContainer.removeClass("hidden"))},_showtitle:function(i){var n;if(n=site.rtl?this.$waypointDivs.length-1-i:i,this.activeContent===!1){this.activeElement=e(this.activeframeSliderItem.$infoContainerTemplates).filter('[data-item-position="'+i+'"]'),this.activeContent=n;var o=e(".infoContainerTemplates .tabData",this.$element).filter('[data-item-position="'+i+'"]');this.$arrangementInformationContainer.html(o.html()),t.richsponsiveImage(),this.isOldSlider?this._setElementHeight():(this._setupOdometer(),this.$contentContainer.css({opacity:0}),setTimeout(function(){this._setElementHeight()}.bind(this),300))}else this.activeContent!==i&&(this.activeElement=e(this.activeframeSliderItem.$infoContainerTemplates).filter('[data-item-position="'+n+'"]'),this.$contentContainer.addClass("hidden"),setTimeout(function(){this._addNewContent(),this.activeContent=i,this.$waypointDivs.removeClass("active"),e(this.$waypointDivs[i]).addClass("active"),setTimeout(function(){this._setElementHeight()}.bind(this),350)}.bind(this),350))},_doMobileResize:function(){e(".infoContainer .content").height(e(".infoContainer .content .tabData").height())},_getFramesData:function(){this.activeframeSliderItem.$spriteSpinElement=this._getTargetFrames(),this.activeframeSliderItem.framesSource=this.activeframeSliderItem.$spriteSpinElement.data("frames"),this.activeframeSliderItem.frameCount=this.activeframeSliderItem.framesSource.length-1,this.activeframeSliderItem.contextualImages=this.activeframeSliderItem.$spriteSpinElement.data("contextual-images")},_getTargetFrames:function(){return"mobile"===this.currentState?e(this.mobileFramesRef,this.activeframeSliderItem.$element):e(this.desktopFramesRef,this.activeframeSliderItem.$element)},_checkIndexOf:function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1})},_isDeviceLandscape:function(){return"undefined"!=typeof t.matchMedia&&t.matchMedia("(orientation: landscape)").matches},_destroy:function(){}};jQuery.createComponent("InteractiveSlider",i)}(jQuery,window,document),function(e,t,i,n){var o={_defaults:{componentIndicator:!0,componentIndicatorScrollDuration:800,componentIndicatorScollToFitViewportWait:2e3,componentIndicatorLinkRingScale:.625,componentIndicatorLinkRingOpacity:.8},_$window:e(t),_componentsInited:!1,_isTouchDevice:!1,_dimensions:{window:{},componentTriggerHook:0,scollToFitViewportTriggerHook:0,header:{},footer:{},componentIndicator:{},shareButton:{},scrollTop:0},uiSelectors:{componentIndicator:".componentIndicator",component:".components .component:not(.componentIndicatorIgnore)",componentIndicatorLink:".componentIndicatorLink",slideReveal:".slideReveal",storyHeader:".InteractiveStoryHeader",socialSharingContainer:".InteractiveStoryHeader .stickyNavSocialSharingContainer",shareButton:".InteractiveStoryHeader .addThisButton",SocialSharing:".InteractiveStoryHeader .SocialSharing",titleContainer:".InteractiveStoryHeader .titleContainer",StoryHero:".StoryHero",headerBox:".StoryHero .headerBox",articleSharing:".interactiveStorySharing",exploreMoreWording:".js-itemCategory",exploreMoreButton:".InteractiveStoryHeader .navButton",StoryArticle:".StoryArticle",StoryCredit:".StoryCredit"},init:function(){this._detectDeviceType(),this._refreshDimensions(),this._bindEvents(),this._trackResize(),this._trackStoryHeader(),this._validateHubCookies(),this._getItemCategorySession(),this.options.componentIndicator&&this.ui("component").length>1&&this._componentIndicatorInit(),this.ui("slideReveal").length>0&&this._revealInit(),this.ui("StoryCredit").length>0&&this._setCreditAlignment(),this._initComponents()},_detectDeviceType:function(){this._isTouchDevice=site.utils.isMobileDevice(),this._isTouchDevice&&(this.$element.addClass("touch"),this.options.componentIndicator=!1)},_setCreditAlignment:function(){"centre"===this.ui("StoryArticle").first().data("alignment")&&this.ui("StoryCredit").parent().addClass("centre")},_getItemCategorySession:function(){var i=sessionStorage.getItem("itemCategory"),n=sessionStorage.getItem("itemNameplate"),o=sessionStorage.getItem("itemTag"),s="",r="",a="";null!==i&&(s="itemCategory="+i,this.ui("exploreMoreWording").each(function(t,n){var o=e(n),s=e.trim(o.text());o.hasClass("hideOnOver1024")?o.html(s.replace("EXPLORE",i)):o.html(s.replace("MORE",i))})),null!==n&&(r="itemNameplate="+n),null!==o&&(a="itemTag="+o);var l=s+(""!==r?"&"+r:"")+(""!==a?"&"+a:""),c=l.replace(/^&/,"");if(""!==c){c="?"+c,t.history.back&&this.ui("exploreMoreButton").on("click",function(e){e.preventDefault(),t.history.back()});var u=this.ui("exploreMoreButton").attr("href");this.ui("exploreMoreButton").attr("href",u+c)}},_refreshDimensions:function(){var t=e("#header"),i=e(".FooterNav, .SubFooter").eq(0);this._dimensions.window.height=this._$window.height(),this._dimensions.componentTriggerHook=this._dimensions.window.height*this._componentIndicatorComponentTriggerHook,this._dimensions.scollToFitViewportTriggerHook=this._dimensions.window.height*this._componentIndicatorScollToFitViewportTriggerHook,this._dimensions.header.bottom=t.height(),this._dimensions.footer.top=i.offset().top,this._refreshDimensionsCompontentIndicator()},getDimension:function(e,t){var i=null!==e?this._dimensions[e][t]:this._dimensions[t];return"undefined"!=typeof i?i:!1},_refreshDimensionsCompontentIndicator:function(){this._dimensions.componentIndicator.top=this.ui("componentIndicator").offset().top},_bindEvents:function(){this._$window.smartresize(this._refreshDimensions.bind(this))},_initComponents:function(){this.ui("StoryHero").StoryHero(),this.$element.find(".StoryArticle").StoryArticle(),this.$element.find(".StoryArticleVideo").StoryArticleVideo(),this.$element.find(".StoryArticleImage").StoryArticleImage(),this.$element.find(".StoryArticleEnhancedImageBlock").StoryArticleEnhancedImageBlock(),this.$element.find(".StoryArticleQuote").StoryArticleQuote(),this.$element.find(".StoryExtract").StoryExtract(),this.$element.find(".StoryGallery").StoryGallery(),this.$element.find(".StoryCallsToAction").StoryCallsToAction(),this.$element.find(".StoryLinks").StoryLinks(),this.$element.find(".StorySocialLinks").StorySocialLinks(),this.$element.find(".StoryArticleMap").StoryArticleMap(),this.ui("SocialSharing").SocialSharing({orientation:"horizontal",visibleWhenClosed:!0,hasMenu:!1}),this.ui("articleSharing").SocialSharing({orientation:"horizontal",visibleWhenClosed:!0,hasMenu:!1}).addClass("SocialSharing"),this._componentsInited=!0,this.$element.trigger("componentsInited.InteractiveStory")},componentsInited:function(){return this._componentsInited},_trackResize:function(){var t=e(this._$window,this.$element.parents(".InteractiveStory").find(".component"));t.smartresize(this._trackedResize.bind(this))},_trackStoryHeader:function(){function t(){var e=s.scrollTop(),t=a.offset().top-e+.5*a.height(),i=r.offset().top-e;i>=t?l.addClass("title_visible"):t>i&&l.removeClass("title_visible")}function n(){var e=a.offset().top+.5*a.height(),t=s.scrollTop()+r.height();t>=e?l.addClass("title_visible"):e>t&&l.removeClass("title_visible")}var o=!1,s=e(i),r=this.ui("storyHeader"),a=this.ui("headerBox"),l=this.ui("titleContainer"),c=site.utils.isMobileDevice()?n:t;this._$window.on("load",c),this._$window.on("scroll",function(){o&&clearTimeout(o),o=setTimeout(c,17)})},_validateHubCookies:function(){if("false"===site.utils.cookieManager.readCookie("interactive_story_visited")){var e=.00694,t=site.utils.cookieManager.readCookie("extra_stories_loaded"),i=site.utils.cookieManager.readCookie("filters_applied"),n=site.utils.cookieManager.readCookie("scroll_position");site.utils.cookieManager.createCookie("extra_stories_loaded",parseInt(t,10),e),site.utils.cookieManager.createCookie("interactive_story_visited",!0,e),site.utils.cookieManager.createCookie("filters_applied",i,e),site.utils.cookieManager.createCookie("scroll_position",n,e)}},_trackedResize:function(){this.$element.trigger("resize.InteractiveStory")},_$componentIndicatorList:null,_componentIndicatorWaypoints:{},_componentIndicatorIsScrolling:!1,_componentIndicatorStates:{scrolling:"componentIndicatorScrolling",linkActive:"active",linkScrollingTo:"scrollingTo"},_componentIndicatorScollToFitViewportTimeout:0,_componentIndicatorComponentTriggerHook:1,_componentIndicatorScollToFitViewportTriggerHook:.3,_componentIndicatorTransitionStylingApplied:!1,_componentIndicatorInit:function(){this._$componentIndicatorList=e('<ol class="componentIndicatorList"/>'),this.ui("componentIndicator").append(this._$componentIndicatorList),this._componentIndicatorCheckForIgnores(),this.ui("component").each(this._componentIndicatorBuildItem.bind(this)),this._componentIndicatorRefreshWaypoints(),this._refreshDimensions(),this._$window.smartresize(this._componentIndicatorRefreshWaypoints.bind(this)),this.ui("component").smartresize(this._componentIndicatorRefreshWaypoints.bind(this)),
this._$window.on("scroll resize",this._componentIndicatorOnScrollResize.bind(this)),this._componentIndicatorRefresh()},componentIndicatorIsScrolling:function(){return this._componentIndicatorIsScrolling},_componentIndicatorCheckForIgnores:function(){this.ui("component").each(function(t,i){var n=e(i);n.find(">").data("component-indicator-ignore")&&n.addClass("componentIndicatorIgnore")}),this.uiElements.component=this.$element.find(this.uiSelectors.component)},_componentIndicatorGetLink:function(t){return this.ui("componentIndicatorLink").filter(function(){return e(this).attr("href")==="#"+t})},_componentIndicatorBuildItem:function(t,i){var o=e(i);if(o.attr("id")!==n){var s=e('<li class="componentIndicatorItem"></li>'),r=e('<a href="#'+o.attr("id")+'" class="componentIndicatorLink"><span class="componentIndicatorLinkRing"></span><span class="componentIndicatorLinkDot"></span></a>');this._$componentIndicatorList.append(s.append(r)),r.on("click",this._componentIndicatorOnClickLink.bind(this,r))}},_componentIndicatorHighlightLink:function(e){this.ui("componentIndicatorLink").removeClass(this._componentIndicatorStates.linkActive),e&&this._componentIndicatorGetLink(e).addClass(this._componentIndicatorStates.linkActive)},_componentIndicatorCheckWaypoints:function(i){var n,o=!1,s=[],r=this._dimensions.componentTriggerHook;e.each(this._componentIndicatorWaypoints,function(e){var t=this._componentIndicatorWaypoints[e];return i>=t.top-r&&i<=t.bottom-1&&s.push(e),s.length>1?!1:void 0}.bind(this)),o=s[0],t.clearTimeout(this._componentIndicatorScollToFitViewportTimeout),this._componentIndicatorTransitionStylingApplied&&this._componentIndicatorRemoveTransitionStyling(),s.length>1&&!this._componentIndicatorIsScrolling&&(n=this._componentIndicatorTransitionLinks(s,i),this._componentIndicatorScrollToFitViewport(i,n)),this._componentIndicatorHighlightLink(o)},_componentIndicatorScrollToFitViewport:function(i,n){var o=this._componentIndicatorWaypoints[n],s=o.top,r=o.componentTop,a=this._dimensions.scollToFitViewportTriggerHook,l=this.options.componentIndicatorScrollDuration,c=s+a>i&&i!==s;c&&(this._componentIndicatorScollToFitViewportTimeout=t.setTimeout(site.utils.scrollTo.bind(site.utils,r,l,e.noop,"easeOutSine",!0),this.options.componentIndicatorScollToFitViewportWait))},_componentIndicatorTransitionLinks:function(t,i){var n,o=t[0],s=this._dimensions.componentTriggerHook,r=this._componentIndicatorWaypoints[o],a=(r.bottom-i)/s,l=1-a,c=a>this._componentIndicatorScollToFitViewportTriggerHook?0:1;return e.each(t,function(e,t){var i=this._componentIndicatorGetLink(t),n=e?l:a,o=this.options.componentIndicatorLinkRingScale,s=n*(1-o)+o,r=this.options.componentIndicatorLinkRingOpacity+n;i.addClass("noTransition"),i.find(".componentIndicatorLinkRing").css({transform:"scale("+s+") translate3d(0,0,0)",opacity:r}),i.find(".componentIndicatorLinkDot").css("transform","scale("+n+")")}.bind(this)),this._componentIndicatorTransitionStylingApplied=!0,n=t[c]},_componentIndicatorRemoveTransitionStyling:function(){this.ui("componentIndicatorLink").removeClass("noTransition").find(".componentIndicatorLinkRing, .componentIndicatorLinkDot").css({transform:"",opacity:""}),this._componentIndicatorTransitionStylingApplied=!1},_componentIndicatorUpdatePosition:function(e){var t,i=e+this._dimensions.window.height,n=Math.max(0,(this._dimensions.header.bottom-e)/2),o=Math.max(0,i-this._dimensions.footer.top);t=n?"translateY(-50%) translate(0, "+n+"px)":o?"translateY(-50%) translate(0, -"+o+"px)":"translateY(-50%)",this.ui("componentIndicator").css("transform",t)},_componentIndicatorOnClickLink:function(e,i){var n=e.attr("href").replace("#",""),o=this.options.componentIndicatorScrollDuration;i.preventDefault(),e.addClass(this._componentIndicatorStates.linkScrollingTo),this.ui("componentIndicator").addClass(this._componentIndicatorStates.scrolling),this._componentIndicatorIsScrolling=!0,this._$window.trigger("scrolling.InteractiveStory.start"),site.utils.scrollTo(this._componentIndicatorWaypoints[n].top,o),t.setTimeout(function(){this._$window.trigger("scrolling.InteractiveStory.stop"),e.removeClass(this._componentIndicatorStates.linkScrollingTo),this.ui("componentIndicator").removeClass(this._componentIndicatorStates.scrolling),this.ui("componentIndicatorLink").removeClass("active"),e.addClass("active"),this._componentIndicatorIsScrolling=!1}.bind(this),o+50)},_componentIndicatorOnScrollResize:function(){t.requestAnimationFrame(this._componentIndicatorRefresh.bind(this))},_componentIndicatorRefreshWaypoints:function(){this.ui("component").each(function(t,i){var n=e(i),o=n.attr("id"),s=Math.round(n.offset().top),r=Math.round(n.height()+s);this._componentIndicatorWaypoints[o]={top:0===t?0:s,componentTop:s,bottom:r}}.bind(this))},_componentIndicatorRefresh:function(){var e=this._$window.scrollTop();this._dimensions.scrollTop=e,this._componentIndicatorCheckWaypoints(e),this._componentIndicatorUpdatePosition(e)},_revealInit:function(){this._isTouchDevice||this.ui("slideReveal").InteractiveStorySlideReveal().InteractiveStorySlideRevealOverlay({InteractiveStory:this})}};jQuery.createComponent("InteractiveStory",o)}(jQuery,window,document),function(e,t){var i={_$window:e(t),_slideRevealWrapperRef:".slideRevealWrapper",_$slideRevealWrapper:null,_slideRevealWrapperHeight:0,_componentParentRef:".component",_$componentParent:null,_componentParentTop:0,init:function(){this._isTouchDevice||(this._revealAddWrapper(),this._onResize(),this._revealBindEvents())},_revealAddWrapper:function(){this.$element.wrap('<div class="'+this._slideRevealWrapperRef.replace(".","")+'"></div>'),this._$slideRevealWrapper=this.$element.parents(this._slideRevealWrapperRef).eq(0),this._$componentParent=this.$element.parents(this._componentParentRef).eq(0),this._$componentParent.addClass("revealComponent")},_onResize:function(){this._revealSetHeights(),this._revealSetPositions()},_revealSetHeights:function(){this._slideRevealWrapperHeight=this._$slideRevealWrapper.height(),this._componentParentTop=this._$componentParent.offset().top,this._$componentParent.height(this._slideRevealWrapperHeight)},_getDimension:function(e,t){return this.$element.parents(".InteractiveStory").eq(0).InteractiveStory("getDimension",e,t)},_revealSetPositions:function(){var e=this._slideRevealWrapperHeight,t=this._getDimension("window","height"),i=this._componentParentTop-this._$window.scrollTop();t>i&&i>-e?e>t?(i=i>0?0:i,i=t-e>i?t-e:i,i>t-e&&0>i?this._$slideRevealWrapper.removeClass("fixed"):this._$slideRevealWrapper.addClass("fixed").css("top",i)):(i=0>i?0:i,i=i>t-e?t-e:i,i>t-e&&i>0?this._$slideRevealWrapper.removeClass("fixed"):this._$slideRevealWrapper.addClass("fixed").css("top",i)):this._$slideRevealWrapper.removeClass("fixed")},_revealBindEvents:function(){this._$window.on("scroll",this._onScrollWrapper.bind(this)),this._$window.smartresize(this._onResize.bind(this))},_onScrollWrapper:function(){t.requestAnimationFrame(this._revealSetPositions.bind(this))}};jQuery.createComponent("InteractiveStorySlideReveal",i)}(jQuery,window,document),function(e,t){var i={_defaults:{InteractiveStory:null},_$window:e(t),_$positionElement:null,_hasRevealOverlay:!0,_slideRevealOverlayRef:".slideRevealOverlay",_$slideRevealOverlay:null,_positionTop:0,_positionBottom:0,init:function(){var e=this.options.InteractiveStory;e&&(e._componentsInited?this._componentReadyInit():e.$element.on("componentsInited.InteractiveStory",this._componentReadyInit.bind(this)))},_componentReadyInit:function(){this.$element.data("slide-reveal-overlay")&&(this._getPositionElement(),this._refreshPosition(),this._initRevealOverlay(),this._revealBindEvents())},_getPositionElement:function(){var e=this.$element.parents(".component").eq(0);this._$positionElement=e},_refreshPosition:function(){var e=this._$positionElement.outerHeight();this._positionTop=this._$positionElement.offset().top,this._positionBottom=this._positionTop+e},_getDimension:function(e,t){return this.$element.parents(".InteractiveStory").eq(0).InteractiveStory("getDimension",e,t)},_revealBindEvents:function(){this._$window.on("scroll",this._onScrollWrapper.bind(this)),this._$window.smartresize(this._refreshPosition.bind(this))},_onScrollWrapper:function(){t.requestAnimationFrame(this._onScroll.bind(this))},_onScroll:function(){var e=this._getDimension("window","height"),t=this._$window.scrollTop(),i=t+e,n=this._positionTop,o=this._positionBottom,s=i>=n&&o>=t;this._onScrollRevealOverlay(t,n,o,s)},_initRevealOverlay:function(){this._hasRevealOverlay&&(this.$element.append('<div class="'+this._slideRevealOverlayRef.replace(".","")+'"></div>'),this._$slideRevealOverlay=this.$element.find(this._slideRevealOverlayRef))},_onScrollRevealOverlay:function(e,t,i,n){if(n){var o,s;o=Math.abs((t-e)/(t-i)*.8),s=Math.max(0,Power2.easeInOut.getRatio(o)),this._$slideRevealOverlay.css("opacity",s)}}};jQuery.createComponent("InteractiveStorySlideRevealOverlay",i)}(jQuery,window,document);var panoId=0,panos=[];!function(e,t){var i={_defaults:{},krpanoURL:"/resources/public/js/libs/krpano/",pano:null,deviceControls:null,userActivated:!1,_windowWidth:null,_windowHeight:null,grabPadding:80,gyroEnabled:!1,uiSelectors:{interior:".panorama",initContainer:"pano-init-container",zoomControls:".pano-zoom-controls",zoomInButton:".pano-zoom-in",zoomOutButton:".pano-zoom-out",gyroButton:".pano-accelerometer-control",resetButton:".pano-reset-control",desktopInstructions:".pano-init-desktop",touchInstructions:".pano-init-touch"},_uniqId:null,init:function(){this._isInsideTabbedContainer=!!this.$element.parents(".TabbedContainer").not('[data-total="1"]').length,this._uniqId=Math.floor(100*Math.random()),this._isInsideTabbedContainer,this.deviceControls=this.ui("zoomControls"),site.utils.isMobileDevice()&&(this.deviceControls=this.ui("gyroButton")),this.deviceControls.show(),this._calculateHeight(),e(t).on("resize.interior-"+this._uniqId,function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this._calculateHeight()}.bind(this),250)}.bind(this)),e(t).on("closeNotificationBar",function(){setTimeout(function(){this._calculateHeight(!0)}.bind(this),100)}.bind(this)),t.krpanoJS?this._initPanoSetup():e.getScript(this.krpanoURL+"krpano-1.18.2.js").done(function(){this._initPanoSetup()}.bind(this))},_initPanoSetup:function(){this._initToggleWrapper(),this._initPanoViewer(),this._initControls(),this._calculateHeight(),this._setupGoAnimation()},_setupGoAnimation:function(){function e(){this.$element.find(".load-button").removeClass(n),this.$element.find(".load-button").addClass(t[i]),n=t[i],i++,i>=t.length?(i=0,this._animationTimeout=setTimeout(e.bind(this),3e3)):this._animationTimeout=setTimeout(e.bind(this),1e3)}var t=["up","right","down","left"],i=0,n=null;this._animationTimeout=setTimeout(e.bind(this),1e3)},_calculateHeight:function(i){var n,o=site.utils.getStickyNavHeight(this.$element.offset().top),s=e(t).height(),r=e(t).width();site.stickyNavigationEnabled||(o=e("#header").height()),(this._windowWidth!==r||!site.utils.isMobileDevice()||i)&&(n=s-o,this._isInsideTabbedContainer&&(this.$element.height(n),n-=site.utils.isBreakpointSmall()?50:70),this.$element.find(".panorama").height(n),this._isInsideTabbedContainer&&this.$element.parents(".TabbedContainer").TabbedContainer("adjustNavPosition",n),this._windowWidth=r,this._windowHeight=s)},_initToggleWrapper:function(){var t=site.utils.isMobileDevice()&&this.ui("touchInstructions").length?this.ui("touchInstructions").text():this.ui("desktopInstructions").text(),i=e("<a>",{href:"#","class":"load-button"}).append('<span class="pano-init-container">'+t+'<div><div class="up"></div><div class="left"></div><div class="right"></div><div class="down"></div></div></span>');i.on("click",function(e){e.preventDefault(),this.$element.toggleWrapper(!1,null,function(){this._isInsideTabbedContainer&&(site.utils.isBreakpointMedium()||site.utils.isBreakpointSmall())&&this._calculateHeight(!0)}.bind(this)),this._krpanoControlsEnabled(),this.userActivated=!0}.bind(this)),this.$element.find("[data-wrapper]").length>0?this.$element.find("[data-wrapper]").html(""):this.$element.toggleWrapper(!0,"transparent",function(){this.$element.find("[data-wrapper]").css({opacity:1,zIndex:3}).append(i)}.bind(this))},_initPanoViewer:function(){var e={},t=this.$element.data(),i=t.panoimageurl;e["view.hlookat"]=t.panoviewhlookat,e["view.vlookat"]=t.panoviewvlookat,e["view.maxpixelzoom"]=t.panoviewmaxpixelzoom,e["view.limitview"]=t.panoviewlimitview,e["view.fovmin"]=t.panoviewfovmin,e["view.fovmax"]=t.panoviewfovmax,e["view.fov"]=t.panoviewfov,e["view.fovtype"]="MFOV",e["control.fovspeed"]=t.panocontrolfovspeed,e["control.fovfriction"]=t.panocontrolfovfriction,e["control.touchfriction"]=t.panocontroltouchfriction,e["control.touchzoom"]=t.panocontroltouchzoom,e["autorotate.enabled"]=t.panoautorotateenabled,e["autorotate.waittime"]=t.panoautorotatewaittime,e["autorotate.speed"]=t.panoautorotatespeed,e["preview.url"]=i+"preview.jpg",e["image.type"]="CUBE",e["image.multires"]="true",e["image.tilesize"]=512,e["image.level['0'].tiledimagewidth"]=3184,e["image.level['0'].tiledimageheight"]=3184,e["image.level['0'].cube.url"]=i+"mres_%sl3_%v_l3_%s_%v_%h.jpg",e["image.level['1'].tiledimagewidth"]=1536,e["image.level['1'].tiledimageheight"]=1536,e["image.level['1'].cube.url"]=i+"mres_%sl2_%v_l2_%s_%v_%h.jpg",e["image.level['2'].tiledimagewidth"]=768,e["image.level['2'].tiledimageheight"]=768,e["image.level['2'].cube.url"]=i+"mres_%sl1_%v_l1_%s_%v_%h.jpg",e["mobile.cube.url"]=i+"mobile_%s.jpg",site.utils.isMobileDevice()&&(e["plugin[gyro].name"]="gyro",e["plugin[gyro].devices"]="html5",e["plugin[gyro].url"]=this.krpanoURL+"krpano-gyro-1.16.6.js",e["plugin[gyro].enabled"]="false",e["plugin[gyro].camroll"]="false",e["plugin[gyro].friction"]=.2,e["plugin[gyro].velastic"]=0),e["events.onviewchanged"]=function(){this._checkZoomButton()}.bind(this),0===this.$element.find(".panorama").length&&this.$element.find(".panorama-holder").prepend('<div class="panorama"></div>'),this.$element.find(".panorama")[0].id="pano_"+panoId;for(var n in panos)removepano(panos[n]),delete panos[n];embedpano({swf:this.krpanoURL+"pano.swf",xml:this.krpanoURL+"pano.xml",target:"pano_"+panoId,html5:"prefer",consolelog:!1,mwheel:!1,passQueryParameters:!0,onerror:this._krpanoError,onready:function(){this._krpanoReady()}.bind(this),vars:e,wmode:"opaque"}),this._calculateHeight(),panos.push("pano_"+panoId),panoId++,this.pano=this.$element.find(".panorama").children()[0],this.pano&&this.pano.set&&this.pano.set("control.mousetype","drag")},_initControls:function(){this.ui("gyroButton").on("click tap",function(e){e.preventDefault(),this.gyroEnabled?(this._krpanoGyroDisabled(),this.gyroEnabled=!1):(this._krpanoGyroEnabled(),this.gyroEnabled=!0)}.bind(this)),this.ui("zoomInButton").mouseup(function(){this._krpanoStopZoom()}.bind(this)).mousedown(function(){this._krpanoZoomIn()}.bind(this)).click(function(e){e.preventDefault()}.bind(this)),this.ui("zoomOutButton").mouseup(function(){this._krpanoStopZoom()}.bind(this)).mousedown(function(){this._krpanoZoomOut()}.bind(this)).click(function(e){e.preventDefault()}.bind(this)),this.ui("resetButton").on("click tap",function(e){e.preventDefault(),this._reset()}.bind(this))},_krpanoReady:function(){this._checkZoomButton()},_krpanoError:function(e){console.log(e)},_krpanoControlsEnabled:function(){this.pano&&this.pano.set("control.usercontrol","all")},_krpanoGyroEnabled:function(){this.$element.addClass("gyro-enabled"),this.pano&&this.pano.set("plugin[gyro].enabled","true")},_krpanoGyroDisabled:function(){this.$element.removeClass("gyro-enabled"),this.pano&&this.pano.set("plugin[gyro].enabled","false")},_krpanoAutorotateEnabled:function(){this.pano&&this.pano.set("autorotate.enabled","true")},_krpanoAutorotateDisabled:function(){this.pano&&this.pano.set("autorotate.enabled","false")},_krpanoZoomIn:function(){this.pano&&this.pano.set("fov_moveforce","-1")},_krpanoZoomOut:function(){this.pano&&this.pano.set("fov_moveforce","+1")},_krpanoStopZoom:function(){this.pano&&this.pano.set("fov_moveforce",0)},_checkZoomButton:function(){this.pano&&(this.pano.get("view.fov")===this.pano.get("view.fovmin")?this.ui("zoomInButton").removeClass("enabled"):this.ui("zoomInButton").addClass("enabled"),this.pano.get("view.fov")===this.pano.get("view.fovmax")?this.ui("zoomOutButton").removeClass("enabled"):this.ui("zoomOutButton").addClass("enabled"))},_onEnterViewport:function(){this._activate()},_onExitViewport:function(){this._deactivate()},_activate:function(){this.userActivated&&(this.gyroEnabled&&this._krpanoGyroEnabled(),this.$element.data("panoautorotateenabled")&&this._krpanoAutorotateEnabled())},_deactivate:function(){this._krpanoGyroDisabled(),this._krpanoAutorotateDisabled()},_reset:function(){this.pano&&(this._deactivate(),this.gyroEnabled=!1,this.pano.set("view.hlookat",this.$element.data("panoviewhlookat")),this.pano.set("view.vlookat",this.$element.data("panoviewvlookat")),this.pano.set("view.fov",this.$element.data("panoviewfov"))),this._initToggleWrapper(),this.$element.removeClass("enabled")},_destroy:function(){e(t).off("resize.interior-"+this._uniqId),this.$element.find("[data-wrapper]").length>0&&this.$element.find("[data-wrapper]").remove(),this._isInsideTabbedContainer&&site.utils.isBreakpointSmall()&&this.$element.parents(".TabbedContainer").TabbedContainer("adjustNavPosition"),clearTimeout(this._animationTimeout)}};jQuery.createComponent("Interior360",i)}(jQuery,window,document),function(e){var t={_defaults:{},init:function(){var t=this,i=e(".countrySelect",t.$element),n=e("p.errorMessage",t.$element);e("#countrySelectForm",t.$element).on("submit",function(e){n.hide(),"0"===i.val()&&(e.preventDefault(),n.show())}),i.on("change",function(){n.hide()})}};jQuery.createComponent("InternationalDealerLocator",t)}(jQuery,window,document),function(e){var t={_defaults:{},init:function(){var t=this;site.utils.scrollTo(this.$element),e(".infoCardDealer .contactDetails .tel a",t.$element).click(function(e){var t=site.utils.isBreakpointSmall()&&site.utils.isMobileDevice();t||e.preventDefault()}),e(".list").lrdxMasonry({animate:!1}),e(".list").lrdxMasonry("refresh")}};jQuery.createComponent("InternationalDealerLocatorResults",t)}(jQuery,window,document),function(e,t){var i={_headerHeight:0,_tables:null,_currentTable:null,_bufferOnBottom:200,_$window:e(t),_beginAnimation:function(e){t.requestAnimationFrame?t.requestAnimationFrame(e):e()},_createShadowTitleColumn:function(){var t=e(this._currentTable);if(!(t.find("tbody th").length<1)){t.after('<table class="sticky-column" />');var i=t.find("thead, tbody").clone();t.siblings(".sticky-column").append(i).find("thead th:gt(0)").remove().end().find("tbody td").remove().end().addClass("compare-table"),t.hasClass("vehicle-table")&&t.siblings(".sticky-column").addClass("vehicle-table")}},_createShadowHeaderColumn:function(){var t=e(this._currentTable);t.after('<table class="sticky-header" />');var i=t.siblings(".sticky-header"),n=t.find("thead th").clone();i.html("<thead><tr></tr></thead>"),i.find("tr").html(n),i.addClass("compare-table"),i.wrap('<div class="sticky-header-wrapper" />')},_responsiveArrow:function(t){var i=e(".KeeComparisonTool");t&&i.hasClass("sliding-active")?i.removeClass("sliding-active"):i.hasClass("sliding-active")||i.addClass("sliding-active"),setTimeout(function(){e(".Accordion").Accordion("calculateNewHeight")},100)},_updateStickyDimensions:function(){function t(){i.find("th").width(s),i.find("tbody tr").each(function(t,i){var n=o.find("tbody tr").eq(t).height();e(i).height(n)}),i.find("thead th").height(r),n.find("th").height(r)}var i=e(this._currentTable).siblings(".sticky-column"),n=e(this._currentTable).siblings(".sticky-header-wrapper").find(".sticky-header"),o=e(this._currentTable),s=o.find("thead th").width(),r=o.find("thead th").height();o.find("tbody td").height(),o.find("tbody tr").height(),this._beginAnimation(t)},_resizeHandler:function(){function t(){n.each(function(t,n){i._currentTable=e(n),i._updateStickyDimensions()})}var i=this,n=e(i._tables),o=null;i._$window.resize(function(){t&&clearTimeout(o),o=setTimeout(t,500),t()})},_initEvents:function(){var t=this,i=e(this._tables).siblings(".sticky-column");e(".slide-wrapper-main"),e(this._tables),t._resizeHandler(),e(".slide-wrapper-main").on("scroll",function(i){e(".sticky-header-wrapper").animate({scrollLeft:i.currentTarget.scrollLeft},0),i.currentTarget.scrollLeft<1?t._responsiveArrow(!0):t._responsiveArrow(!1)});var n=0;e(".slide-wrapper-main").scroll(function(){var o=e(".slide-wrapper-main").scrollLeft();t._beginAnimation(function(){i.css("transform","translateX("+o+"px)"),e(".accordion-group-title").css("padding-left",o+20)}),n=o}),t._$window.scroll(function(){var i=e(t._tables),n=t._$window.scrollTop();i.each(function(i,o){var s=e(o),r=s.siblings(".sticky-header-wrapper");if(!s.hasClass("no-sticky-header-js")){var a=n-s.offset().top;a>0&&a<s.height()-t._bufferOnBottom?r.addClass("fixed"):r.removeClass("fixed")}})})},_initIndvidiualTable:function(){e(this._currentTable).wrap('<div class="sticky-wrapper" />'),e(this.currentTable).hasClass("no-sticky-header-js")||this._createShadowHeaderColumn(),this._updateStickyDimensions()},init:function(){var t=this;e(function(){e("table").length<1||e("table.sticky-js").length<1||(t._tables=e("table.sticky-js"),t._headerHeight=e("#header").height(),e(t._tables).each(function(e,i){t._currentTable=i,t._initIndvidiualTable()}),t._initEvents())})}};jQuery.createComponent("KeeComparisonTool",i)}(jQuery,window,document),function(e,t){var i={init:function(){var i=this,n=null;e(t).on("resize",function(){n&&clearTimeout(n),n=setTimeout(function(){e(".Accordion").Accordion("calculateNewHeight"),i._resetAccordionTitleWidth()},500)}),e(".accordion-group-title").off(),e(".accordion-group-title").on("click",function(t){var n=e(this);if(i._toggleSection(t),e(".accordion-group-title").index(n),n.parent().hasClass("open")){var o=50,s=n.offset().top-o;e("html, body").animate({scrollTop:s},700,function(){})}}),i._closeAll(),e(".KeeComparisonTool").removeClass("not-init"),i._resetAccordionTitleWidth()},_toggleSection:function(t){var i=e(t.currentTarget),n=i.find(".accordion-toggle-icon"),o=i.siblings(".accordion-group-content");n.hasClass("open")?(n.removeClass("open").addClass("closed"),i.parent().removeClass("open").addClass("closed"),o.height(0)):(n.removeClass("closed").addClass("open"),i.parent().removeClass("closed").addClass("open"),o.height(o.find("table").height())),e(".Accordion").Accordion("calculateNewHeight")},_closeAll:function(t){e(".accordion-toggle-icon").not(":eq("+t+")").removeClass("open").addClass("closed"),e(".accordion-group").not(":eq("+t+")").removeClass("open").addClass("closed"),e(".accordion-group-content").not(":eq("+t+")").height(0),e(".Accordion").Accordion("calculateNewHeight")},_resetAccordionTitleWidth:function(){var i=e(t).width()-40;e(".accordion-toggle-icon-wrapper").css("max-width",i)}};jQuery.createComponent("KeeComparisonToolAccordion",i)}(jQuery,window,document),function(e){var t={_bars:null,_model:null,_barSelector:".vehicle-table .bar",_buildModel:function(){var t=this;t._model={},e.each(t._bars,function(i,n){var o=e(n).attr("data-key"),s=e(n).attr("data-value");t._model.hasOwnProperty(o)?t._model[o].push(parseInt(s,10)):t._model[o]=[parseInt(s,10)]}),console.log(t._model)},_findOptimal:function(e){var t=this,i=!0;"mpg"===e&&(i=!1);for(var n=-1,o=-1,s=t._model[e].length,r=0;s>r;r++)-1===n&&(n=t._model[e][r],o=r),t._model[e][r]>n&&!i&&(n=t._model[e][r],o=r),t._model[e][r]<n&&i&&(n=t._model[e][r],o=r);return o},_setWidths:function(t){for(var i=this,n=null,o=50,s=i._model[t].length,r=0;s>r;r++){var a=i._model[t][r];100>a&&(a+=100),(null===n||a>n)&&(n=a)}for(var l=0;s>l;l++){var c=i._model[t][l];100>c&&(c+=100);var u=.1+.9*(c-o)/(n-o);e(e(i._barSelector+"[data-key="+t+"]").get(l)).css("width",100*u+"%")}},init:function(){var t=this;e(function(){if(!(e(t._barSelector).length<1)){t._bars=e(t._barSelector),t._buildModel();for(var i in t._model)if(t._model.hasOwnProperty(i)){var n=t._findOptimal(i);if(-1!==n){var o=e(e(t._barSelector+"[data-key="+i+"]").get(n));o.addClass("optimal")}t._setWidths(i)}}})}};jQuery.createComponent("KeeComparisonToolBars",t)}(jQuery,window,document),function(e,t){var i={_cookieName:"JLR_marketCookie",_cookieLife:30,init:function(){var i=this;e(".languageWrapper a",this.$element).on("click tap",function(n){n.preventDefault();var o=e(this).attr("href");i._createCookie(o),t.location=o}),i._checkCookie()},_createCookie:function(t){var i=this,n=e(".country",i.$element).data("country");site.utils.cookieManager.createCookie(i._cookieName,[n,t].join(","),i._cookieLife)},_checkCookie:function(){var e=this;if(site.utils.cookieManager.checkForCookie(e._cookieName)===!0){var i=site.utils.cookieManager.readCookie(e._cookieName),n=i.split(",")[1];"undefined"!=typeof n&&(t.location=n)}}};jQuery.createComponent("LanguageSelector",i)}(jQuery,window,document),function(e,t,i){function n(t,i){this.$element=e(t),this.options=e.extend({},s,i),this._defaults=s,this._name=o,this._$searchContainer=e(".SearchButton",this.$element),this._$form=e(".MainNavSearchForm",this.$element),this._scrollDirection="up",this._$searchButton=e(".searchButtonSearch",this.$element),this._$closeButton=e(".searchButtonClose",this.$element),this._$inactiveSearchButton=e("<div class='inactiveSearchButton'><span>SEARCH</span></div>"),this._$primaryNavLinks=e(".primaryNav li",this.$element),this._vehicleSelectorVisible=!1,this._vehicleSelectorContentLoaded=null,this._vehicleSelectorOverlayLoaded=!1,this.init(this)}var o="MainNavigation",s={};n.prototype={init:function(){this._initSeachUi(this),e(".MainNavigation .MainNavSearchForm .searchText").on("input",function(){var t=e(this).val().toLowerCase();"youspinmerightroundbabyrightround"===t?e("#logo").addClass("spinmebaby"):e("#logo").removeClass("spinmebaby")})},_initSeachUi:function(t){e(".searchAutoComplete").AutoComplete({wrapper:!1,dataURL:e(".SearchButton input").attr("auto-complete-url"),keyMatchTitle:e(".SearchButton input").attr("promoted-title"),youSearchedTitle:e(".SearchButton input").attr("search-text"),appendAfter:".MainNavigation",autoSubmit:!0}),e("#MainNavSearchForm",t.$element).on("submit",function(){var t=e(this).find("input");return t.val(site.utils.removeHTMLTags(t.val())),!0}),t._$searchButton.on("click tap",function(e){e.preventDefault(),t._$searchButton.blur(),t._$form.hasClass("active")||(t._showSearchForm(t),t._$searchButton.hide().after(t._$inactiveSearchButton))}),t._$closeButton.on("click tap",function(e){e.preventDefault(),t._$form.hasClass("active")&&(t._hideSearchForm(t),t._$inactiveSearchButton.remove(),t._$searchButton.show())})},_showSearchForm:function(n){e(i).off("click.MainNavigation");var o=e(n.$element).width(),s=e(n.$element).width()-140;n._$form.css({width:s}).addClass("active"),n._$form.find(".searchText").focus().select(),n._$searchContainer.transition({width:o+"px"},400,"ease",function(){e(i).on("click",function(t){-1===e(t.target).parents().index(n._$searchContainer)&&0===n._$form.find(".searchText").val().length?(e(i).off("click.MainNavigation"),n._hideSearchForm(n),n._$inactiveSearchButton.remove(),n._$searchButton.show()):(0===n._$form.find(".searchText").val().length||-1!==e(t.target).parents().index(n._$searchButton))&&n._$form.find(".searchText").focus().select().val(n._$form.find(".searchText").val())})}),n._$closeButton.attr("tabindex",""),n._$form.find(".searchText").attr("tabindex",""),n._$primaryNavLinks.find("a").attr("tabindex","-1"),e(t).smartresize(function(){if(n._$form.hasClass("active")){var t=e(n.$element).width();n._$searchContainer.css("width",t),n._$form.css("width",t-140)}})},_hideSearchForm:function(t){e(i).off("click"),t._$form.find(".searchText").val(""),t._$searchContainer.transition({width:"70px"},400,"ease"),t._$form.transition({width:"1px"},300,"linear",function(){t._$form.removeClass("active");var e=t._$form.find(".searchText");e.attr("readonly","readonly"),e.attr("disabled","true"),t._$closeButton.attr("tabindex","-1"),t._$form.find(".searchText").attr("tabindex","-1"),t._$primaryNavLinks.find("a").attr("tabindex",""),t._$searchButton.focus(),setTimeout(function(){e.blur(),e.removeAttr("readonly"),e.removeAttr("disabled")},100)})}},e.fn[o]=function(t){return this.each(function(){e.data(this,"component_"+o)||e.data(this,"component_"+o,new n(this,t))})}}(jQuery,window,document),function(e,t){var i={_$regionSelect:null,_$regionDropdown:null,_$countrySelect:null,_$countryDropdown:null,_$languageSelect:null,_$languageDropdown:null,_$continueButton:null,_countryOptions:null,_languageOptions:null,init:function(){var e=this;e._getElements(),e._cacheSelectOptions(),e._addEvents(),e._initDropdowns()},_getElements:function(){var t=this;t._$regionSelect=e(".regionSelect",t.$element),t._$regionDropdown=t._$regionSelect.parent(".DropdownSelect"),t._$countrySelect=e(".countrySelect",t.$element),t._$countryDropdown=t._$countrySelect.parent(".DropdownSelect"),t._$languageSelect=e(".languageSelect",t.$element),t._$languageDropdown=t._$languageSelect.parent(".DropdownSelect"),t._$continueButton=e(".continueButton",t.$element)},_cacheSelectOptions:function(){var e=this;e._countryOptions=e._$countrySelect.html(),e._languageOptions=e._$languageSelect.html().replace(/<!\[[^\0]*?\]\]>|<!-\-[^\0]*?-\->|(<[\w:](?:[^'">]*('|").*?\2)*[^>]*?)(=[^\s>]+)?>/g,function(e,t,i,n){return n?t+"='"+n.substring(1)+"'>":e})},_addEvents:function(){var e=this;e._$regionSelect.on("change",function(){e._updateCountrySelect()}),e._$countrySelect.on("change",function(){e._updateLanguageSelect()}),e._$languageSelect.on("change",function(){e._updateContinueButton()}),e._$continueButton.on("click tap",function(t){t.preventDefault(),e._redirectUser()})},_initDropdowns:function(){var e=this;e._$regionSelect.length>0?e._$regionSelect.trigger("change"):e._$countrySelect.trigger("change")},_updateCountrySelect:function(){var t=this,i=t._$regionSelect.val();t._$countrySelect.html(t._countryOptions),e("option:first",t._$countrySelect).attr("selected","selected");var n=e("optgroup",t._$countrySelect);n.each(function(){var t=e(this),n=t.data("region");n!==i&&t.remove()}),null===i?t._$countrySelect.attr("disabled","disabled"):t._$countrySelect.removeAttr("disabled"),t._$countrySelect.trigger("update"),t._updateLanguageSelect()},_updateLanguageSelect:function(){var t=this,i=t._$countrySelect.val();t._$languageSelect.html(t._languageOptions),e("option:first",t._$languageSelect).attr("selected","selected");var n=e("optgroup",t._$languageSelect);n.each(function(){var t=e(this),n=t.data("country");n!==i&&t.remove()});var o=e("optgroup option",t._$languageSelect);1===o.length&&o.first().attr("selected","selected"),null===i?t._$languageSelect.attr("disabled","disabled"):t._$languageSelect.removeAttr("disabled"),t._$languageSelect.trigger("update"),t._updateContinueButton()},_updateContinueButton:function(){var e=this,t=e._$languageSelect.val();null===t?e._$continueButton.addClass("disabled"):e._$continueButton.removeClass("disabled")},_redirectUser:function(){var e=this;if(!e._$continueButton.hasClass("disabled")){var i=e._$languageSelect.find(":selected").val();t.location=i}}};jQuery.createComponent("MarketPageSelector",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{geoLocate:!0},_cookieName:"JLR_marketCookie",_continentSelect:null,_countrySelect:null,_languageSelect:null,_continueButton:null,init:function(){var t=this;e("html").hasClass("lt-ie9")&&0===e(".MainNavigation").length&&e("body").addClass("ieMarketSelector"),t._assignSelectAndButtonEvents(),t.options.geoLocate&&t._checkForCookiesAndGeoLocate()},_checkForCookiesAndGeoLocate:function(){var e,i,n=this,o=site.utils.cookieManager.readCookie(n._cookieName),s=n._checkReferrer(),r=site.utils.cookieManager.checkForCookie(n._cookieName);r&&(e="XI"!==o.split(",")[0],i=n._checkTimeStamp(o.split(",")[2])),
s&&r&&e&&i?t.location=o.split(",")[1]:site.utils.geoLocationManager.getGeoLocation(function(e){n._preSelectDropdown(e.country_code)})},_preSelectDropdown:function(t){var i=this,n=e(".continentSelect",i.$element),o=e(".countrySelect",i.$element),s=o.find("option[value='country-"+t+"']",i.$element);s.length>0&&(n.val(s.parent().attr("data-continent")),n.removeAttr("disabled"),n.trigger("update").trigger("change"),o.val("country-"+t),o.removeAttr("disabled"),o.trigger("update").trigger("change"))},_checkTimeStamp:function(e){var t=!0,i=(Date.now()-Number(e))/1e3;return 20>i&&(t=!1),t},_checkReferrer:function(){var e=i.referrer,t=!0;return(-1!==e.indexOf("landrover")||-1!==e.indexOf("local"))&&(t=!1),t},_getElements:function(){var t=this;t._continentSelect=e(".continentSelect",t.$element),t._countrySelect=e(".countrySelect",t.$element),t._languageSelect=e(".languageSelect",t.$element),t._continueButton=e(".continueButton",t.$element)},_assignSelectAndButtonEvents:function(){this._getElements();var i=this,n=i._continentSelect,o=i._countrySelect,s=o.html(),r=i._languageSelect,a=r.html(),l=i._continueButton;o.attr("disabled","disabled"),o.trigger("update"),r.attr("disabled","disabled"),r.trigger("update"),n.on("change",function(){e("option:first",r).attr("selected","selected"),r.attr("disabled","disabled"),r.trigger("update"),i._setSelected(),o.html(s),e("option:first",o).attr("selected","selected");for(var t=o.find("optgroup"),a=0;a<t.length;a++)e(t[a]).attr("data-continent")===n.val()&&(o.children("optgroup").remove(),o.append(e(t[a]).html()));o.removeAttr("disabled"),o.trigger("update")}),o.on("change",function(){r.html(a),l.addClass("disabled");for(var t=r.find("optgroup"),n=null,s=0;s<t.length;s++)e(t[s]).attr("data-country")===o.val()&&n!==o.val()&&(n=o.val(),r.children("optgroup").remove(),r.append(e(t[s]).html()),r.children().length<=2&&(e("option:nth-child(2)",r).attr("selected","selected"),i._setSelected()));r.removeAttr("disabled"),r.trigger("update")}),r.on("change",function(){i._setSelected()}),l.on("click tap",function(t){if(e(this).hasClass("disabled"))return void t.preventDefault();var n=r.find(":selected").attr("data-market-url"),s=o.val().split("-")[1];site.utils.cookieManager.createCookie(i._cookieName,[s,n,Date.now()].join(","),30)}),e(".visitInternational",i.$element).on("click tap",function(n){n.preventDefault();var o=e(this).attr("href");site.utils.cookieManager.createCookie(i._cookieName,["XI",o,Date.now()].join(","),30),t.location=o})},_setSelected:function(){this._continueButton.removeClass("disabled"),this._continueButton.attr("href",this._languageSelect.find(":selected").attr("data-market-url"))},_destroy:function(){var e=this;e._continentSelect.off("change"),e._countrySelect.off("change"),e._languageSelect.off("change")}};jQuery.createComponent("MarketSelector",n)}(jQuery,window,document),function(e,t){var i={_defaults:{url:"",overlay:!0},_tallestModel:0,_windowWidth:0,_$visibleTab:e(".visibleTab",this.$element),_$window:e(t),_touchEnabledDevice:"ontouchstart"in t||navigator.msMaxTouchPoints?!0:!1,init:function(){var i=this;this._windowWidth=e(t).width(),i._$tabFilter=e(".TabFilter",this.$element),e(t).smartresize(function(){i._onResize()}),""!==this.options.url?e.ajax({type:"GET",url:this.options.url,dataType:"html"}).done(function(t){i.$element.html(e(".ModelSelector",t).html()),e(".ResponsiveLink").ResponsiveLink(),e(".ModelSelector",t).hasClass("withTabs")&&i.$element.addClass("withTabs"),t=null,i._onOpen()}):i._onOpen(),i._$tabFilter.on("changeTabs",function(){setTimeout(function(){i._recalculateModelHeights()},1e3)})},_onOpen:function(){var i=this;this._modelSelectorVisible=!0,t.richsponsiveImage(),e(".TabFilter",this.$element).TabFilter(),this._recalculateModelHeights(),i._windowWidth=e(t).width(),e(".TargetLinks",i.$element).TargetLinks("setupListener"),this.options.overlay===!0&&e(".backButton",this.$element).on("click tap",function(e){e.preventDefault(),i._closeModelSelector()}),i.$element.waitForImages(function(){e(t).trigger("resize")}),e(".selectorContentLink",this.$element).on("click tap",function(t){i._touchEnabledDevice||"secondaryLinkWithStyle"===t.target.className||(console.log(e(t.target)),console.log("NO!!"),t.preventDefault())}),this.$element.trigger("readyToOpen"),i._checkContentLinks()},_checkContentLinks:function(){var t=this;if(this._touchEnabledDevice&&t._$window.width()<=site.breakpoints.small){var i=e(".selectorContentLink",t._$element);e.each(i,function(t,i){var n=e(i),o=n.html();n.replaceWith(e('<a href="'+n.attr("data-href")+'" class="selectorContentLink TargetLinks" tabindex="-1" data-href="'+n.attr("data-href")+'" data-target="'+n.attr("data-target")+'">'+o+"</div>"))}),e(".TargetLinks",t._$element).TargetLinks("setupListener")}},_onResize:function(){this._recalculateModelHeights()},_recalculateModelHeights:function(){var i=this;this._$visibleTab=e(".tabContent",this.$element),0!==e(".TabFilter",this.$element).length&&(this._$visibleTab=e(".visibleTab",this.$element));var n=e(".el",this._$visibleTab),o=e(".modelWrapper",this._$visibleTab),s=o.find(".selectorContent .positioningText"),r=parseInt(this._$visibleTab.attr("data-total"),10),a=3,l=1;if(s.css("height","auto"),s.equalHeights(),1!==r&&(e(t).width()>1&&e(t).width()<site.breakpoints.small?o.css({height:"auto"}):e(t).width()>site.breakpoints.small&&e(t).width()<site.breakpoints.medium?a=2:e(t).width()>site.breakpoints.medium&&(4===r||7===r||8===r)&&(a=4),e(t).width()>site.breakpoints.small)){var c=0;n.each(function(t){t++,a>=t&&e(this).removeAttr("data-row").attr("data-row",l),t===a&&(e(".el[data-row="+l+"]",i._$visibleTab).find(".modelWrapper").css("height","auto").equalHeights(),e(".el[data-row="+l+"]",i._$visibleTab).find(".modelSelectorButtonOne").css("height","auto").equalHeights(),e(".el[data-row="+l+"]",i._$visibleTab).find(".modelSelectorButtonTwo").css("height","auto").equalHeights(),l++,a*=l)}),c!==a&&(e(".el[data-row="+l+"]",i._$visibleTab).find(".modelWrapper").css("height","auto").equalHeights(),e(".el[data-row="+l+"]",i._$visibleTab).find(".modelSelectorButtonOne").css("height","auto").equalHeights(),e(".el[data-row="+l+"]",i._$visibleTab).find(".modelSelectorButtonTwo").css("height","auto").equalHeights())}},_closeModelSelector:function(){this._unbindEvents(),this.$element.trigger("onClose")},_preloadImages:function(t){e(t).each(function(){e("<img/>")[0].src=this})},_unbindEvents:function(){e(".backButton",this.$element).off("click tap"),e(".TabFilter",this.$element).TabFilter("destroy")},_destroy:function(){this._unbindEvents()}};jQuery.createComponent("ModelSelector",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},uiSelectors:{countryForm:".countryForm",errorMessage:".errorMessage",errorMessageCountry:".countryErrorMessage"},geolocation:!1,popupNode:".mobileGeoLocationPopup",init:function(){var t=this;if(this._initSectionsToDropDown(),this._validatePostcode(),this._validatePlaceName(),this._validateRetailer(),this._validateCountry(),"undefined"!=typeof dealerLocator_names&&dealerLocator_names.length>=1&&e(".DealerAutoComplete").AutoComplete({localData:dealerLocator_names}),this.$element.data("geolocation")&&(this.geolocation=!0),t._scrollToResults(),this.geolocation&&site.utils.isBreakpointSmall()){if(i.location.href.indexOf("?")>-1)return;site.utils.geoLocationManager.getNativeGeoLocation(function(e){e.error||t._showPopupOverlay(e)})}},_scrollToResults:function(){setTimeout(function(){var t=e(".NationalDealerLocatorResults, .NationalDealerLocatorError");t.length&&site.utils.scrollTo(t)},500)},_showPopupOverlay:function(n){var o=this,s=e(o.popupNode),r=e("span.location",s),a=e(".locationYes",s),l=e(".locationNo",s);r.text(n.city),l.on("click tap",function(t){t.preventDefault(),e.magnificPopup.close()}),a.on("click tap",function(o){o.preventDefault(),e.magnificPopup.close(),t.location=i.location.href+"?lng="+n.longitude+"&lat="+n.latitude}),e.magnificPopup.open({items:{src:o.popupNode,type:"inline"},showCloseBtn:!1,closeOnBgClick:!1,fixedContentPos:!0,alignTop:!0,enableEscapeKey:!1})},_initSectionsToDropDown:function(){var t=this,i=e(".searchForms",this.$element),n=e("form",i);if(i.show(),n.length<=1)return void n.each(this._prefillForm.bind(this));i.addClass("multipleForms");var o=e(".selectHeader",i).hide().map(function(){return e(this).text()}).get(),s=e('<div class="col"></div>'),r=e('<select class="DropdownSelect searchSelect"></select>');s.append(r),this.updateFilterList(o,r),e(".searchSelectContainer",i).append(s),e(".seperator",i).hide();var a=0,l=[];e(".mainInput",n).each(function(){l.push(e(this).find("input, select").attr("name"))}),n.each(function(i){var n=e(this);n.find("input, select").each(function(){var n=e(this),o=n.attr("name");if(t._searchQueryStringParameter(o)){var s=decodeURIComponent(site.utils.getUrlParameter(o)).replace(/\+/g," ");n.val(s),l.indexOf(o)>-1&&(a=i);var r=!1;n.is("select")?r=n.children("option:selected").text():n.is("input")&&(r=n.text()),r&&n.siblings("span.selected").children("span").text(r.toUpperCase())}})}),"en-GB"===e("html").attr("lang")&&this._searchQueryStringParameter("country")&&"GB"!==decodeURIComponent(site.utils.getUrlParameter("country"))&&0===a&&(a=1),r.val(a),r.DropdownSelect(),n.hide().eq(a).show();var c=this.$element.find(".errorMessage");"en-GB"===e("html").attr("lang")&&this._searchQueryStringParameter("country")&&"GB"!==decodeURIComponent(site.utils.getUrlParameter("country"))&&(this.updateFilterList(o,r,0),r.siblings("ul").children("li:first").hide()),r.change(function(){n.hide().eq(this.value).show(),c.hide()}),"en-GB"===e("html").attr("lang")&&e("[name=country]",this.$element).on("change",function(t){var i=e(t.currentTarget).val();"GB"!==i?(this.updateFilterList(o,r,0),3===r.siblings("ul").children("li").length&&r.siblings("ul").children("li:first").hide(),a=1):(this.updateFilterList(o,r),r.siblings("ul").children("li:first").show(),a=0),r.val(a),r.siblings("span.selected").children("span").text(r.children("option:selected").text().toUpperCase()),n.hide().eq(a).show()}.bind(this));var u=n.find("input, select").not(".mainInput");u.on("change",function(){var t=e(this);u.trigger("dropdown_change",{value:t.val(),name:t.attr("name")})}),u.on("dropdown_change",function(t,i){var n=e(this);if(n.attr("name")===i.name){n.val(i.value);var o="";n.is("select")?o=n.children("option:selected").text():n.is("input")&&(o=n.text()),n.siblings("span.selected").children("span").text(o.toUpperCase())}})},updateFilterList:function(t,i,n){i.empty(),e.each(t,function(e){n!==e&&i.append('<option value="'+e+'">'+this.toUpperCase()+"</option>")})},_prefillForm:function(t,i){var n=e(i),o=n.find("input, select");o.each(function(t,i){var n=e(i),o=n.attr("name");if(this._searchQueryStringParameter(o)){var s=decodeURIComponent(site.utils.getUrlParameter(o)).replace(/\+/g," ");n.val(s);var r=n.is("select")?n.children("option:selected").text():n.text();r&&n.siblings("span.selected").children("span").text(r.toUpperCase())}}.bind(this))},_searchQueryStringParameter:function(e){var i=t.location.href;return-1!==i.indexOf("?"+e+"=")?!0:-1!==i.indexOf("&"+e+"=")?!0:!1},_validatePostcode:function(){var t=this;e(".postcode",t.$element).on("submit",function(i){t.$element.find(".errorMessage").hide();var n=e(".postcode input[type=text]",t.$element),o=e(".postcodeErrorMessage",t.$element),s=new RegExp(t.$element.data("postcode-regex"));o.hide(),""!==n.val()&&n.val()!==n.attr("placeholder")&&s.test(n.val())||(i.preventDefault(),o.show(),n.css({border:"1px solid "+site.colours.error}))})},_validatePlaceName:function(){e(".locality",this.$element).on("submit",function(t){this.$element.find(".errorMessage").hide();var i=e(".locality input[type=text]",this.$element),n=e(".placenameErrorMessage",this.$element),o=new RegExp(this.$element.data("placename-regex"));n.hide(),""!==i.val()&&i.val()!==i.attr("placeholder")&&o.test(i.val())||(t.preventDefault(),n.show(),i.css({border:"1px solid "+site.colours.error}))}.bind(this))},_validateRetailer:function(){e(".dealername",this.$element).on("submit",function(t){this.$element.find(".errorMessage").hide();var i=e(".dealername input[type=text]",this.$element),n=e(".dealernameErrorMessage",this.$element);n.hide(),(""===i.val()||i.val()===i.attr("placeholder"))&&(t.preventDefault(),n.show(),i.css({border:"1px solid "+site.colours.error}))}.bind(this))},_validateCountry:function(){this.ui("countryForm").on("submit",function(e){var t=this.ui("countryForm").find(".country select"),i=t.parent(".DropdownSelect");this.ui("errorMessage").hide(),i.removeClass("error"),t.val()&&""!==t.val()&&"0"!==t.val()||(e.preventDefault(),this.ui("errorMessageCountry").show(),i.addClass("error"))}.bind(this))}};jQuery.createComponent("NationalDealerLocator",n)}(jQuery,window,document),function(e){var t={init:function(){e(".searchAgainButton",this.$element).on("click tap",function(t){t.preventDefault(),site.utils.scrollTo(e(".dealerLocatorSearch"))})}};jQuery.createComponent("NationalDealerLocatorError",t)}(jQuery,window,document),function(e,t,i,n){var o={_map:null,_pinInfoboxs:null,_pushPins:null,_mapValues:{mapTop:null,mapHeight:null,containerBottom:null,containerHeight:null,scrollLimit:null},_isDesktopDevice:null,_scrollPosition:null,$htmlEl:e("html"),earthRadius:{miles:3958,km:6371},maxRadius:500,radius:!1,postCode:!1,placeName:!1,unit:"miles",_previousBp:"",init:function(){var i=this;this.radius=this.$element.data("radius"),this.postCode=site.utils.getUrlParameter("postCode"),this.placeName=site.utils.getUrlParameter("placeName"),this.dealerName=site.utils.getUrlParameter("dealerName"),this.unit=this.$element.data("unit"),this._previousBp=site.utils.getBreakpointSize(),i._detectIOS(),i._detectDesktopDevice(),i._radiusFilter(),i._resizeDealerCards(),i._loadTheme(),i._getMap(),i._addPinsToMap(),i._initDirections(),i._listEventHandlers(),i._handleTelephoneClick(),i._backToSearch(),i._mapHeight(),i._resultsHeight(),i._mapCalculations(),i._mapPosition(),i._mapInteractions(),e(t).smartresize(function(){i._resizeDealerCards(),i._mapHeight(),i._resultsHeight(),i._mapCalculations(),i._mapPosition(),i._mapInteractions(),i.touchRepositionSearch()}),e(t).scroll(function(){i._mapPosition()}),e(".dealerSidebar",i.$element).resize(function(){i._mapCalculations(),i._mapPosition()}),e(t).on("hashchange",function(){return"#directions"===t.location.hash?(i._showDirections(),void i._getDirections()):(i._addPinsToMap(),void i._hideDirections())})},_detectIOS:function(){site.utils.isIOS()&&this.$element.addClass("iOS")},_detectDesktopDevice:function(){var e=this;site.utils.isMobileDevice()?e._isDesktopDevice=!1:(e.$element.addClass("desktop"),e._isDesktopDevice=!0)},_mapHeight:function(){var i,n=this,o=e(".dealerResults",n.$element),s=o.find(".bingMapContainer"),r=s.find(".bingMap"),a=o.find(".dealerHeader"),l=site.utils.getBreakpointSize(),c=e(t).height();if("small"===l)c="",i="";else if(n._isDesktopDevice){var u=parseInt(s.css("padding-top"),10)+parseInt(s.css("padding-bottom"),10);c-=u;var d=e("#header");if("fixed"===d.css("position")){var h=site.utils.getHeaderHeight(site.stickyNavigationTransitionPoint+1);c-=h}var p=a.outerHeight();c-=p,i=c+u+p+"px",c+="px"}else c="",i="";r.css("height",c),o.css("min-height",i)},_resultsHeight:function(){var t=this,i=(e(".dealerSidebar .list li:first-child .infoCard",t.$element),e(".dealerSidebar .list li:last-child .infoCard",t.$element)),n=e(".bingMap",t.$element);if(1===n.length&&1===i.length){var o=site.utils.getBreakpointSize(),s="";if("small"!==o){var r=n.outerHeight(),a=i.outerHeight();r>a&&(s=r-a+"px")}i.css("margin-bottom",s)}},_mapCalculations:function(){var t=this;if(null!==t._map&&t._isDesktopDevice){var i=e(".dealerMap",t.$element),n=i.parents(".dealerResults"),o=i.find(".dealerHeader"),s=e(".bingMapContainer",t.$element);i.removeClass("dealerMapFloating dealerMapStopped"),i.css("width","auto"),i.css("width",i.outerWidth()),t._mapValues.mapTop=i.offset().top,t._mapValues.mapHeight=s.outerHeight(),t._mapValues.containerHeight=n.innerHeight(),t._mapValues.containerBottom=n.offset().top+t._mapValues.containerHeight-parseInt(n.css("padding-bottom"),10),t._mapValues.mapHeaderHeight=o.outerHeight(),t._mapValues.scrollLimit=t._mapValues.containerBottom-t._mapValues.mapHeight-t._mapValues.mapHeaderHeight}},_mapPosition:function(){var i=this;if(null!==i._map){var n=e(t),o=e(".dealerMap",i.$element),s=e("#header"),r=n.scrollTop(),a="fixed"===s.css("position"),l=s.outerHeight();a&&(r+=l);var c="",u="";i._isDesktopDevice&&n.width()>site.breakpoints.small&&r>i._mapValues.mapTop&&(r>i._mapValues.scrollLimit?(c="dealerMapStopped",u=i._mapValues.containerHeight-i._mapValues.mapHeight-i._mapValues.mapHeaderHeight+"px"):(c="dealerMapFloating",u=i._mapValues.containerBottom-(i._mapValues.mapHeight+r),u=u>0?0:u,u=a?u+l:u)),o.removeClass("dealerMapFloating dealerMapStopped"),""!==c&&o.addClass(c),o.css("top",u)}},_mapInteractions:function(){var e=this;if(null!==e._map){var t;t=e._isDesktopDevice?{disablePanning:!1,disableZooming:!0}:{disablePanning:!1,disableZooming:!1},e._map.setOptions(t)}},_resizeDealerCards:function(){var t=this,i=e(".noMapResults .infoCardDealer");site.utils.isBreakpointSmall()?i.css("height","auto"):t._equaliseHeights(i)},_equaliseHeights:function(t){var i=0;t.css("height","auto"),t.each(function(){var t=e(this).outerHeight();t>i&&(i=t)}),t.css("height",i)},_radiusFilter:function(){e(".radius-frm .radiusSelect",this.$element).on("change",function(){e(".radius-frm",this.$element).submit()})},_loadTheme:function(e){Microsoft.Maps.loadModule("Microsoft.Maps.Themes.BingTheme",{callback:e})},_listEventHandlers:function(){var t=this,i=e(".infoCardDealer",t.$element);if(t._isDesktopDevice)i.mouseenter(function(){var i=e(this),n=i.parent().index();t._setPushPin(n),t._activateCardPin(n)}),i.mouseleave(function(){var i=e(this);i.hasClass("selected")||(t._unSetPushPins(),t._deselectCards(),t._deactivateCardPins())});else{var n=site.utils.isBreakpointSmall();if(!n){var o=e(".dealerResults .list",t.$element),s=o.height()/3,r=e(i.get().reverse());o.on("scroll",function(){o.hasClass("stopCardScrollActivation")||r.each(function(){var i=e(this),n=i.position().top;if(s>=n){var o=i.parent().index();return t._setPushPin(o),t._activateCardPin(o),!1}})}),o.trigger("scroll")}}i.on("click tap",function(i){var n=e(i.target),o=e(this),s=o.parent("li").index(),r=n.prop("tagName").toLowerCase(),a=n.hasClass("viewOnMap"),l=o.data("lat"),c=o.data("lng"),u=site.utils.isBreakpointSmall();a?(i.preventDefault(),t._selectCard(s),t._activateCardPin(s),t._setPushPin(s),t._centreMap(l,c),u&&t._showFullMap()):"a"!==r&&(u||(t._selectCard(s),t._activateCardPin(s),t._setPushPin(s),t._centreMap(l,c)))}),e(".mapCloseButton",t.$element).on("click tap",function(e){e.preventDefault(),t._hideFullMap()}),e(".mobileStateBtn",i).on("click tap",function(t){t.preventDefault();var i=e(this).parents(".infoCardDealer"),n=i.find(".mobile");i.hasClass("openInfoCard")?(i.removeClass("openInfoCard"),n.slideUp(300)):n.slideDown(300,function(){i.addClass("openInfoCard")})})},_handleTelephoneClick:function(){var t=this;e(".contactDetails .tel a",t.$element).click(function(e){var t=site.utils.isBreakpointSmall()&&site.utils.isMobileDevice();t||e.preventDefault()})},_getMap:function(){var t=this,i=e(".bingMap",t.$element);if(i.length>0){var n={credentials:t.$element.attr("data-api-key"),mapTypeId:Microsoft.Maps.MapTypeId.road,zoom:17,showBreadcrumb:!1,enableClickableLogo:!1,enableSearchLogo:!1,showMapTypeSelector:!1,showCopyright:!1,showScalebar:!1};t._map=new Microsoft.Maps.Map(e(".bingMap",t.$element)[0],n),Microsoft.Maps.loadModule("Microsoft.Maps.Directions")}},_addPinsToMap:function(){var t=this;if(null!==t._map){var i=e(".bingMap",t.$element),n=[];e(".dealerResults .list .infoCardDealer",t.$element).each(function(){var t={};t.Latitude=e(this).attr("data-lat"),t.Longitude=e(this).attr("data-lng"),t.title=e(".cardDetails .cardTitle",this).text(),t.des=e(this).find(".cardTitle .dealerNameText").html(),n.push(t)}),t._pushPins=new Microsoft.Maps.EntityCollection,t._pinInfoboxs=new Microsoft.Maps.EntityCollection;var o='<div class="customInfoBox"><div class="infobox_content">{content}</div></div>';t._map.entities.clear();var s=n.length,r=[];e.each(n,function(e){var i=new Microsoft.Maps.Location(n[e].Latitude,n[e].Longitude),a=s-e,l=new Microsoft.Maps.Infobox(i,{htmlContent:o.replace("{content}",n[e].des),showCloseButton:!1,visible:!1,zIndex:a,offset:{x:-125,y:70}});t._pinInfoboxs.push(l);var c=(e+1).toString();c=c.length<2?("00"+c).slice(-2):c;var u=new Microsoft.Maps.Pushpin(i,{icon:"/resources/public/images/icons/pin.png",width:39,height:50,text:c,infobox:l,zIndex:a});u.x=e,t._pushPins.push(u),r.push({x:e,location:i,Latitude:n[e].Latitude,Longitude:n[e].Longitude}),Microsoft.Maps.Events.addHandler(u,"click",function(e){t._pinClickHandler(e)}),Microsoft.Maps.Events.addHandler(t._map,"click",function(){t._hideInfobox(),t._deselectCards(),t._deactivateCardPins()})});var a=new Microsoft.Maps.EntityCollection({zIndex:0});a.push(t._pushPins),t._map.entities.push(a);var l=new Microsoft.Maps.EntityCollection({zIndex:1});if(l.push(t._pinInfoboxs),t._map.entities.push(l),0===t.radius||t.postCode===!1&&t.placeName===!1)t._setMapBounds(r,200);else{var c={lat:parseFloat(i.data("search-lat")),lng:parseFloat(i.data("search-lng"))};if(t.radius>=t.maxRadius){var u=this._getFurthestPoint(),d=new Microsoft.Maps.Location(c.lat,c.lng);u=new Microsoft.Maps.Location(u.lat,u.lng),t.radius=t._calculateDistanceBetweenPoints(d,u),t.radius+=20}t._loadAdvancedShapes(t._drawRadius,c,t.radius),t._centreMap(c.lat,c.lng)}t.initialZoom=t._map.getTargetZoom()}},_setPushPin:function(e){var t=this;if(null!==t._map){t._unSetPushPins();var i=t._pushPins.get(e);i.setOptions({icon:"/resources/public/images/icons/pin_hover.png",zIndex:1e3});var n=i.getInfobox();n.setOptions({visible:!0,zIndex:1e3})}},_unSetPushPins:function(){var e=this;if(null!==e._map)for(var t=e._pushPins.getLength(),i=0;t>i;i++){var n=t-i,o=e._pushPins.get(i);e._pushPins.get(i).setOptions({icon:"/resources/public/images/icons/pin.png",zIndex:n});var s=o.getInfobox();s.setOptions({visible:!1,zIndex:n})}},_centreMap:function(e,t,i){var n=this,o=new Microsoft.Maps.Location(e,t),s={center:o};i&&(s.zoom=n.initialZoom),n._map.setView(s)},_selectCard:function(t){var i=this,n=e(".infoCardDealer:eq("+t+")",i.$element);i._deselectCards(),n.addClass("selected")},_deselectCards:function(){var t=this,i=e(".infoCardDealer",t.$element);i.removeClass("selected")},_activateCardPin:function(t){var i=this,n=e(".infoCardDealer:eq("+t+")",i.$element);i._deactivateCardPins(),n.find(".resultNumber").addClass("spriteIcon-pin_active")},_deactivateCardPins:function(){var t=this,i=e(".infoCardDealer",t.$element);i.find(".resultNumber").removeClass("spriteIcon-pin_active")},_infoBoxClickHandler:function(){},_pinClickHandler:function(e){var t=this,i=e.target.x;t._setPushPin(i),t._scrollToDealerCard(i),t._selectCard(i),t._activateCardPin(i)},_scrollToDealerCard:function(i){var n,o=this,s=e(t).width(),r=e(".list > li:eq("+i+")",o.$element),a=e(".dealerResults .dealerMap .dealerHeader",o.$element),l=a.outerHeight();if(o._isDesktopDevice)n=r.offset().top,site.utils.scrollTo(n-(40+l),300);else if(s>site.breakpoints.small){var c=e(".list",o.$element);c.addClass("stopCardScrollActivation");var u=c.scrollTop();n=r.offset().top-c.offset().top+c.scrollTop();var d=Math.abs(n-u)/2;c.stop().animate({scrollTop:n},d,function(){c.removeClass("stopCardScrollActivation")})}},_hideInfobox:function(){var e=this;e._unSetPushPins();for(var t=0;t<e._pinInfoboxs.getLength();t++)e._pinInfoboxs.get(t).setOptions({visible:!1})},_hideFullMap:function(){var i=this,n=e(".infoCardDealer.selected");i.$element.removeClass("mapOpen"),site.utils.isBreakpointSmall()&&(e("html").removeClass("noScroll"),n.length>0?e(t).scrollTop(n.offset().top-60):null!==i._scrollPosition&&e(t).scrollTop(i._scrollPosition))},_showFullMap:function(){var t=this;site.utils.isBreakpointSmall()&&(t._scrollPosition=e(i).scrollTop(),e("html").addClass("noScroll")),t.$element.addClass("mapOpen")},_initDirections:function(){var n=this;Microsoft.Maps.loadModule("Microsoft.Maps.Directions"),n._hideDirections();var o=e(".directions .address1",n.$element);e(".directions .address2",n.$element),n.$element.attr("data-user-lat")&&(o.val(e(".directions .address1",n.$element).attr("data-your-location")),o.attr("data-lat",n.$element.attr("data-user-lat")),o.attr("data-lng",n.$element.attr("data-user-lng"))),e("a.getDirections",n.$element).on("click tap",function(e){e.preventDefault(),t.location.hash="#directions",n._directionsClickHandler(e)}),e(".backToDealer",n.$element).on("click tap",function(e){e.preventDefault(),n._addPinsToMap(),n._hideDirections(),n.$htmlEl.hasClass("lt-ie10")===!1?history.pushState("",i.title,t.location.href.substr(0,t.location.href.indexOf("#"))):t.location.hash=""}),e(".directions .getDirectionsList",n.$element).on("click tap",function(e){e.preventDefault(),n._getDirections()}),e(".directions .getDirectionsMap",n.$element).on("click tap",function(e){e.preventDefault(),n._showFullMap(),n._getDirections()}),e(".directions .address1, .directions .address2",n.$element).on("input",function(){e(this).attr("data-lat","").attr("data-lng",""),e(".getDirectionsList",n.$element).removeClass("disabled").removeAttr("disabled")})},_directionsClickHandler:function(t){var i=this,n=e(".directions .address2",i.$element),o=e(t.target).parents(".infoCardDealer");e(".directions",i.$element),n.val(o.find(".address").text()),n.attr("data-lat",o.attr("data-lat")),n.attr("data-lng",o.attr("data-lng")),i._showDirections(),i._getDirections()},_showDirections:function(){var n=this,o=e(".dealerResults",n.$element),s=o.find(".listContainer"),r=o.find(".directionsContainer"),a=e(".dealerHeader",n.$element),l=e("h2",a),c=o.find(".bingMap");"#directions"===t.location.hash&&(n._scrollPosition=e(i).scrollTop(),a.addClass("directionsHeader"),l.text(l.attr("data-directions-title")),c.addClass("directionsMap"),l.addClass("primaryHeading"),s.hide(0,function(){r.show(0,function(){site.utils.scrollTo(e(".dealerResults",n.$element),0),n._mapCalculations()})}))},_hideDirections:function(){var i=this,n=e(".dealerResults",i.$element),o=n.find(".listContainer"),s=n.find(".directionsContainer"),r=e(".dealerHeader",i.$element),a=e("h2",r),l=n.find(".bingMap"),c=e(".directions-list",i.$element);a.text(a.attr("data-title")),r.removeClass("directionsHeader"),a.removeClass("primaryHeading"),l.removeClass("directionsMap"),s.hide(0,function(){c.html(""),o.show(0,function(){i._mapCalculations(),null!==i._scrollPosition&&e(t).scrollTop(r)})})},_getDirections:function(){var t=this,o=e(".directions .address1",t.$element),s=e(".directions .address2",t.$element),r=o.val(),a=s.val(),l=site.utils.getUrlParameter("postCode");if(i.createElement("input").placeholder===n&&r===o.attr("placeholder")&&(r=""),o.attr("data-lat")&&o.attr("data-lat").toString().length>0&&(r=o.attr("data-lat")+","+o.attr("data-lng")),l!==!1&&(l=l.replace(/\+/g,"%20"),o.val(decodeURIComponent(l)),r=decodeURIComponent(l)),s.attr("data-lat")&&s.attr("data-lat").toString().length>0&&(a=s.attr("data-lat")+","+s.attr("data-lng")),r.length>0&&a.length>0){t._map.entities.clear();var c=new Microsoft.Maps.Directions.DirectionsManager(t._map),u=new Microsoft.Maps.Directions.Waypoint({address:r}),d=new Microsoft.Maps.Pushpin;d.setOptions({icon:"/resources/public/images/icons/pin_hover.png",width:39,height:50,text:"A"}),u.setOptions({pushpin:d});var h=new Microsoft.Maps.Directions.Waypoint({address:a}),p=new Microsoft.Maps.Pushpin;p.setOptions({icon:"/resources/public/images/icons/pin_hover.png",width:39,height:50,text:"B"}),h.setOptions({pushpin:p}),c.addWaypoint(u),c.addWaypoint(h),e(".directions-list",t.$element).empty(),c.setRenderOptions({itineraryContainer:e(".directions-list",t.$element)[0],disambiguationPushpinOptions:{icon:"/resources/public/images/icons/pin.png",hoverIcon:"/resources/public/images/icons/pin_hover.png",width:39,height:50},drivingPolylineOptions:{strokeColor:new Microsoft.Maps.Color(255,0,90,43),strokeThickness:6}}),Microsoft.Maps.Events.addHandler(c,"directionsError",t._displayDirectionsError),c.calculateDirections()}},_displayDirectionsError:function(e){var t=this;e.responseCode===Microsoft.Maps.Directions.RouteResponseCode.waypointDisambiguation&&t._directionsDisambiguation()},_directionsDisambiguation:function(){var e="",t=directionsManager.getAllWaypoints(),i=0;for(i=0;i<t.length;i++){var n=t[i].getDisambiguationResult();if(null!==n)if(e=e+"Address matches for "+t[i].getAddress()+":\n",0!==n.businessSuggestions.length){var o=0;for(o=0;o<n.businessSuggestions.length;o++)e=e+n.businessSuggestions[o].name+", "+n.businessSuggestions[o].address+"\n"}else if(0!==n.locationSuggestions.length){var s=0;for(s=0;s<n.locationSuggestions.length;s++)e=e+n.locationSuggestions[s].suggestion+"\n"}else e=e+n.headerText+"\n"}},_backToSearch:function(){var t=this;e(".searchAgainButton",t.$element).on("click tap",function(t){t.preventDefault(),site.utils.scrollTo(e(".dealerLocatorSearch"))})},_setMapBounds:function(e,t){var i=this;if(1===e.length)return void i._map.setView({center:e[0].location,zoom:7,padding:50});var n=this._getMapBounds(e);i._map.setView({bounds:n,padding:parseInt(t,0)})},_getMapBounds:function(e){if(e[0]instanceof Microsoft.Maps.Location==0){var t=this._getMinMaxPoints(e);e=[new Microsoft.Maps.Location(t.min.lat,t.min.lng),new Microsoft.Maps.Location(t.max.lat,t.max.lng)]}return Microsoft.Maps.LocationRect.fromLocations(e)},_getMinMaxPoints:function(t){var i={min:{lat:t[0].Latitude,lng:t[0].Longitude},max:{lat:t[0].Latitude,lng:t[0].Longitude}};return e.each(t,function(e){t[e].Latitude>i.max.lat?i.min.lat=t[e].Latitude:t[e].Latitude<i.min.lat&&(i.min.lat=t[e].Latitude),t[e].Longitude>i.max.lng?i.max.lng=t[e].Longitude:t[e].Longitude<i.min.lng&&(i.min.lng=t[e].Longitude)}),i},_getFurthestPoint:function(){var t=e(".dealerResults .list .infoCardDealer:last");return{lat:t.data("lat"),lng:t.data("lng")}},_drawRadius:function(e,t,i){for(var n=i,o=n.earthRadius[n.unit],s=e.lat,r=e.lng,a=new Microsoft.Maps.Color(29,0,90,43),l=new Microsoft.Maps.Color(0,10,10,10),c=s*Math.PI/180,u=r*Math.PI/180,d=parseFloat(t)/o,h=[],p=0;360>=p;p+=5){var f=new Microsoft.Maps.Location(0,0),m=p*Math.PI/180;f.latitude=Math.asin(Math.sin(c)*Math.cos(d)+Math.cos(c)*Math.sin(d)*Math.cos(m)),f.longitude=180*(u+Math.atan2(Math.sin(m)*Math.sin(d)*Math.cos(c),Math.cos(d)-Math.sin(c)*Math.sin(f.latitude)))/Math.PI,f.latitude=180*f.latitude/Math.PI,h.push(f)}var g=new Microsoft.Maps.Polygon(h,{fillColor:a,strokeColor:l,strokeThickness:1});return n._map.entities.push(g),h},_calculateDistanceBetweenPoints:function(e,t){var i=this.earthRadius[this.unit],n=this._toRad(e.latitude),o=this._toRad(t.latitude),s=this._toRad(t.latitude-e.latitude),r=this._toRad(t.longitude-e.longitude),a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n)*Math.cos(o)*Math.sin(r/2)*Math.sin(r/2),l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),c=i*l;return c},_toRad:function(e){return e*Math.PI/180},_loadAdvancedShapes:function(e,t,i){var n=this;Microsoft.Maps.loadModule("Microsoft.Maps.AdvancedShapes",{callback:function(){n.radiusPoints=e(t,i,n),n._setMapBounds(n.radiusPoints,0)}})},touchRepositionSearch:function(){if(!this.$htmlEl.hasClass("no-touch")){var e=site.utils.getBreakpointSize();("small"===this._previousBp&&"small"!==e||"small"!==this._previousBp&&"small"===e)&&site.utils.scrollTo(this.$element),this._previousBp=e}}};jQuery.createComponent("NationalDealerLocatorResults",o)}(jQuery,window,document),function(e,t){var i={_defaults:{toggleButton:null},_$toggleButton:null,_isIE8:!1,_openOnRotate:!1,_menuOffset:0,init:function(){var i=this;i._$toggleButton=e(".SubNavigation .navigationModelSwitcherButtonContainer");var n=e(".navigationModelSwitcherButton",i._$toggleButton).outerWidth(),o=e(".activeSwitcherButton",i._$toggleButton).outerWidth(),s=n;
o>n&&(s=o),i._$toggleButton.width(s),0!==e(".activeSwitcherButton",i._$toggleButton).length&&(e("html").hasClass("lt-ie9")&&(i._isIE8=!0),i.$element.Dropdown({timeout:250,closeOnTapOutside:!0,closeOnTapOutsideExclude:e(".SubNavigation .LessButton, .SubNavigation .MoreButton"),button:i._$toggleButton,buttonWithinMenu:!1,openByDefault:!1,onOpen:function(){if(i._menuOffset=e(".pageWrapper").offset().top,e("html").hasClass("lt-ie10")){var n=e(t);n.smartresize(function(){n.width()>t.site.breakpoints.medium-23?(i._menuOffset=0,i.$element.css({top:i._menuOffset})):(i._menuOffset=e("#header").height(),i.$element.css({top:i._menuOffset}))}),n.resize()}else enquire.register("screen and (max-width: "+t.site.breakpoints.medium+"px)",{match:function(){i._menuOffset=e("#header").height(),i.$element.css({top:i._menuOffset})}}),enquire.register("screen and (min-width: "+t.site.breakpoints.medium+"px)",{match:function(){i._menuOffset=0,i.$element.css({top:i._menuOffset})}});setTimeout(function(){if(i._addKeyboardNavigation(),e(".activeSwitcherButton > a",i._$toggleButton).focus(),i._resizeToButton(),e(".SubNavigation").SubNavigation("isExpanded")===!0)return e(".SubNavigation").SubNavigation("fastClose"),void setTimeout(function(){i.fastOpen()},220);i.$element.css({top:i._menuOffset}),i.$element.addClass("active animating"),e(".activeSwitcherButton",i._$toggleButton).transition({opacity:0,duration:0},function(){e(".activeSwitcherButton",i._$toggleButton).show()}),e(".navigationModelSwitcherButton",i._$toggleButton).transition({opacity:1,duration:0}).transition({opacity:0,duration:200},function(){e(".activeSwitcherButton",i._$toggleButton).transition({opacity:1,duration:200})}),i._$toggleButton.addClass("active"),e(t).trigger("NavigationModelSwitcher",["opened"]),e(i.$element).clone().css({visibility:"hidden",display:"block",height:"auto",width:i.$element.width()}).addClass("clone").appendTo(i.$element.parent()),i._height=e(".clone").height(),e(".clone").remove();var n={y:0-i._height,duration:1};i._isIE8===!0&&(n={marginTop:0-i._height,duration:1}),i.$element.transition(n,function(){n={y:0,duration:400,easing:"ease"},i._isIE8===!0&&(n={marginTop:0,duration:400,easing:"ease"}),i.$element.show().transition(n,function(){i.$element.removeClass("animating")})}),e(".InPageSubNavigation").InPageSubNavigation("openModelsOnRotate")},50)},onClose:function(t){i._removeKeyboardNavigation(),e(".navigationModelSwitcherButton > a",i._$toggleButton).focus(),"undefined"==typeof t&&(t=400),i.$element.trigger("close").addClass("animating"),e(".activeSwitcherButton",i._$toggleButton).transition({opacity:1,duration:0}).transition({opacity:0,duration:200},function(){e(".navigationModelSwitcherButton",i._$toggleButton).transition({opacity:1,duration:200},function(){e(".activeSwitcherButton",i._$toggleButton).hide()})}),i._height=i.$element.height();var n={y:0,duration:1};i._isIE8===!0&&(n={marginTop:0,duration:1}),i.$element.transition(n,function(){n={y:0-i._height,duration:t,easing:"ease"},i._isIE8===!0&&(n={marginTop:0-i._height,duration:t,easing:"ease"}),i.$element.show().transition(n,function(){i.$element.removeClass("animating active"),i._$toggleButton.removeClass("active"),i.$element.hide()})}),e(".InPageSubNavigation").InPageSubNavigation("closeModels")}}),e(t).on("SubNavigation",function(e,t){"opened"===t&&i.$element.hasClass("active")&&i.$element.trigger("close")}),e(t).on("SlideOutMenuOpened",function(){i.$element.hasClass("active")&&i.$element.trigger("close")}),e(t).on("ShoppingToolsDropdown",function(e,t){"opened"===t&&i.$element.hasClass("active")&&i.$element.trigger("close")}))},isOpen:function(){return this.$element.hasClass("active")},fastOpen:function(){this.$element.trigger("open",200)},fastClose:function(){this._openOnRotate=!1,this.$element.trigger("close",200)},openOnRotate:function(){var e=this;e._openOnRotate=!0,enquire.register("screen and (min-width: "+site.breakpoints.small+"px)",{setup:function(){e._openOnRotate===!0&&(e._openOnRotate=!1,e.isOpen()||e.fastOpen())},deferSetup:!0})},_resizeToButton:function(){var t=e(".SubNavigation .navigationModelSwitcherButtonContainer").width();this.$element.css({width:t})},_letterSplitter:function(t){var i=t.text().split(""),n="";i.length&&(e(i).each(function(e,t){n+='<span class="char'+(e+1)+'">'+t+"</span>"}),t.empty().append(n))},_addKeyboardNavigation:function(){var t=this,i=e("a",t._$toggleButton),n=e("a",t.$element);i.keydown(function(e){return 40===e.keyCode?(n.first().focus(),!1):void 0}),n.keydown(function(t){var o=n.first(),s=e(this);if(40===t.keyCode)return s.parent("li").next("li").find("a").focus(),!1;if(38===t.keyCode){if(!s.is(o))return s.parent("li").prev("li").find("a").focus(),!1;i.focus()}else if(9===t.keyCode)return!1})},_removeKeyboardNavigation:function(){var t=this,i=e("a",t._$toggleButton),n=e("a",t.$element);i.off("keydown"),n.off("keydown")}};jQuery.createComponent("NavigationModelSwitcher",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},_id:"",_viewState:"",_closeDuration:400,init:function(){var n=t.site.breakpoints.medium,o=this.$element;this._id=o.hasClass("generalNotification")?"JLR_cookies":"JLR_browser";var s=this;enquire.register("screen and (min-width: "+n+"px)",{match:function(){s._convertToDesktopView()},unmatch:function(){s._convertToMobileView()}}),i.addEventListener||(e(t).smartresize(function(){e(t).width()>n?"desktop"!==s._viewState&&s._convertToDesktopView():"mobile"!==s._viewState&&s._convertToMobileView()}),e(t).trigger("resize")),this._shouldShow()===!1?"JLR_cookies"===this._id&&(site.cookiesAccepted=!0):(e("a.close",o).on("click.notification tap",{that:this},this._onCloseClicked),o.show())},_convertToMobileView:function(){var t=this.$element;e(".top",t).prepend(e(".notificationHeader",t)),e(".top",t).append(e("a.close",t)),e(".bottom",t).append(e(".top .inner .left p",t)),e(".bottom",t).append(e("a.primaryLinkWithStyle",t)),e(".top .inner",t).remove(),this._viewState="mobile"},_convertToDesktopView:function(){var t=this.$element;e(".top",t).prepend('<div class="inner"><div class="left"></div><div class="right"></div></div>'),e(".inner .left",t).append(e(".notificationHeader",t)),e(".inner .left",t).append(e(".bottom p",t)),e(".inner .right",t).append(e("a.primaryLinkWithStyle",t)),e(".notificationContainer",t).append(e("a.close",t)),this._viewState="desktop"},_shouldShow:function(){var e=!0,t=site.utils.cookieManager.readCookie(this._id);switch(this._id){case"JLR_cookies":"true"!==t?"undefined"!=typeof Storage&&"true"===sessionStorage[this._id]&&(e=!1):e=!1;break;case"JLR_browser":e=!1}return e},_onCloseClicked:function(i){i.preventDefault();var n=i.data.that;n._accept(),n._dismiss(),setTimeout(function(){e(t).trigger("closeNotificationBar"),e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize")},n._closeDuration+50)},_accept:function(){var e=this.$element,t=e.data("expires");if("JLR_cookies"===this._id){switch(!0){case-1===t:site.utils.cookieManager.createCookie(this._id,"true","1825");break;case 0===t:"undefined"!=typeof Storage&&(sessionStorage[this._id]="true");break;default:site.utils.cookieManager.createCookie(this._id,"true",t)}site.cookiesAccepted=!0}},_dismiss:function(){if(e(t).width()<site.breakpoints.medium){var i=e(".SubNavigation").height()+e(".headerWrapper").height();e("body").transition({paddingTop:i},this._closeDuration,"ease")}var n=this.$element;n.height(n.outerHeight()).transition({height:0,duration:this._closeDuration,easing:"ease"});var o=this;t.setTimeout(function(){o._destroy()},o._closeDuration)},_destroy:function(){this.$element.remove(),e(t).trigger("resize")}};jQuery.createComponent("NotificationBar",n)}(jQuery,window,document),function(e,t){var i={uiSelectors:{imageContainer:".offerImage .image",offerItems:".offer",offerDetailsLink:".offerDetailsLink",offerDetails:".offerDetails",closeOverlay:".closeButton",activeOffer:".offerDetails.active",offerInfo:".offerInfo"},_$html:e("html"),_breakpointSize:"large",_overlayFlag:!1,_largeDeskCustomBP:1524,init:function(){this._initEnquire(),"large"===this._breakpointSize&&t.setTimeout(this._resizeOfferFinanceBoxes.bind(this),1e3),this._events(),this._resizeEvents()},_initEnquire:function(){var i=this;enquire.register("screen and (min-width: "+i._largeDeskCustomBP+"px)",{match:function(){i._breakpointSize="large-desk"}}),enquire.register("screen and (min-width: "+(t.site.breakpoints.medium+1)+"px) and (max-width: "+(i._largeDeskCustomBP-1)+"px)",{match:function(){i._breakpointSize="large",e(".offerDetails.active",i.$element).removeAttr("style"),i._$html.css("overflow","")},unmatch:function(){i._resetOfferFinanceBoxes()}}),enquire.register("screen and (max-width: "+t.site.breakpoints.medium+"px)",{match:function(){i._breakpointSize="medium-below",i._overlayFlag===!0&&i._closeOverlay()}})},_events:function(){this.ui("offerDetailsLink").on("click",this._openOverlay.bind(this)),this.ui("closeOverlay").on("click",this._closeOverlay.bind(this)),this.$element.on("click",this._closeOverlay.bind(this)),this.ui("offerDetailsLink").click(function(e){e.stopPropagation()}),this.ui("offerDetails").click(function(e){e.stopPropagation()})},_resizeEvents:function(){var i=this;e(t).smartresize(function(){"large-desk"===i._breakpointSize&&i._calculateOverlayHeight(),"large"===i._breakpointSize&&i._resizeOfferFinanceBoxes()})},_calculateOverlayHeight:function(){e(".offerDetails.active",this.$element).innerHeight(this.ui("imageContainer").height())},_openOverlay:function(t){t&&t.preventDefault(),this.ui("offerDetails").removeClass("active");var i=e(t.currentTarget);this._overlayFlag=!0;var n=e(i.attr("href"),this.$element);n.removeClass("closed").addClass("active"),"large-desk"===this._breakpointSize&&this._calculateOverlayHeight(),"medium-below"!==this._breakpointSize&&site.utils.scrollTo(n,400),"medium-below"===this._breakpointSize&&this._$html.css("overflow","hidden")},_closeOverlay:function(){this._overlayFlag=!1,this.ui("offerDetails").filter(e(".active")).removeClass("active").removeAttr("style").addClass("closed"),"medium-below"===this._breakpointSize&&this._$html.css("overflow","")},_resizeOfferFinanceBoxes:function(){this.ui("offerItems").each(function(t,i){var n=e(i),o=n.find(".offerDescription"),s=n.find(".offerInfo"),r=n.find(".offerImage span"),a=o.outerHeight(),l=s.outerHeight(),c=r.outerHeight();a>l+c&&s.css("height",a-c)})},_resetOfferFinanceBoxes:function(){this.ui("offerInfo").css("height","")}};jQuery.createComponent("OffersContainer",i)}(jQuery,window,document),function(e,t){var i={_$window:e(t),_$header:e("#header"),uiSelectors:{screens:".screen",headingContainer:".headingContainer",heading:".heading",copyContainer:".copyContainer",copy:".copy",imageContainer:".imageContainer",imageLayers:".imageContainer .layer",imageLayersBg:".imageContainer .layer .layerBg",buttonScreenDown:".buttonScreenDown",imageOverlay:".imageContainer .imageOverlay"},_waypoints:{parallaxStart:null,parallaxEnd:null,headingTrigger:null,copyTrigger:null,copyFadeStart:null,copyFadeEnd:null},_parallaxStrength:null,states:{buttonHidden:"buttonHidden",showOverlay:"showOverlay",hideCopy:"hidden"},_checkButtonScreenDownOnScroll:!0,_isTouchDevice:null,_isCanvasDevice:null,_scrolledThroughCopy:!1,_attachedThroughCopyTimeout:!1,_scrolledThroughHijack:!1,_scrollFxOn:!0,_originalDimensions:{height:e(t).height(),width:e(t).width()},init:function(){var e=this;e._detectDeviceCapabilities(),e._fitToScreen(!0),e._waypointCalculations();var t=e._getScrollPosition();e._updateHeading(t),e._updateCopy(t),e.ui("imageLayers").length>1&&(e._isTouchDevice?(e._parallaxStrength=100,e._imageLayerCalculations(),e._tiltParallax()):(e._setParallaxStrength(),e._imageLayerCalculations(),e._updateImageLayers(t),e._isCanvasDevice&&e._imageLayerToCanvas(!1))),e._bindEvents()},_detectDeviceCapabilities:function(){var e=this;e.$element.addClass("ParallaxHeroTouchDevice"),e._isTouchDevice=site.utils.isMobileDevice(),e._isCanvasDevice="?canvas=false"!==t.location.search&&!e._isTouchDevice},_setParallaxStrength:function(){var e=this,t=100,i=1.5*t;e.$element.hasClass("ParallaxHeroImageLeft")||e.$element.hasClass("ParallaxHeroImageRight")?e._parallaxStrength=t:e._parallaxStrength=i},_getScrollPosition:function(){var e=this;return e._$window.scrollTop()},_fitToScreen:function(t){var i,n,o=this,s=o._$window.height(),r=site.utils.getBreakpointSize();"fixed"===o._$header.css("position")?(i=site.utils.getHeaderHeight(0),n=site.utils.getHeaderHeight(site.stickyNavigationTransitionPoint+1)):(i=o._$header.height(),n=0);var a=s-i,l=s-n;o.ui("screens").each(function(){var t,i=e(this);t=i.hasClass("headingContainer")?a:"small"===r&&i.hasClass("spacerContainer")?0:l,i.css({height:t+"px"})}),!t&&o._isCanvasDevice&&o._imageLayerToCanvas(!0)},_waypointCalculations:function(){var e=this,t=e._$window.height(),i=e.$element.offset().top;e._waypoints.parallaxStart=i,e._waypoints.parallaxEnd=e._waypoints.parallaxStart+e.$element.height()-t,e._waypoints.headingTrigger=e.ui("headingContainer").offset().top+e.ui("headingContainer").height()-t,e._waypoints.headingTrigger=e._waypoints.headingTrigger<i?i:e._waypoints.headingTrigger,e._waypoints.copyTrigger=e.ui("copyContainer").offset().top,e._waypoints.copyFadeEnd=e.ui("copyContainer").offset().top-t/4,e._waypoints.copyFadeStart=e._waypoints.copyFadeEnd-t/4},_updateHeading:function(e){var t=this;if(t._isTouchDevice)e>t._waypoints.headingTrigger?t.ui("heading").addClass("hidden"):t.ui("heading").removeClass("hidden");else if(e>t._waypoints.headingTrigger){var i=t._waypoints.headingTrigger-e;t.ui("heading").css({transform:"translateY("+i+"px)"})}else t.ui("heading").css({transform:""})},_updateCopy:function(e){var t=this;if(t._isTouchDevice)e>t._waypoints.copyFadeStart?t.ui("copy").removeClass("hidden"):t.ui("copy").addClass("hidden");else if(t._scrolledThroughHijack){var i=(e-t._waypoints.copyFadeStart)/(t._waypoints.copyFadeEnd-t._waypoints.copyFadeStart);i=0>i?0:i,i=i>1?1:i,t.ui("copy").css({opacity:i}),t.ui("imageOverlay").css({opacity:.3*i})}else e===t._waypoints.copyTrigger?(t.ui("imageOverlay").addClass(t.states.showOverlay),t.ui("copy").removeClass(t.states.hideCopy)):t._scrolledThroughCopy||(t.ui("imageOverlay").removeClass(t.states.showOverlay),t.ui("copy").addClass(t.states.hideCopy))},_updateButtons:function(e){var t=this;0===e?(t.ui("buttonScreenDown").removeClass(t.states.buttonHidden),t._checkButtonScreenDownOnScroll=!0):t._checkButtonScreenDownOnScroll&&(t.ui("buttonScreenDown").addClass(t.states.buttonHidden),t._checkButtonScreenDownOnScroll=!1)},_imageLayerCalculations:function(){var t=this;t.ui("imageLayers").each(function(i){var n=e(this),o=2*(i/(t.ui("imageLayers").length-1))-1,s=t._parallaxStrength*o;n.data("parallax-amount",s)})},_imageLayerToCanvas:function(t){var i=this,n="center";i.$element.hasClass("ParallaxHeroImageLeft")?n="left":i.$element.hasClass("ParallaxHeroImageRight")&&(n="right"),i.ui("imageLayersBg").each(function(){var o=e(this),s=t?o.next(".layerCanvas"):e('<canvas class="layerCanvas"/>'),r=s.get(0),a=r.getContext("2d"),l=new Image,c=o.css("background-image").replace("url(","").replace(")","");s.attr({width:o.width(),height:o.height()}),o.after(s),l.onload=i._onLoadDrawCanvas.bind(i,r,a,l,n),l.src=c,o.css("display","none"),l=null})},_onLoadDrawCanvas:function(e,t,i,n){var o=0;"left"===n?o=-(e.width/2):"right"===n&&(o=e.width/2),site.utils.canvasDrawBgCover(t,i,0,0,e.width,e.height,o,0)},_updateImageLayers:function(t){var i=this,n=(t-i._waypoints.parallaxStart)/(i._waypoints.parallaxEnd-i._waypoints.parallaxStart);n=0>n?0:n,n=n>1?1:n,i.ui("imageLayers").each(function(){var t=e(this),o=i._parallaxStrength+n*t.data("parallax-amount");t.css({transform:"translateZ("+o+"px)"})})},_bindEvents:function(){var e=this;e._$window.smartresize(e._onResize.bind(e)),e._$window.on("wheel scroll",function(i){if(e._scrollFxOn){if(!e._isTouchDevice&&!e._scrolledThroughCopy&&e._$window.scrollTop()>=e._waypoints.copyTrigger)return e._$window.scrollTop(e._waypoints.copyTrigger),e._attachedThroughCopyTimeout=t.setTimeout(function(){e._scrolledThroughCopy=!0,e._scrolledThroughHijack=!0},1200),i.preventDefault()&&!1;t.requestAnimationFrame(e._scrollHandler.bind(e))}}),e.ui("buttonScreenDown").on("click",e._onClickButtonScreenDown.bind(this)),e._$window.on({"scrolling.InteractiveStory.start":e._onInteractiveStoryScrolling.bind(this),"scrolling.InteractiveStory.stop":e._onInteractiveStoryScrolling.bind(this)})},_onResize:function(){var e=this;(Math.abs(e._originalDimensions.height-e._$window.height()>100)||e._originalDimensions.width!==e._$window.width())&&(e._fitToScreen(!1),e._waypointCalculations())},_scrollHandler:function(){var e=this,t=e._getScrollPosition();e._updateHeading(t),e._updateCopy(t),e._updateButtons(t),e.ui("imageLayers").length>1&&(e._isTouchDevice||e._updateImageLayers(t))},_onClickButtonScreenDown:function(i){var n=this,o=e(i.target),s=o.hasClass(".ButtonScreenDown")?o:o.parents(".buttonScreenDown").eq(0),r=s.parents(".screen").next(".screen"),a=0,l=800;if(r.length&&"none"===r.css("display")&&(r=r.next(".screen")),r.length)a=r.offset().top;else{var c=e(i.target).parents(".component");a=c.offset().top+c.height()}i.preventDefault(),a>0&&(n._checkButtonScreenDownOnScroll=!1,site.utils.scrollTo(a,l),a===n._waypoints.copyTrigger&&(n._scrolledThroughCopy=!0),t.setTimeout(function(){n._checkButtonScreenDownOnScroll=!0,a===n._waypoints.copyTrigger&&(n._scrolledThroughHijack=!0)},l+50)),s.addClass(n.states.buttonHidden)},_tiltParallax:function(){var t=this;t.ui("imageLayers").each(function(){var i=e(this),n=t._parallaxStrength+i.data("parallax-amount");i.css({transform:"translateZ("+n+"px)"})});var i,n,o=50,s=50,r=100,a=new Date,l=0,c=0;t._$window.on("devicemotion",function(e){var u=new Date,d=u-a;l+=d*(e.originalEvent.accelerationIncludingGravity.x-l)/r,c+=d*(e.originalEvent.accelerationIncludingGravity.y-c)/r,a=u,i=l/10,i=-1>i?-1:i,i=i>1?1:i,o=50+50*i,n=c/10,n=-1>n?-1:n,n=n>1?1:n,s=50+50*n,t.ui("imageContainer").css({"perspective-origin":o+"% "+s+"%"})})},_onInteractiveStoryScrolling:function(e){"InteractiveStory.start"===e.namespace?this._scrollFxOn=!1:this._scrollFxOn=!0}};jQuery.createComponent("ParallaxHero",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},init:function(){var i=this,n=e(this.options.nextButton,this.$element);n.on("click tap",function(e){e.preventDefault(),i.loadMoreItems()}),e(this.options.container,this.$element).wrap("<div class='progressiveResultsInner'></div>"),this.setButton(),this.addItemClickEvent(),site.utils.scrollTo(e(t).scrollTop())},addItemClickEvent:function(){var i=this;e(this.options.resultItems,this.$element).find("a").on("click tap",function(n){i._currentPage&&t.history.pushState&&(n.preventDefault(),history.pushState({},"",i._currentPage+"&all=true"),t.location=e(this).attr("href"))})},loadMoreItems:function(){var i=this,n=e(this.options.nextButton,this.$element);this._currentPage=n.attr("href"),e("<div class='progressiveResultsInner'></div>").insertAfter(e(".progressiveResultsInner",this.$element).last());var o=this.$element.find(".progressiveResultsInner").last();o.hide().load(n.attr("href")+" "+this.options.container,function(){i.addItemClickEvent(o),t.richsponsiveImage();var e=o.find("img");e.length>0?o.find("img").waitForImages(function(){i.animateItems()}):i.animateItems(),site.utils.scrollTo(o),i.setButton()})},setButton:function(){var t=this,i=e(this.options.nextButton,this.$element),n=this.$element.find(".progressiveResultsInner").last(),o=n.find(t.options.container).attr("data-next-url");""!==o&&o?i.attr("href",o):(i.fadeOut(),this.$element.trigger("ProgressiveResults:all_results_loaded"))},animateItems:function(){var t=this,i=this.$element.find(".progressiveResultsInner").last();i.show(),i.find(t.options.resultItems).each(function(t){e(this).css({opacity:0,y:80}).transition({opacity:1,y:0,delay:100*t})})}};jQuery.createComponent("ProgressiveResults",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},_windowWidth:0,_windowHeight:0,_$window:e(t),_hasImage:!1,init:function(){var t=this;t.$element.hasClass("withImage")&&(t._hasImage=!0),t._$window.smartresize(function(){t._resizeImage()}),t._resizeImage(),e(".QuotePlayer",t.$element).on("QuotePlayer_playing",function(){e(".imageOverlay",t.$element).addClass("darken")}),e(".QuotePlayer",t.$element).on("QuotePlayer_paused",function(){e(".imageOverlay",t.$element).removeClass("darken")}),e(".QuotePlayer",t.$element).on("QuotePlayer_finished",function(){e(".imageOverlay",t.$element).removeClass("darken")})},_resizeImage:function(){var i=this;if(this._hasImage===!0){if(i._$window.width()===i._windowWidth)return!1;if(i._windowWidth=i._$window.width(),i._windowHeight=i._$window.height(),i._windowWidth>=site.breakpoints.medium){var n=t.innerHeight?t.innerHeight:i._windowHeight,o=e(".SubNavigation");1===o.length?n=n-50-e(".SubNavigation").height():n-=50,this.$element.css("height",n)}else this.$element.removeAttr("style")}}};jQuery.createComponent("Quote",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},_centred:!1,_slidOff:!0,_rtl:!1,_player:null,_width:0,init_rtl:function(){this._rtl=!0},init:function(){var i=this;i._player=e("audio",this.$element).mediaelementplayer({startVolume:.8,features:["playpause","progress","current","duration"],audioWidth:"100%",audioHeight:40,success:function(e){e.addEventListener("play",function(e){i._onPlay(e)}),e.addEventListener("pause",function(e){i._onPause(e)}),e.addEventListener("ended",function(e){i._onEnded(e)})}}),e(t).smartresize(function(){e(t).width()!==i._width&&(i._width=e(t).width(),e(".mejs-time-rail",i.$element).width(0),i._player[0].player.setControlsSize(),i._slidOff===!0&&i._slideOff(0))}).trigger("resize"),setTimeout(function(){e(t).trigger("resize")},2e3)},_onPause:function(){this.$element.trigger("QuotePlayer_paused"),this.$element.removeClass("playing").addClass("paused")},_onPlay:function(){this.$element.trigger("QuotePlayer_playing"),this.$element.removeClass("paused finished").addClass("playing"),this._slidOff=!1,this._slideOn(400)},_onEnded:function(){this.$element.trigger("QuotePlayer_finished"),this.$element.removeClass("playing").addClass("finished"),this._slidOff=!0,this._slideOff(400)},_slideOff:function(t){var i=0-(e(".mejs-time-rail",this.$element).width()+10),n=0-e(".mejs-time-total",this.$element).width(),o=(e(".mejs-controls",this.$element).width()-(e(".mejs-button",this.$element).outerWidth()+e(".mejs-time",this.$element).outerWidth()))/2;e(".mejs-time",this.$element).transition({x:i,duration:t}),e(".mejs-time-total",this.$element).transition({x:n,duration:t}),this._rtl===!0&&this._centred===!1&&(o=e(".mejs-controls",this.$element).width()-(e(".mejs-button",this.$element).outerWidth()+e(".mejs-time",this.$element).outerWidth())),(this._rtl===!0||this._centred===!0)&&e(".mejs-container",this.$element).transition({x:o,duration:t})},_slideOn:function(t){e(".mejs-time, .mejs-time-total, .mejs-container",this.$element).transition({x:"0px",duration:t})}};jQuery.createComponent("QuotePlayer",i)}(jQuery,window,document),function(e,t){function i(t,i){this.$element=e(t),this.options=e.extend({},o,i),this._defaults=o,this._name=n,this.init(this)}var n="ReadyToGoBar",o={};i.prototype={init:function(){var i=this;this.resizeLinkHeight(),this.resizeText(),e(t).smartresize(function(){i.resizeLinkHeight(),i.resizeText()})},resizeLinkHeight:function(){var t=e("ul li",this.$element);t.css("height","auto").equalHeights()},resizeText:function(){var t=e(".heading",this.$element);t.css("height","auto").equalHeights()}},e.fn[n]=function(t){return this.each(function(){e.data(this,"component_"+n)||e.data(this,"component_"+n,new i(this,t))})}}(jQuery,window,document),function(e,t){var i={_defaults:{},_screenWidth:0,_currentState:"",init:function(){var i=this;this._setupClickEvent(),e(t).smartresize(function(){i._onResize()}),this._onResize()},_onResize:function(){var i=e(t).width();i!==this._screenWidth&&(this._screenWidth=i,this._determineBreakpoint())},_determineBreakpoint:function(){var e=this._currentState;this._screenWidth<=site.breakpoints.small?this._currentState="mobile":this._screenWidth<=site.breakpoints.medium?this._currentState="tablet":this._currentState="desktop",e!==this._currentState&&this._switchLink()},_switchLink:function(){var e=this.$element.data("link-"+this._currentState);"undefined"==typeof e&&(e=this.$element.data("link-desktop")),this.$element.attr("href",e);var t=this.$element.data("link-"+this._currentState+"-window");"undefined"!=typeof t?this.$element.attr("target","_blank"):this.$element.attr("target","_self"),this._setupClickEvent()},_setupClickEvent:function(){var e=this;this.$element.off("click tap");var t=this.$element.data("link-event-"+this._currentState);t===!0&&this.$element.on("click tap",function(t){t.preventDefault(),e.$element.trigger("ResponsiveLinkClicked",{el:t.target,state:e._currentState})})}};jQuery.createComponent("ResponsiveLink",i)}(jQuery,window,document),function(e,t){var i={_divided:!1,_$container:null,_containerType:"article",_rtl:!1,init_rtl:function(){this._rtl=!0},init:function(){var i=this;this.$element.parent().find("> br").remove(),this.$element.wrap('<div class="ResponsiveTableContainer"><div class="ResponsiveTable"></div></div>'),this._$container=this.$element.parents(".ResponsiveTable"),i.$element.hasClass("alternativeRussianLayout")||(i.$element.parents(".Article").length>0?this._containerType="article":this.$element.parents(".EngineSpecifications, .VehicleSpecifications, .EmissionsTable").length>0&&(this._containerType="spectable"),this._checkWidths(),i._matchRowHeights(),i._stickToRight(),e(t).smartresize(function(){i._checkWidths(),i._matchRowHeights(),i._stickToRight()}),setTimeout(function(){i._matchRowHeights()},100))},_checkWidths:function(){this._$container.removeAttr("style").removeClass("stickToRight"),this._divided===!0&&this._combine(),this.$element.outerWidth()>this._$container.outerWidth()?this._divided===!1&&this._divide():this._divided===!0&&this._combine()},_matchRowHeights:function(){if(this._divided===!0){var t=e(".pinned table tr",this._$container),i=e(".scrollable table tr",this._$container);t.each(function(t,n){var o=e(n),s=e(i.get(t)),r=Math.max(o.height(),s.height());o.add(s).height(r)})}},_divide:function(){this.$element.wrap("<div class='tableWrapper' />"),this._$container.before("<div class='responsiveTableArrow clearfix'><div class='leftArrow'></div><div class='bar'></div><div class='rightArrow'></div></div>"),this._$container.after("<div class='responsiveTableArrow bottom clearfix'><div class='leftArrow'></div><div class='bar'></div><div class='rightArrow'></div></div>");var e=this.$element.clone();e.find("td:not(:first-child), th:not(:first-child)").css("display","none"),this.$element.closest(".tableWrapper").append(e),e.wrap("<div class='pinned' />"),this.$element.wrap("<div class='scrollable' />"),this.$element.attr("tabindex","0"),this._divided=!0},_combine:function(){this.$element.closest(".tableWrapper").find(".pinned").remove(),this.$element.unwrap().unwrap(),e(".responsiveTableArrow",this._$container.parent()).remove(),this._divided=!1,this.$element.attr("tabindex","")},_stickToRight:function(){var i=this;if(i._divided===!0){if(e(t).width()<site.breakpoints.medium){var n=0;if("article"===i._containerType){var o,s;this.$element.parents(".richText").length>0?(o=this.$element.parents(".richText"),s=0):(o=this.$element.parents(".sectionWrapper"),s=e(t).width()-(o.offset().left+o.width())),parseInt(o.css("padding-right"),10),parseInt(o.css("margin-right"),10),n=s+parseInt(o.width(),10)}else if("spectable"===i._containerType){var r=i._$container.parents(".GridListWrapper").width();n=r}i._$container.hasClass("stickToRight")||i._$container.addClass("stickToRight"),i._$container.css({width:n})}}else i._$container.removeAttr("style").removeClass("stickToRight")}};jQuery.createComponent("ResponsiveTable",i)}(jQuery,window,document),function(e){var t={_defaults:{contentSource:"html"},uiSelectors:{ratingStarsForeground:".ratingStarsForeground",links:".ratingStarsLink, .ratingLink",reviewCount:".reviewCount"},_loadValues:null,init:function(){if("html"===this.options.contentSource)this._renderContent(this.$element);else{this._loadValues=e.Deferred(),this._loadValues.done(this._renderContentFromHtmlString.bind(this));var t=this.$element.data("ajax-url");this._loadContent(t)}},_loadContent:function(t){e.ajax(t).done(function(e){this._loadValues.resolve(e)}.bind(this))},_renderContentFromHtmlString:function(t){var i=e(t);this._renderContent(i)},_renderContent:function(e){var t=10*e.data("review-score"),i=e.data("review-count"),n=e.data("review-url");this.ui("ratingStarsForeground").css("width",t+"%"),this.ui("links").attr("href",n),this.ui("reviewCount").text(i),this.$element.addClass("loaded")}};jQuery.createComponent("ReviewRatingBadge",t)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{feature:".reviewTitle"},columnCount:0,init:function(){this._initEnquire(),e(t).smartresize(this._resize.bind(this)),this._resize()},_initEnquire:function(){enquire.register("screen and (min-width: 1100px)",{match:function(){this.columnCount=4}.bind(this),unmatch:function(){this.columnCount=2}.bind(this)})},_resize:function(){this.ui("feature").removeAttr("style"),site.utils.isBreakpointSmall()||(4===this.columnCount?this.ui("feature").equalHeights():(this.ui("feature").filter(function(e){return 2>e}).equalHeights(),this.ui("feature").filter(function(e){return e>=2}).equalHeights()))}};jQuery.createComponent("ReviewsAtAGlance",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},_$slider:null,_html:null,_imgRatio:210/360,_dragging:!1,_slidePosition:!1,_direction:"slideFromRight",init_rtl:function(){this._direction="slideFromLeft"},init:function(){var i=this;this._html=e(".carouselWrapper",this.$element).html(),e(t).smartresize(function(){i._resize()}),e(t).resize(),this._initEnquire()},_resetCarousel:function(){this._$slider=null,e(".carouselWrapper",this.$element).empty().html(this._html),e(".TargetLinks",this.$element).TargetLinks("setupListener"),this._removeControls()},_createCarousel:function(i){var n=this;n._resetCarousel(),e(".carouselImageLink",this.$element).each(function(){var t=e(this);"video"===t.attr("data-type")&&e(this).append('<div class="playButton"></div>')});var o=e(".carouselWrapper .mediaCarousel > li",this.$element);if(o.length>i){var s,r=0;if("slideFromRight"===n._direction)for(r=o.length,s=0;s<o.length;s+=i)e(".mediaCarousel > li:lt("+i+")",this.$element).wrapAll("<div class='slide'></div>");else{for(r=o.length-1,s=r;s>=-3;s-=i)0>s?e(".mediaCarousel > li",this.$element).wrapAll("<div class='slide'></div>"):e(".mediaCarousel > li:gt("+s+")",this.$element).wrapAll("<div class='slide'></div>");var a=e(".slide",this.$element).first();1===e("> li",a).length?e("> li",a).first().addClass("padLeft66Percent"):2===e("> li",a).length&&e("> li",a).first().addClass("padLeft33Percent")}var l=0;"slideFromLeft"===n._direction&&(l=e(".slide",n.$element).length);var c=e(".carouselWrapper .mediaCarousel",this.$element).royalSlider({arrowsNav:!1,loop:!0,keyboardNavEnabled:!1,controlNavigation:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,autoHeight:!0,autoScaleSlider:!1,autoScaleSliderWidth:0,autoScaleSliderHeight:0,slidesSpacing:1,imgWidth:"100%",imgHeight:"100%",sliderDrag:!0,thumbsFitInViewport:!1,navigateByClick:!1,startSlideId:l,autoPlay:{enabled:!1},transitionType:"move",numImagesToPreload:100});setTimeout(function(){t.richsponsiveImage()},50),setTimeout(function(){t.richsponsiveImage()},500),n._$slider=c.data("royalSlider"),n._$slider.ev.on("rsBeforeAnimStart",{that:this},this._updatePagination),n._$slider.ev.on("rsAfterSlideChange",{that:this},this._slideChange),n._$slider.ev.on("rsDragStart",{that:this},this._startDrag),n._$slider.ev.on("rsDragRelease",{that:this},this._releaseDrag),e(n._$slider.currSlide.holder).waitForImages(function(){n._resize();
}),n._updatePagination(),n._addKeyboardNavigation(),n._initControls()}else if("slideFromLeft"===n._direction){var u=e(".mediaCarousel > li",this.$element).first();1===e(".mediaCarousel > li",this.$element).length?u.addClass("padLeft66Percent"):2===e(".mediaCarousel > li",this.$element).length&&u.addClass("padLeft33Percent")}n._resize()},_slideChange:function(i){var n=i?i.data.that:this;n._resize(i),t.richsponsiveImage(),e(t).trigger("resize"),e(".TargetLinks").TargetLinks("setupListener"),e(".ResponsiveLink").ResponsiveLink()},_startDrag:function(t){var i=t?t.data.that:this;i._slidePosition=i._getSlidePosition(e(".rsContainer",i.$element))},_releaseDrag:function(t){var i=t?t.data.that:this,n=i._slidePosition,o=i._getSlidePosition(e(".rsContainer",i.$element));n===o?i._dragging=!1:i._dragging=!0},_getSlidePosition:function(e){var t;return t=jQuery.support.transition?this._getXPositionFromMatrix(e.css("transform")):e.position().left},_getXPositionFromMatrix:function(e){var t=e.toString().split(", ");return Number(t[4])},getDragging:function(){return this._dragging},_initEnquire:function(){var e=this;enquire.register("screen and (min-width: "+t.site.breakpoints.medium+"px)",{match:function(){e._createCarousel(3)}}),enquire.register("screen and (min-width: "+(t.site.breakpoints.small+1)+"px) and (max-width: "+(t.site.breakpoints.medium-1)+"px)",{match:function(){e._createCarousel(2)}}),enquire.register("screen and (max-width: "+t.site.breakpoints.small+"px)",{match:function(){e._createCarousel(1)}})},_resize:function(t){var i=t?t.data.that:this,n=e(".carouselWrapper .mediaCarousel .mediaCarouselItem",this.$element);n.find("img",this.$element),n.removeAttr("style"),n.find(" > span, > a").height(n.width()*i._imgRatio),n.css("height","auto"),n.waitForImages(!0).done(function(){n.equalHeights()}),null!==i._$slider&&i._$slider.updateSliderSize(!0),e(".rsOverflow",i.$element).width(e(".mediaCarousel",i.$element).width()),null!==i._$slider&&n.waitForImages(!0).done(function(){var t=i._$slider.currSlide.content,n=e("img, .backgroundImage",t),o=e(".carouselNavigation",i.$element),s=n.height();o.css("top",s+"px"),i._$slider.updateSliderSize(!0)})},_initControls:function(){var t=e(".carouselNavigation",this.element);t.addClass("carouselNavigationActive").removeClass("carouselNavigationDisabled"),e(".carouselNavigation > div a.prev",this.$element).on("click tap",{that:this},this._onPrev),e(".carouselNavigation > div a.next",this.$element).on("click tap",{that:this},this._onNext),this._updatePagination()},_removeControls:function(){e(".carouselNavigation",this.element).removeClass("carouselNavigationActive").addClass("carouselNavigationDisabled")},_onPrev:function(e){e.preventDefault();var t=e.data.that;t._$slider.prev(),t._updateSlideLinks()},_onNext:function(e){e.preventDefault();var t=e.data.that;t._$slider.next(),t._updateSlideLinks()},_updatePagination:function(t){var i=t?t.data.that:this,n=i._$slider,o=n.currSlideId+1;"slideFromLeft"===i._direction&&(o=n.numSlides-o+1),e(".numbers",i.$element).html('<span class="number">'+o+'</span><span class="divide">/</span><span class="number">'+n.numSlides+"</span>")},_destroy:function(){},_addKeyboardNavigation:function(){var t=this,i=t._$slider,n=e(".carouselWrapper .mediaCarousel",t.$element),o=e(".carouselNavigation",t.$element);n.attr("tabindex","0"),n.keydown(function(e){39===e.keyCode?(i.next(),n.focus(),t._updateSlideLinks()):37===e.keyCode&&(i.prev(),n.focus(),t._updateSlideLinks())}),o.find("a").keydown(function(t){39===t.keyCode?e(this).nextAll("a").first().focus():37===t.keyCode&&e(this).prevAll("a").first().focus()}),t._updateSlideLinks()},_updateSlideLinks:function(){var t=this,i=t._$slider,n=(e(".carouselWrapper .mediaCarousel",t.$element),e(".rsSlide > .slide",t.$element)),o=i.currSlide.content;e("a",n).attr("tabindex","-1"),e("a",o).attr("tabindex","")}};jQuery.createComponent("SameSizeCarousel",i)}(jQuery,window,document),jQuery.support.transition=function(){var e=document.body||document.documentElement,t=e.style,i=void 0!==t.transition||void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.MsTransition||void 0!==t.OTransition;return i}(),function(){var e={init:function(){var e=this;this.$element.on("click",function(t){t.preventDefault(),site.utils.scrollTo(e.$element.offset().top+e.$element.height()+1)})}};jQuery.createComponent("ScrollDown",e)}(jQuery,window,document),function(e){var t={_defaults:{},init:function(){e(".searchPageAutoComplete").AutoComplete({dataURL:e(".SearchButton input").attr("auto-complete-url"),youSearchedTitle:e(".SearchButton input").attr("search-text"),keyMatchTitle:e(".SearchButton input").attr("promoted-title")}),e(".searchList",this.$element).ProgressiveResults({container:".results",resultItems:"li",nextButton:".loadMore"}),e(".searchHeader form").on("submit",function(){var t=e(this).find("input.textfield");return t.val(site.utils.removeHTMLTags(t.val())),!0})},_destroy:function(){}};jQuery.createComponent("SearchResults",t)}(jQuery,window,document),function(e,t){var i={_optionWidth:null,_optionsToShow:null,uiSelectors:{options:".select-option"},events:{"click .select-option":"_optionSelected"},init_rtl:function(){},init:function(){this._optionsToShow=site.utils.isBreakpointSmall()?3.5:4.5,e(t).smartresize(function(){this._dragSlider&&(this._optionsToShow=site.utils.isBreakpointSmall()?3.5:4.5,this.updateSliderSize())}.bind(this),250)},_optionSelected:function(e){this._dragSlider&&this._dragSlider.activity||this.$element.trigger("option-selected",e,[this.$element.data()])},initSlider:function(){this._dragSlider||(this.ui("options").wrapAll('<div class="selectable-slider-wrapper"></div>'),this.updateSliderSize(),this._dragSlider=new t.Dragdealer(this.$element[0],{steps:this.ui("options").length,loose:!0,speed:1.5,handleClass:"selectable-slider-wrapper",requestAnimationFrame:!0,x:site.rtl?1:0}),this.$element.addClass("selectable-slider"))},updateSliderSize:function(){this._optionWidth=Math.ceil(parseInt(this.$element.outerWidth(),10)/this._optionsToShow),this.ui("options").width(this._optionWidth),e(".selectable-slider-wrapper",this.$element).width(this._optionWidth*this.ui("options").length)}};jQuery.createComponent("Selectable",i)}(jQuery,window,document),function(e,t){function i(t,i){this.$element=e(t),this.options=e.extend({},o,i),this._defaults=o,this._name=n,this._$desktopMenuButton=e(this.options.desktopMenuButton,this.$element),this._$deviceMenuButton=e(this.options.deviceMenuButton),this._$desktopMenu=e(this.options.desktopMenu,this.$element),this._defaultWidthOfMenu=0,this._height=0,this._dropdownTimer=null,this.init(this)}var n="ShoppingToolsDropdown",o={desktopMenuButton:".ShoppingToolsButton > a",desktopMenu:".ShoppingToolsDropdown"};i.prototype={init:function(){var i=this;i._defaultWidthOfMenu=e(".links",i._$deviceMenu).outerWidth(),i._height=i._$desktopMenu.height(),i._$desktopMenu.css({height:0,display:"none",overflow:"hidden"}),i._$desktopMenu.Dropdown({timeout:250,button:i._$desktopMenuButton,buttonWithinMenu:!1,onOpen:function(){i._addKeyboardNavigation(),i._$desktopMenuButton.parent().addClass("active"),i._timerAutoClose(),i._$desktopMenu.addClass("animating").show().transition({duration:400,easing:"ease",height:i._height},function(){i._$desktopMenu.css({height:"auto"}),i._$desktopMenu.removeClass("animating")}),e(t).trigger("ShoppingToolsDropdown",["opened"])},onClose:function(){clearTimeout(i._dropdownTimer),i.$element.off("mouseleave blur").off("mouseenter focus"),i._removeKeyboardNavigation(),i._$desktopMenu.addClass("animating"),i._height=i._$desktopMenu.height(),i._$desktopMenu.css({height:i._height}).show().transition({duration:400,easing:"ease",height:0},function(){i._$desktopMenuButton.parent().removeClass("active"),i._$desktopMenu.removeClass("animating"),i._$desktopMenu.hide()})}}),e(t).on("NavigationModelSwitcher",function(e,t){"opened"===t&&i._$desktopMenuButton.parent().hasClass("active")&&i._$desktopMenu.trigger("close")})},_addKeyboardNavigation:function(){var t=this,i=t._$desktopMenuButton,n=t._$desktopMenu.find("a");i.keydown(function(e){return 40===e.keyCode?(n.first().focus(),!1):void 0}),n.keydown(function(t){var o=n.first(),s=e(this);if(40===t.keyCode)return s.parent("li").next("li").find("a").focus(),!1;if(38===t.keyCode)s.is(o)?i.focus():s.parent("li").prev("li").find("a").focus();else if(9===t.keyCode)return!1})},_removeKeyboardNavigation:function(){var e=this;e._$desktopMenu.off("keydown"),e._$desktopMenuButton.off("keydown")},_timerAutoClose:function(){var t=this;e("html").hasClass("touchCapability")?t._dropdownTimer=setTimeout(function(){t._$desktopMenu.trigger("close")},1e4):this.$element.off("mouseleave blur").on("mouseleave blur",function(){t._dropdownTimer=setTimeout(function(){t._$desktopMenu.trigger("close")},5500)}).off("mouseenter focus").on("mouseenter focus",function(){clearTimeout(t._dropdownTimer)})}},e.fn[n]=function(t){return this.each(function(){e.data(this,"component_"+n)||e.data(this,"component_"+n,new i(this,t))})}}(jQuery,window,document),function(e){"use strict";function t(){this._componentName=i,this.init()}var i="SidebarImage";t.prototype={init:function(){}},e.fn[i]=function(n){var o=arguments,s="component_"+i;return this.each(function(){var i=e.data(this,s);i&&"string"==typeof n&&"_"!==n.charAt(0)&&i[n]&&"function"==typeof i[n]?i[n].apply(i,Array.prototype.slice.call(o,1)):i||"object"!=typeof n&&n||e.data(this,s,new t(this,n))})}}(jQuery,window),function(e,t){var i={_defaults:{deviceMenuButton:".MainNavigation .MoreButton > a, .SlideOutMenu .MoreButton > a"},uiSelectors:{links:".links",ulThirdLi:"ul.third li"},_toggled:!1,_defaultWidthOfMenu:0,_fromDirection:"left",_ulHeights:[],init_rtl:function(){this._fromDirection="right"},init:function(){var i=this;i._$deviceMenuButton=e(this.options.deviceMenuButton),i._defaultWidthOfMenu=this._getDefaultWidthOfMenu(),e(i.$element).on("swipeMovement",function(t,n){("right"===n&&"left"===i.fromDirection||"left"===n&&"right"===i.fromDirection)&&e(".MainNavigation .MoreButton a").trigger("click")}),e(".links",i.$element).Dropdown({timeout:250,button:i._$deviceMenuButton,buttonWithinMenu:!1,onOpen:function(){i._toggled=!0,e("html").addClass("noScroll"),e("body").addClass("hasSidebar").append('<div id="sidebarOverlay" class="overlay transparent">&nbsp;</div>'),e("#sidebarOverlay").transition({opacity:.6}),i._positionMenu(i),e(".MoreButton a").addClass("active"),e(".MoreButton",i.$element).on("click tap",function(e){e.preventDefault()}),e(t).trigger("SlideOutMenuOpened"),e(t).trigger("overlayOpened"),e(t).smartresize(function(){i._toggled===!0&&i._positionMenu(i)})},onClose:function(){e("html").removeClass("noScroll"),e(".links",i.$element).addClass("animating"),e(".MoreButton",i.$element).off("click tap"),e("#sidebarOverlay").transition({opacity:0,duration:400,easing:"ease"}),e("#logo").transition({x:0,duration:400,easing:"ease"}),e(".MainNavigation").transition({x:0,duration:400,easing:"ease"}),e(".SubNavigation").transition({x:0,duration:400,easing:"ease"}),e(".NavigationModelSwitcher").transition({x:0,duration:400,easing:"ease"}),e(".notificationBars").transition({x:0,duration:400,easing:"ease"}),e("#content").transition({x:0,duration:400,easing:"ease"},function(){this.removeAttr("style")}),e("#vehicleSelectorOverlay").transition({x:0,duration:400,easing:"ease"}),i.$element.transition({x:0,duration:400,easing:"ease"},function(){i.$element.css("display","none"),e("#sidebarOverlay").remove(),e("body").removeClass("hasSidebar"),e(".MoreButton a").removeClass("active"),i._toggled=!1,e(".links",i.$element).removeClass("animating")}),e(".FooterNav").transition({x:0,duration:400,easing:"ease"}),e(t).trigger("SlideOutMenuClosed"),e(t).trigger("overlayClosed")}}),enquire.register("screen and (min-width: 900px)",{match:function(){i._toggled===!0&&e(".MainNavigation .MoreButton a").trigger("click")}}),e(".searchSideAutoComplete").AutoComplete({wrapper:!1,dataURL:e(".SearchButton input").attr("auto-complete-url"),youSearchedTitle:e(".SearchButton input").attr("search-text"),keyMatchTitle:e(".SearchButton input").attr("promoted-title")}),i._accordionMenu(i),i._deviceSearch(i)},_getDefaultWidthOfMenu:function(){var e=this.ui("links").outerWidth();this.$element.addClass("measureLinks");var t=this._findLongestLink(this.ui("ulThirdLi")),i=Math.max(e,t+1);return this.$element.removeClass("measureLinks"),i},_findLongestLink:function(t){var i=0;return t.each(function(t,n){var o=e(n);i=Math.max(o.width(),i)}),i},_positionMenu:function(i){if(i._toggled===!0&&!e(".links",i.$element).hasClass("animating")){e(".links",i.$element).addClass("animating");var n=e(t).width(),o=i._defaultWidthOfMenu;751>n?(o=n-50,e(".links",i.$element).css("width",o),e(".navigation, .cover",i.$element).css("width",o)):(e(".links",i.$element).css("width",i._defaultWidthOfMenu),e(".navigation, .cover",i.$element).css("width",i._defaultWidthOfMenu)),"left"===i._fromDirection?i.$element.css({right:0-o,display:"block"}):i.$element.css({right:"auto",left:0-o,display:"block"});var s=-1!==navigator.userAgent.indexOf("Lumia 920")?0:400,r=0-o;"right"===i._fromDirection&&(r=o),i.$element.transition({duration:s,easing:"ease",x:r}),e("#logo").transition({duration:s,easing:"ease",x:r}),e(".MainNavigation").transition({duration:s,easing:"ease",x:r}),e(".SubNavigation").transition({duration:s,easing:"ease",x:r}),e(".NavigationModelSwitcher").transition({duration:s,easing:"ease",x:r}),e(".notificationBars").transition({duration:s,easing:"ease",x:r}),e("#vehicleSelectorOverlay").transition({duration:s,easing:"ease",x:r}),e("#content").transition({duration:s,easing:"ease",x:r},function(){e(".links",i.$element).removeClass("animating")}),e(".FooterNav").transition({duration:s,easing:"ease",x:r})}},_accordionMenu:function(t){t._ulHeights=[];var i=e("ul.first > li > ul",t.$element);if(jQuery.each(i,function(i,n){t._ulHeights[i]=e(n).outerHeight()}),e("ul.first > li > ul").css({height:0,"overflow-y":"hidden","max-height":"9999px"}),e("ul.first > li",t.$element).on("click tap"," > a",function(i){if(!e(this).hasClass("no-sub-nav")){i.preventDefault();var n=e(this).parent(),o=n.index(),s=null;n.hasClass("active")?(n.removeClass("active"),e("ul.first > li > a > .icon-plus",t.$element).show(),e("ul.first > li > a > .icon-minus",t.$element).hide(),s=n.index(),e("ul",n).css({height:t._ulHeights[s]}).transition({duration:400,height:0,easing:"ease"}).removeClass("open-content")):(s=e("ul.first > li.active",t.$element).index(),e("ul.first > li.active ul",t.$element).css({height:t._ulHeights[s]}).removeClass("open-content").transition({duration:400,height:0,easing:"ease"}),e("ul.first > li",t.$element).removeClass("active"),n.addClass("active"),e("ul.first > li > a > .icon-minus",t.$element).hide(),e("ul.first > li > a > .icon-plus",t.$element).show(),e(".icon-minus",this).show(),e(".icon-plus",this).hide(),e("ul",n).clone().css({position:"absolute",visibility:"hidden",height:"auto",width:e(".links",t.$element).width()}).addClass("slideClone").appendTo(n),t._ulHeights[o]=e(".slideClone").height(),e(".slideClone").remove(),e("ul",n).addClass("open-content").transition({duration:400,height:t._ulHeights[o],easing:"ease"},function(){e("ul",n).css({height:"auto"}),t._ulHeights[o]=e("ul",n).height()}))}}),e("ul.first > li.open > a",t.$element).trigger("click"),0!==e("ul.first > li.active",t.$element).length){var n=e("ul.first > li.active");e("ul.first > li > a > .icon-minus",t.$element).hide(),e("ul.first > li > a > .icon-plus",t.$element).show(),e(".icon-minus",n).show(),e(".icon-plus",n).hide(),e("> ul",n).css({height:"auto","overflow-y":"hidden","max-height":"9999px"}).addClass("open-content")}},_deviceSearch:function(t){e(".search input",t.$element).on("focus",function(){var i=e(this).parent(),n={easing:"ease"};"right"===t._fromDirection?n.marginLeft="70px":n.marginRight="70px",i.transition(n,200,function(){e(".search .btn",t.$element).show().transition({opacity:1,easing:"ease"},200),e(".cover",t.$element).transition({height:e(".navigation",t.$element).height(),easing:"ease"},200)})}),e(".search input",t.$element).on("blur",function(){var i=e(this).parent();e(this).val(""),e(".search .btn",t.$element).transition({opacity:0,easing:"ease"},200,function(){this.hide(),i.transition({marginRight:"0px",marginLeft:"0px",easing:"ease"},200),e(".cover",t.$element).transition({height:0,easing:"ease"},200)})}),e("#SlideOutForm",t.$element).on("submit",function(){var t=e(this).find("input");return t.val(site.utils.removeHTMLTags(t.val())),!0})}};jQuery.createComponent("SlideOutMenu",i)}(jQuery,window,document),function(e,t){var i={uiSelectors:{},_html:null,_slider:null,_autoPlayTimeout:1e4,_interactionTimeout:3e4,_timeOutInterval:null,_direction:"slideFromRight",init_rtl:function(){this._direction="slideFromLeft"},init:function(){var i=this;i._html=e(".gridHolder",i.$element).html(),e(t).smartresize(function(){i._onResize()}),i._initEnquire(),i._truncateContent()},_initEnquire:function(){var i=this,n=1300;enquire.register("screen and (min-width: "+n+"px)",{match:function(){i._createCarousel(3)}}),enquire.register("screen and (min-width: "+(t.site.breakpoints.small+1)+"px) and (max-width: "+(n-1)+"px)",{match:function(){i._createCarousel(2)}}),enquire.register("screen and (max-width: "+t.site.breakpoints.small+"px)",{match:function(){i._createCarousel(1)}}),e("html").hasClass("lt-ie9")&&i._createCarousel(3)},_resetCarousel:function(){this._$slider&&this._$slider.destroy(),this._$slider=null,this._removeControls(),e(".gridHolder",this.$element).empty().html(this._html),this.$element.removeAttr("data-total")},_createCarousel:function(t){var i=this;this._resetCarousel();var n=e(".grid",this.$element),o=e(".grid .gridItem",this.$element).length,s=e(".carouselNavigation",this.$element);if(t>=o)return void s.hide();for(var r=0;o>r;r+=t){var a=r/t+1;e(".grid > .gridItem:lt("+t+")",this.$element).wrapAll("<div class='slide' data-slideid='"+a+"'></div>")}var l=Math.ceil(o/t);this.$element.attr("data-total",l);var c=0;"slideFromLeft"===this._direction&&(c=e(".gridItem",this.$element).length-1),n.royalSlider({arrowsNav:!1,loop:!0,keyboardNavEnabled:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,autoHeight:!1,autoScaleSlider:!0,autoScaleSliderWidth:0,autoScaleSliderHeight:0,slidesSpacing:0,imgWidth:"100%",imgHeight:"100%",sliderDrag:!0,controlNavigation:"none",thumbsFitInViewport:!1,navigateByClick:!1,startSlideId:c,autoPlay:{enabled:!1,pauseOnHover:!1,stopAtAction:!1,delay:this._autoPlayTimeout},transitionType:"move",numImagesToPreload:1}),this._slider=n.data("royalSlider"),this._updatePagination(),i._updateCurrentSlide(),this._slider.ev.on("rsBeforeAnimStart",{that:this},this._onSlideChange),this._slider.ev.on("rsDragStart",{that:this},this._onStartDrag),this._slider.ev.on("rsAfterSlideChange",function(e){e.preventDefault(),i._updateCurrentSlide()}),this._initAutoPlay(!1),this._initCaroucelControls(),this._truncateContent(),this._addKeyboardNavigation()},_onStartDrag:function(e){var t=e?e.data.that:this;t._initAutoPlay(!0)},_initAutoPlay:function(e){var i=this,n=e?i._interactionTimeout:i._autoPlayTimeout;i._timeOutInterval&&t.clearInterval(i._timeOutInterval),i._timeOutInterval=t.setInterval(function(){"slideFromLeft"===i._direction?i._moveCarousel({that:i,direction:"prev"}):i._moveCarousel({that:i,direction:"next"})},n)},_removeControls:function(){var t=e(".carouselNavigation",this.$element);t.find("a.prev").off("click tap",this._onNavigationClick),t.find("a.next").off("click tap",this._onNavigationClick)},_initCaroucelControls:function(){var t=e(".carouselNavigation",this.$element);t.show(),t.find("a.prev").on("click tap",{that:this,direction:"prev"},this._onNavigationClick),t.find("a.next").on("click tap",{that:this,direction:"next"},this._onNavigationClick)},_onNavigationClick:function(e){e.preventDefault();var t=e.data.that;t._initAutoPlay(!0),t._moveCarousel(e.data)},_moveCarousel:function(e){var t=this,i=e.direction;t._slider[i](),t._updateSlideLinks()},_onSlideChange:function(e){var t=e.data.that;t._updatePagination(),t._truncateContent()},_updateCurrentSlide:function(){var t=this;e(".rsSlide",t.$element).removeClass("current"),e(t._slider.currSlide.holder).addClass("current")},_updatePagination:function(){var t=this,i=t._slider.currSlideId+1;"slideFromLeft"===t._direction&&(i=t._slider.numSlides-i+1);var n=e(".carouselNavigation .numbers .number",t.$element),o=n.eq(0),s=n.eq(1);o.html(i),s.html(t._slider.numSlides)},_onResize:function(){var e=this;e._truncateContent()},_truncateContent:function(){var t=e(".messageContent",this.$element);t.trigger("destroy"),t.dotdotdot()},_addKeyboardNavigation:function(){var t=this,i=t._slider,n=e(".grid",t.$element),o=e(".carouselNavigation",t.$element);n.attr("tabindex","0"),n.keydown(function(e){39===e.keyCode?(i.next(),n.focus(),t._updateSlideLinks()):37===e.keyCode&&(i.prev(),n.focus(),t._updateSlideLinks())}),o.find("a").keydown(function(t){39===t.keyCode?e(this).nextAll("a").first().focus():37===t.keyCode?e(this).prevAll("a").first().focus():13===t.keyCode&&(t.preventDefault(),e(this).trigger("click"))}),t._updateSlideLinks()},_updateSlideLinks:function(){var t=this,i=(t._slider,e(".carouselWrapper .mediaCarousel",t.$element),e(".rsSlide > .slide",t.$element)),n=t._slider.currSlide.content;e("a",i).attr("tabindex","-1"),e("a",n).attr("tabindex","")}};jQuery.createComponent("SocialFeed",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{orientation:"vertical",animateFrom:"top",visibleWhenClosed:!1,hasMenu:!0,openedOnce:!1},_windowWidth:e(t).width(),_bitly_networks:"twitter,gmail,email,linkedin,google_plusone,facebook,google_plusone_share,_facebook_like,tumblr",_timer:null,open:!1,init:function(){var n=this;this.$element.addClass("orientation_"+this.options.orientation),this.options.visibleWhenClosed===!0&&(this.$element.show(),this.$element.css("visibility","visible"));var o=[];e.each(e("> a",this.$element),function(){"undefined"!=typeof e(this).attr("data-name")&&o.push({name:e(this).attr("data-name"),url:e(this).attr("data-url"),icon:e(this).attr("data-icon")})}),t.addthis_config={ui_use_css:!1,ui_click:!1,services_custom:o},t.addthis_share={url_transforms:{shorten:{}},shorteners:{bitly:{}}};var s=this._bitly_networks.split(",");for(var r in s)t.addthis_share.url_transforms.shorten[s[r]]="bitly";if("undefined"!=typeof this.$element.data("url"))t.addthis_share.url=this.$element.data("url");else{var a=i.URL;a+=a.indexOf("?")<=-1?"?shared=true":"&shared=true",t.addthis_share.url=a}this.options.hasMenu===!0&&(this._initMenu(),this.$element.children("a").on("click tap",this._toggleMenu.bind(this)),this.$element.siblings("a").on("click tap",this._toggleMenu.bind(this)).css("visibility","visible")),e("> a",this.$element).on("click tap",{that:this},function(){setTimeout(function(){e(t).focus()},500)}),n._loadAddThis(),e(t).on("FilmstripToggle",function(t,i){i&&n.open&&e("> a",n.$element.parent()).trigger("click")}),e(t).on("slideClicked",function(){n.open&&e("> a",n.$element.parent()).trigger("click")}),e(t).smartresize(function(){var i=e(t).width();n._windowWidth!==i&&(n._initMenu(),n.$element.parent().removeClass("open"),n.open=!1,n._windowWidth=i)}),n._addKeyboardNavigation()},_initMenu:function(){if("vertical"===this.options.orientation){var e=0;e="top"===this.options.animateFrom?-this.$element.height()-200:this.$element.height()+200,this.$element.css("top",e)}},_loadAddThis:function(){if("undefined"==typeof t.addthis){for(var n=i.querySelectorAll("addthis_button_compact"),o=function(e){e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),null!==e.cancelBubble&&(e.cancelBubble=!0)},s=n.length,r=0;s>r;r++)n[r].addEventListener("mouseover",o,!1),n[r].addEventListener("focus",o,!1);var a=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);a&&e(".addthis_button_compact",this.$element).hide(),e.getScript("//s7.addthis.com/js/250/addthis_widget.js",function(e,i){"success"===i&&t.addthis&&t.addthis.toolbox(".addthis_toolbox")})}},_toggleMenu:function(i){i.stopPropagation(),i.preventDefault(),this.$element.css("visibility","visible"),this.$element.parent().hasClass("open")?(this.closeMenu(),this.open=!1):(this._openMenu(),this.open=!0),e(t).trigger("AddThisToggle",[this.open])},_openMenu:function(){var t=this,n=0;if(t.$element.parent().addClass("open").trigger("openSocialSharing"),e("html").hasClass("lt-ie9")&&t.options.openedOnce===!1){var o=i.getElementsByTagName("head")[0],s=i.createElement("style");s.type="text/css",s.styleSheet.cssText=":before,:after{content:none !important",o.appendChild(s),setTimeout(function(){o.removeChild(s)},0)}n="top"===t.options.animateFrom?t.$element.parent().find("> a").height():-this.$element.height(),t.$element.css({top:n}),t.options.openedOnce=!0},closeMenu:function(){var e=this,t=0;e.open=!1,e.$element.parent().removeClass("open").trigger("closeSocialSharing"),t="top"===e.options.animateFrom?-this.$element.height():e.$element.parent().find("> a").height(),e.$element.css({top:t})},_addKeyboardNavigation:function(){var t=this,i=null;i=t.options.hasMenu?e("> a",t.$element.parent()):e("> a",t.$element.parent().parent());var n=(i.parent(),e("> a",this.$element));i.keydown(function(e){var i=t.options.orientation,o=t.options.animateFrom,s=t.$element.parent().hasClass("open");if("vertical"===i){if("top"===o&&40===e.keyCode)return s===!0?n.first().focus():t._openMenu(),!1;if("bottom"===o&&38===e.keyCode)return s===!0?n.last().focus():t._openMenu(),!1}else{if("left"===o&&39===e.keyCode)return n.first().focus(),!1;if("right"===o&&37===e.keyCode)return n.last().focus(),!1}}),n.keydown(function(n){var o=t.options.orientation,s=t.options.animateFrom,r=null,a=null;if("vertical"===o){if(40===n.keyCode)return r=e(this).next("a"),r.length>0?r.focus():"bottom"===s&&i.focus(),!1;if(38===n.keyCode)return a=e(this).prev("a"),a.length>0?a.focus():"top"===s&&i.focus(),!1}else{if(39===n.keyCode)return r=e(this).next("a"),r.length>0?r.focus():"right"===s&&i.focus(),!1;if(37===n.keyCode)return a=e(this).prev("a"),a.length>0?a.focus():"left"===s&&i.focus(),!1}})},_destroy:function(){this.$element.off("click tap"),this.$element.children("a").off("click tap"),this.$element.siblings("a").off("click tap")},updateSharingURL:function(){"undefined"!=typeof this.$element.data("url")&&(t.addthis.update("share","url",this.$element.data("url")),t.addthis.toolbox(".addthis_toolbox",t.addthis_config,{url:this.$element.data("url")}))}};jQuery.createComponent("SocialSharing",n)}(jQuery,window,document),function(e,t,i){var n={_closeFilterBound:null,_addScrollTimer:0,init:function(){this._closeFilterBound=this._closeFilter.bind(this),e.ajax({url:this.$element.data("api-url"),cache:!0,dataType:"script"}).done(function(){this._initHandlers()}.bind(this))},_initHandlers:function(){e(i).on("click.lrdxSS  tap.lrdxSS",".stry-menu-is-open .stry-menu-link",this._addDocumentScrollClickHandlers.bind(this))},_addDocumentScrollClickHandlers:function(){e(i).on("click.lrdxSSDocumentListener tap.lrdxSSDocumentListener",this._closeFilterBound),t.clearTimeout(this._addScrollTimer),this._addScrollTimer=t.setTimeout(this._addDocumentScrollHandlers.bind(this),300)},_addDocumentScrollHandlers:function(){e(i).on("scroll.lrdxSSDocumentListener",this._closeFilterBound)},_removeDocumentScrollClickHandlers:function(){e(i).off("scroll.lrdxSSDocumentListener click.lrdxSSDocumentListener tap.lrdxSSDocumentListener",this._closeFilterBound)},_closeFilter:function(i){("scroll"===i.type||0===e(i.target).parents(".stry-menu").length)&&(t.clearTimeout(this._addScrollTimer),e(".stry-hub",this.$element).removeClass("stry-menu-is-open"),this._removeDocumentScrollClickHandlers())}};jQuery.createComponent("SocialStoryStreamHub",n)}(jQuery,window,document),function(e){var t={init:function(){e.ajax({url:this.$element.data("api-url"),cache:!0,dataType:"script"})}};jQuery.createComponent("SocialStoryStreamWidget",t)}(jQuery,window,document),function(e,t){var i={init:function(){var i=e(t);i.smartresize(function(){e(".feature",this.$element).removeAttr("style").equalHeights()}),i.trigger("resize")}};jQuery.createComponent("SpecificationsAtAGlance",i)}(jQuery,window,document),function(e){var t={_defaults:{},_currentPage:null,init:function(){site.inXPM||(this.$element.on("ProgressiveResults:all_results_loaded",this.showFinalCTAs.bind(this)),e(".ProgressiveResults",this.$element).ProgressiveResults({container:".progressiveItems",resultItems:".el",nextButton:".moreResults"}))},showFinalCTAs:function(){this.$element.find(".finalCTAContainer").fadeIn()}};jQuery.createComponent("StackedBlocks",t)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{articleColumns:".articleColumns",assets:".StoryArticleImage, .StoryArticleQuote, .StoryArticleVideo, .StoryArticleMap",columnAssets:".columnAssets",columnText:".columnText",scrollTriggers:".scrollTrigger",emphasisedTip:"p:has(em)"},_columnLayout:!1,_columnLayoutInited:!1,_$window:e(t),_scrollLibrary:null,_scrollScenesComponent:{},_scrollScenesAssets:{},_aniTime:1,_scrolledOutOfComponentBeforeTop:!1,_componentTopIsBelowViewportTop:!0,_componentBottomIsAboveViewportBottom:!1,_animating:!1,_scrollTriggerTimeout:null,_scrollTriggerHook:.5,_assetsOffscreen:{},_showMultipleAssets:!0,_smallerThanViewport:!1,_desktopAlignment:"left",init:function(){return site.inXPM?void this.$element.addClass("xpmMode"):(this._initScrollLibrary(),this._detectLayout(),this._initLayout(),this._$window.smartresize(this._resize.bind(this)),this.$element.height()<this._$window.height()&&(this._smallerThanViewport=!0,this.$element.addClass("assetSmallerThanViewport").addClass("assetAbsolute")),void this._paragraphMarginBottomAdjust())},_detectLayout:function(){this.$element.attr("data-alignment")&&(this._desktopAlignment=e(".StoryArticle").attr("data-alignment")),enquire.register("screen and (min-width: "+t.site.breakpoints.medium+"px)",{match:function(){this._columnLayout=site.utils.isMobileDevice()?!1:"centre"===this.$element.attr("data-alignment")?!1:!0,this._initLayout()}.bind(this)}),enquire.register("screen and (max-width: "+(t.site.breakpoints.medium-1)+"px)",{match:function(){this._columnLayout=!1,this._initLayout()}.bind(this)})},_initScrollLibrary:function(){this._scrollLibrary=new ScrollMagic.Controller},_initLayout:function(){this._columnLayout&&!this._columnLayoutInited?(this._scrollScenesAssets={},this._scrollScenesComponent={},this.ui("articleColumns").addClass("columnLayout"),this.ui("articleColumns").removeClass("singleColumn"),this._scrollTriggerAddComponent(!0),this.ui("assets").each(this._processAsset.bind(this,!0)),this._handleAssetMovement(0,!1,!1),this._resize(),this._columnLayoutInited=!0):!this._columnLayout&&this._columnLayoutInited&&(this.ui("articleColumns").removeClass("columnLayout"),this._scrollTriggerAddComponent(!1),this.ui("assets").each(this._processAsset.bind(this,!1)),this._columnLayoutInited=!1),this._columnLayout||this.ui("articleColumns").addClass("singleColumn"),this.$element.addClass("layoutReady"),this._$window.trigger("StoryArticle:layoutChange"),this.uiElements.scrollTriggers=e(this.uiSelectors.scrollTriggers,this.$element)},_processAsset:function(t,i,n){var o,s=e(n),r=s.find(".YouTubePlayer");t?(0===i?s.data("StoryArticle-asset-first",!0):i===this.ui("assets").length-1&&s.data("StoryArticle-asset-last",!0),o=e('<div class="scrollTrigger scrollTriggerAsset scrollTriggerAsset'+i+'"></div>'),o.data("index",i),s.parent(".StoryArticleParagraph").prepend(o),this._scrollTriggerWatch(s,o,i),this.ui("columnAssets").append(s),0!==i&&this._assetFixUnFix(s,!0),r.length&&r.YouTubePlayer("setIgnorePauseEvent",!0)):(o=this.ui("scrollTriggers").filter(".scrollTriggerAsset"+i),o.parent(".StoryArticleParagraph").append(s),this._assetFixUnFix(s,!1),this._scrollScenesAssets[i]&&(this._scrollScenesAssets[i].destroy(),this._scrollScenesAssets[i]=null),o.remove(),r.length&&r.YouTubePlayer("setIgnorePauseEvent",!1));
},_assetFixUnFix:function(e,t){t?e.addClass("assetFixed"):e.attr("style","").removeClass("assetFixed")},_scrollTriggerWatch:function(t,i,n){if(1===n){var o=100/this._$window.height()*(e(".StoryArticleParagraph",this.$element).eq(1).offset().top-this.$element.offset().top)/100-.01;e("<style> .StoryArticle.showScrollTriggers .scrollTrigger:before{ top: "+100*o+"%; }</style>").appendTo("head"),this._scrollTriggerHook=Math.min(o,1),this._showMultipleAssets=1>o}var s=new ScrollMagic.Scene({triggerElement:i.get(0),triggerHook:this._scrollTriggerHook,reverse:!0}).on("enter leave",this._scrollTriggerCallback.bind(this,t,n)).addTo(this._scrollLibrary);this._scrollScenesAssets[n]=s},_scrollTriggerAddComponent:function(e){var t=0,i=0,n=0,o=this._scrollTriggerComponentBeforeTop.bind(this),s=this._scrollTriggerComponentTop.bind(this),r=this._scrollTriggerComponentBottom.bind(this),a=this._scrollTriggerComponentAfterBottom.bind(this);if(Modernizr.cssvhunit)i="-22vh",n="22vh";else{var l=this._$window.height();i=-(.22*l),n=.22*l}this._scrollTriggerWatchComponent(e,"beforeTop",i,o),this._scrollTriggerWatchComponent(e,"top",t,s),this._scrollTriggerWatchComponent(e,"bottom",t,r),this._scrollTriggerWatchComponent(e,"afterBottom",n,a)},_scrollTriggerWatchComponent:function(t,i,n,o){var s,r,a="beforeTop"===i||"top"===i;t?(s=e('<div class="scrollTrigger scrollTriggerComponent scrollTrigger'+i+'"></div>'),a?this.$element.prepend(s):this.$element.append(s),n&&s.css("top",n),r=new ScrollMagic.Scene({triggerElement:s.get(0),triggerHook:a?0:1,reverse:!0}).on("enter leave",o).addTo(this._scrollLibrary),this._scrollScenesComponent[i]=r):(r=this._scrollScenesComponent[i],s=this.ui("scrollTriggers").filter(".scrollTrigger"+i),r&&r.destroy(),s.remove())},_scrollTriggerCallback:function(e,t,i){var n=!0;this._componentTopIsBelowViewportTop||this._componentBottomIsAboveViewportBottom||("enter"===i.type?(null!==this._scrollTriggerTimeout&&(clearTimeout(this._scrollTriggerTimeout),n=!1),this._scrollTriggerTimeout=setTimeout(this._scrollTriggerAssetEnter.bind(this,e,t,n,i),200)):"leave"===i.type&&this._scrollTriggerAssetLeave(e,t,i))},_scrollTriggerAssetEnter:function(e,t,i,n){this._scrollTriggerTimeout=null,this._handleAssetMovement(t,!0,i,n.scrollDirection),e.trigger("StoryArticle:onEnter"),"FORWARD"===n.scrollDirection&&0!==t&&this._scrollScenesAssets[t-1].trigger("leave",{scrollDirection:"FORWARD"})},_scrollTriggerAssetLeave:function(e,t,i){e.trigger("StoryArticle:onLeave"),"REVERSE"===i.scrollDirection&&0!==t&&this._scrollScenesAssets[t-1].trigger("enter",{scrollDirection:"REVERSE"})},_scrollTriggerComponentBeforeTop:function(e){this._scrolledOutOfComponentBeforeTop="leave"===e.type,this._scrolledOutOfComponentBeforeTop?this.ui("assets").first().trigger("StoryArticle:onLeave"):this.$element.trigger("StoryArticle:onEnterComponentBeforeTop")},_scrollTriggerComponentTop:function(e){this._componentTopIsBelowViewportTop="leave"===e.type;var t=this.ui("assets").first();this._smallerThanViewport?(this.ui("assets").removeClass("assetFixed").addClass("assetAbsolute").addClass("assetSmallerThanViewport"),t.trigger("StoryArticle:onEntered")):this._componentTopIsBelowViewportTop||!this._componentTopIsBelowViewportTop&&this._componentBottomIsAboveViewportBottom?(this.ui("assets").removeClass("assetFixed"),this.ui("assets").addClass("assetAbsolute"),this._moveOnLeaveTop(),clearTimeout(this._scrollTriggerTimeout)):(this.ui("assets").removeClass("assetAbsolute"),this.ui("assets").addClass("assetFixed"))},_scrollTriggerComponentBottom:function(e){var t=this.ui("assets").last();this._componentBottomIsAboveViewportBottom="enter"===e.type,this._smallerThanViewport?(this.ui("assets").removeClass("assetFixed").addClass("assetAbsolute").addClass("assetSmallerThanViewport"),t.trigger("StoryArticle:onEntered"),this.ui("assets").css({top:""})):this._componentBottomIsAboveViewportBottom||!this._componentBottomIsAboveViewportBottom&&this._componentTopIsBelowViewportTop?(this.ui("assets").removeClass("assetFixed"),this.ui("assets").addClass("assetAbsolute"),this._moveOnLeaveBottom(),TweenLite.to(t,this._aniTime,{y:this._$window.height()-t.height()-140})):(TweenLite.to(t,this._aniTime,{y:0}),this.ui("assets").removeClass("assetAbsolute"),this.ui("assets").addClass("assetFixed"),this.ui("assets").css({top:""}),clearTimeout(this._scrollTriggerTimeout),t.trigger("StoryArticle:onEntered"))},_scrollTriggerComponentAfterBottom:function(e){this._scrolledOutOfComponentAfterBottom="enter"===e.type,this._scrolledOutOfComponentAfterBottom&&this.ui("assets").last().trigger("StoryArticle:onLeave")},_handleAssetMovement:function(e,t,i,n){this._componentTopIsBelowViewportTop&&this._componentBottomIsAboveViewportBottom||(this._animating===!1&&i===!0&&this._animating===!1?this._moveCurrentAsset(e,n):this._moveAssets(e,t))},_moveCurrentAsset:function(e,t){var i,n,o,s,r=this._$window.height()/this._aniTime,a=0===e;"FORWARD"!==t||a||(s=1===this.ui("assets").eq(e-1).find(".mediaHolder").length?this.ui("assets").eq(e-1).find(".mediaHolder").outerHeight():this.ui("assets").eq(e-1).find(".multiImageGrid").outerHeight(),o=this._$window.height()-s,i=s,n=o/r,TweenLite.to(this.ui("assets").eq(e),n,{y:i,ease:Linear.easeNone,onComplete:this._moveCurrentAssetComplete.bind(this,e,!0,!1,t)})),"REVERSE"===t&&(s=1===this.ui("assets").eq(e).find(".mediaHolder").length?this.ui("assets").eq(e).find(".mediaHolder").outerHeight():this.ui("assets").eq(e).find(".multiImageGrid").outerHeight(),o=this._$window.height()-s,i=0-s,n=o/r,TweenLite.to(this.ui("assets").eq(e),n,{y:i,ease:Linear.easeNone,onComplete:this._moveCurrentAssetComplete.bind(this,e,!0,!1,t)})),this._animationDebounce()},_moveCurrentAssetComplete:function(e,t,i,n){"FORWARD"===n?this.ui("assets").eq(e-1).trigger("StoryArticle:onCollision"):this.ui("assets").eq(e+1).trigger("StoryArticle:onCollision"),this._handleAssetMovement(e,t,i,n)},_moveAssets:function(e,t){for(var i=0;i<this.ui("assets").length;i++){var n=(i-e)*this._$window.height(),o=this.ui("assets").eq(i);TweenLite.killTweensOf(o),t?i===e?TweenLite.to(o,this._aniTime,{y:n,onComplete:this._animationComplete.bind(this,e)}):(o.trigger("StoryArticle:onDeactive"),TweenLite.to(o,this._aniTime,{y:n}),this.ui("assets").eq(e-1).trigger("StoryArticle:onCollision")):TweenLite.set(o,{y:n})}},_animationComplete:function(e){var t=this.ui("assets").eq(e);TweenLite.to(this.ui("assets").eq(e),0,{clearProps:"transform"}),this._scrolledOutOfComponentBeforeTop||this._scrolledOutOfComponentAfterBottom||t.trigger("StoryArticle:onEntered")},_moveOnLeaveBottom:function(){for(var e=this.ui("assets").length-1,t=0;e+1>t;t++){var i=(t-e)*this._$window.height(),n=this.ui("assets").eq(t);n.css({top:this.$element.height()-this._$window.height()}),TweenLite.killTweensOf(n),TweenLite.to(n,this._aniTime,{y:i})}TweenLite.to(this.ui("assets").eq(e),this._aniTime,{y:0,onComplete:this._animationComplete.bind(this,e)})},_moveOnLeaveTop:function(){for(var e=0;e<this.ui("assets").length;e++){var t=e*this._$window.height(),i=this.ui("assets").eq(e);TweenLite.killTweensOf(i),TweenLite.to(i,this._aniTime,{y:t})}TweenLite.delayedCall(this._aniTime,this._animationComplete.bind(this,0))},_animationDebounce:function(){var e=this;e._animating=!0,clearTimeout(this._animatingTimeout),this._animatingTimeout=setTimeout(function(){e._animating=!1},1e3*this._aniTime*.5)},_resize:function(){this._columnLayout&&(this.ui("assets").width(this.ui("columnAssets").width()),this._reintroduceAssetsOffscreen(),this._checkAssetsOffscreen())},_reintroduceAssetsOffscreen:function(){e.each(this._assetsOffscreen,function(t,i){if(i){var n=i.$asset,o=i.$originalParent,s=i.itemIndex;o.append(n),this.uiElements.assets=e(this.uiSelectors.assets,this.$element),this._processAsset(!0,s,n.get(0)),this._assetsOffscreen[t]=null}}.bind(this))},_checkAssetsOffscreen:function(){this.uiElements.scrollTriggers=e(this.uiSelectors.scrollTriggers,this.$element),this.uiElements.assets=e(this.uiSelectors.assets,this.$element);var t,i=this.$element.offset().top+this.$element.height(),n=i-this._$window.height()*this._scrollTriggerHook,o=this.ui("scrollTriggers").filter(".scrollTriggerAsset");t=this._showMultipleAssets?o.filter(function(t,i){var o=e(i),s=o.offset().top>n;return s}.bind(this)):o.filter(function(e){return 0!==e}.bind(this)),t.each(function(t,i){var n,o=e(i),s=o.data("index"),r=this.ui("assets").get(s),a=e(r),l=o.parent(".StoryArticleParagraph");n={itemIndex:s,$originalParent:l,$asset:a},this._assetsOffscreen[t]=n,this._processAsset(!1,s,r),a.remove()}.bind(this)),this.uiElements.assets=e(this.uiSelectors.assets,this.$element)},_paragraphMarginBottomAdjust:function(){this.ui("emphasisedTip").prev().css("margin-bottom","20px")}};jQuery.createComponent("StoryArticle",i)}(jQuery,window,document),function(e,t){var i={_defaults:{trackInViewport:!0},uiSelectors:{gridEl:".multiImageGrid",images:".multiImageItem",credits:".assetCreditDescription"},$sliderEl:!1,init:function(){this.options.trackadjust=this.$element.height(),this._loadImages(),this._detectScreens(),site.utils.elementInViewport(this.$element,0)&&this.ui("images").length>1&&setTimeout(function(){this.$element.addClass("sliderActive")}.bind(this),400),e(t).smartresize(this._resizeSlider.bind(this)),e("html").hasClass("touch")&&this.$element.find(".TargetLinks").off("click.TargetLinks").on("click.ImageBlock",function(e){e.preventDefault()})},_loadImages:function(){var t=e("[data-picture-ignore]",this.$element);site.utils.loadIgnoredResponsiveImages(t)},_detectScreens:function(){enquire.register("screen and (min-width: "+t.site.breakpoints.medium+"px)",{match:function(){this.$sliderEl!==!1&&this.destroySlider()}.bind(this)}),enquire.register("screen and (max-width: "+(t.site.breakpoints.medium-1)+"px)",{match:function(){this.ui("images").length>1&&(this._copyCredits(),this.ui("images").waitForImages(this._resizeSlider.bind(this)),this.$sliderEl===!1&&this.initSlider())}.bind(this)})},_onEnterViewport:function(){this.$element.addClass("sliderActive")},_resizeSlider:function(){if(this.$element.hasClass("slider")!==!1){this.ui("images").css("height","");var t=this.ui("images").first().height();this.ui("images").each(function(i,n){var o=e(n);o.height()>t&&(t=o.height())}.bind(this)),this.ui("images").height(t),this.$element.find(".rsOverflow").height(t)}},initSlider:function(){this.$element.addClass("slider"),this.ui("gridEl").addClass("royalSlider"),this.ui("images").first().addClass("multiImageItemActive"),this.$sliderEl=e(".royalSlider",this.$element).royalSlider({arrowsNav:!1,controlNavigation:"none",loop:!1,keyboardNavEnabled:!1,navigateByClick:!1,controlsInside:!1,imageScaleMode:"none",arrowsNavAutoHide:!1,thumbsFitInViewport:!1,slidesSpacing:0,autoHeight:!1,easeOut:"easeOutSine"});var t=this.$sliderEl.data("royalSlider");t.ev.on("rsDragStart",function(){this.$element.addClass("slideraActive"),this.ui("images").removeClass("multiImageItemActive")}.bind(this)),t.ev.on("rsDragRelease",function(){setTimeout(function(){var i=e(t.currSlide.holder);i.find(".multiImageItem").addClass("multiImageItemActive")}.bind(this),400)}.bind(this)),t.ev.on("rsAfterSlideChange",function(){var i=e(t.currSlide.holder);i.find(".multiImageItem").addClass("multiImageItemActive")}.bind(this))},destroySlider:function(){var e=this.$sliderEl.data("royalSlider");this.ui("gridEl").removeClass("royalSlider").removeAttr("style"),this.$element.removeClass("slider"),this.ui("images").unwrap().removeAttr("style"),this.ui("gridEl").find(".rsOverflow").replaceWith(this.ui("gridEl").find(".multiImageItem")),e.destroy(),this.$sliderEl=!1},_copyCredits:function(){this.ui("credits").each(function(t,i){var n=e(i);e(this.ui("images").get(t)).find(".assetDescription").text(n.text())}.bind(this))}};jQuery.createComponent("StoryArticleEnhancedImageBlock",i)}(jQuery,window,document),function(e,t){var i={_defaults:{ignorePauseEvent:!1},uiSelectors:{controls:".mejs-controls",rail:".mejs-time-rail",playerInner:".mejs-inner",text:".imageMedia p",audio:"audio"},_player:null,_aniTime:1,_audioId:null,_$window:e(t),init:function(){this._loadImages(),this._initPlayer(),this._initHandlers(),this._$window.smartresize(this._resize.bind(this)),this._resize()},_loadImages:function(){var t=e("[data-picture-ignore]",this.$element);site.utils.loadIgnoredResponsiveImages(t)},_initPlayer:function(){var e=this;this.ui("audio").length&&(this._audioId="audio"+Math.floor(1e4*Math.random()),e._player=this.ui("audio").mediaelementplayer({startVolume:.8,features:["playpause","progress","current","duration"],audioWidth:"100%",audioHeight:50,success:function(t){t.addEventListener("play",function(t){e._onPlay(t)}),t.addEventListener("pause",function(t){e._onPause(t)}),t.addEventListener("ended",function(t){e._onEnded(t)})}}))},_initHandlers:function(){this.$element.on("StoryArticle:onEnter",this._onEnter.bind(this)),this.$element.on("StoryArticle:onEntered",this._onEntered.bind(this)),this.$element.on("StoryArticle:onLeave",this._onLeave.bind(this)),this.$element.on("StoryArticle:onCollision",this._onCollision.bind(this)),this.$element.on("StoryArticle:onDeactive",this._onDeactive.bind(this)),this._$window.on("VideoPlayerPause",this._onVideoPlayerPause.bind(this))},_resize:function(){this.ui("controls").width(this.$element.width()),this.ui("rail").width(0),this.ui("playerInner").height(this.ui("text").height()),this._player&&this._player[0].player.setControlsSize()},pausePlayer:function(){this._player[0].player.pause()},_onPause:function(){this.$element.removeClass("playing").addClass("paused")},_onPlay:function(){this._player[0].player.setVolume(1),this.$element.removeClass("paused finished").addClass("playing"),this._$window.trigger("VideoPlayerPause",{videoid:this._audioId})},_onEnded:function(){this.$element.removeClass("playing").addClass("finished")},_onEnter:function(){},_onEntered:function(){this.$element.removeClass("collapsed")},_onCollision:function(){this.$element.addClass("collapsed")},_onDeactive:function(){this.$element.addClass("collapsed")},_onLeave:function(){this._player&&TweenLite.fromTo(this._player[0].player,this._aniTime,{setVolume:1},{setVolume:0,ease:Power2.easeIn,onComplete:this.pausePlayer.bind(this)})},_onVideoPlayerPause:function(e,t){t.videoid&&!this.options.ignorePauseEvent&&this._player&&this._player[0]&&t.videoid!==this._audioId&&this.pausePlayer()}};jQuery.createComponent("StoryArticleImage",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{mediaHolder:".mediaHolder",iframeContainer:".iframeContainer",iframeOverlay:".iframeOverlay",iframe:"iframe"},init:function(){this._initIframe(),this._mapScrollingOn(),this._mapScrollingOff(),this._initHandlers()},_initIframe:function(){enquire.register("screen and (min-width: "+(t.site.breakpoints.small+1)+"px)",{match:function(){this.ui("mediaHolder").css("height",.5625*this.ui("mediaHolder").width()),this._adjustIframeHeight()}.bind(this)}),enquire.register("screen and (orientation:portrait) and (max-width: "+t.site.breakpoints.small+"px)",{match:function(){this.ui("mediaHolder").css("height",350)}.bind(this)}),enquire.register("screen and (orientation:landscape) and (max-width: "+t.site.breakpoints.small+"px)",{match:function(){this.ui("mediaHolder").css("height",250)}.bind(this)})},_adjustIframeHeight:function(){var i=e(t);i.resize(function(){i.width()>t.site.breakpoints.small&&this.ui("mediaHolder").css("height",.5625*this.ui("mediaHolder").width())}.bind(this))},_mapScrollingOn:function(){this.ui("iframeContainer").click(function(){this.ui("iframeOverlay").css("display","none"),this.ui("iframe").css("pointer-events","auto")}.bind(this)).hover(function(){"none"===this.ui("iframe").css("pointer-events")&&t.setTimeout(function(){this.ui("iframeOverlay").css("display","none"),this.ui("iframe").css("pointer-events","auto")}.bind(this),3e3)}.bind(this))},_mapScrollingOff:function(){var i=e(t);i.on("load resize scroll",function(){var e=this._isElementOutViewport(this.ui("iframeContainer"));e||(this.ui("iframeOverlay").css("display","block"),this.ui("iframe").css("pointer-events","none"))}.bind(this))},_isElementOutViewport:function(i){"function"==typeof jQuery&&i instanceof jQuery&&(i=i[0]);var n=i.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=e(t).height()&&n.right<=e(t).width()},_initHandlers:function(){this.$element.on("StoryArticle:onEnter",this._onEnter.bind(this)),this.$element.on("StoryArticle:onEntered",this._onEntered.bind(this)),this.$element.on("StoryArticle:onLeave",this._onLeave.bind(this)),this.$element.on("StoryArticle:onCollision",this._onCollision.bind(this)),this.$element.on("StoryArticle:onDeactive",this._onDeactive.bind(this))},_onEnter:function(){},_onEntered:function(){this.$element.removeClass("collapsed")},_onLeave:function(){},_onCollision:function(){this.$element.addClass("collapsed")},_onDeactive:function(){this.$element.addClass("collapsed")}};jQuery.createComponent("StoryArticleMap",i)}(jQuery,window,document),function(){var e={uiSelectors:{},init:function(){this._initHandlers()},_initHandlers:function(){this.$element.on("StoryArticle:onEnter",this._onEnter.bind(this)),this.$element.on("StoryArticle:onEntered",this._onEntered.bind(this)),this.$element.on("StoryArticle:onLeave",this._onLeave.bind(this)),this.$element.on("StoryArticle:onCollision",this._onCollision.bind(this)),this.$element.on("StoryArticle:onDeactive",this._onDeactive.bind(this))},_onEnter:function(){},_onEntered:function(){this.$element.removeClass("collapsed")},_onCollision:function(){this.$element.addClass("collapsed")},_onLeave:function(){},_onDeactive:function(){this.$element.addClass("collapsed")},_destroy:function(){}};jQuery.createComponent("StoryArticleQuote",e)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},uiSelectors:{loopPlayer:".VideoPlayer",player:".YouTubePlayer",cta:".mediaOverlay",text:".assetDescription"},_states:{playerOverlay:{hidden:"hidden",showBehind:"showBehind",showInFront:"showInFront"}},$articleColumn:null,$playerOriginal:null,$playerOverlay:null,$playerOverlayYouTubePlayer:null,$closeBtn:null,$masks:{},loopPlayer:!1,loopPlayerThumb:[],loopExpand:!1,_$window:e(t),_aniTime:1,init:function(){this._createLayout(),site.utils.isMobileDevice()&&this.$element.removeClass("withLoop"),this.$element.hasClass("withLoop")&&(this.loopPlayer=!0,this._initLoopPlayer()),this._initHandlers(),this._resize(),this._$window.smartresize(this._resize.bind(this))},_createLayout:function(){var t,i,n=this.$element.parents(".StoryArticle");this.$articleColumn=n.find(".columnText"),t=e('<div class="playerOriginal"><div class="playerContainer"><div class="YouTubePlayer"><div class="playerWrapper"><div id="YouTubeVideo_123" class="placeholderVideo" data-video-id="A3PDXmYoF5U"></div></div></div></div></div>'),this.$playerOriginal=t.find(".playerContainer"),this.$playerOverlay=e('<div class="playerOverlay" data-visibility="hidden"><div class="player"></div></div>'),i=e('<div class="masks"><div class="mask maskV1"></div><div class="mask maskV2"></div><div class="mask maskH1"></div><div class="mask maskH2"></div></div>'),this.$masks.v1=i.find(".maskV1"),this.$masks.v2=i.find(".maskV2"),this.$masks.h1=i.find(".maskH1"),this.$masks.h2=i.find(".maskH2"),n.append(t).append(this.$playerOverlay).append(i)},_initHandlers:function(){this._$window.on("StoryArticle:layoutChange",this._resize.bind(this)),this.$element.on("StoryArticle:onEnter",this._onEnter.bind(this)),this.$element.on("StoryArticle:onEntered",this._onEntered.bind(this)),this.$element.on("StoryArticle:onLeave",this._onLeave.bind(this)),this.$element.on("StoryArticle:onCollision",this._onCollision.bind(this)),this.$element.on("StoryArticle:onDeactive",this._onDeactive.bind(this)),this.$element.parents(".StoryArticle").on("StoryArticle:onEnterComponentBeforeTop",this._onEnterComponentBeforeTop.bind(this))},_pauseOnInitFunction:function(){this.ui("loopPlayer").VideoPlayer("pause")},_pauseOnInit:null,_initLoopPlayer:function(){this.ui("loopPlayer").VideoPlayer({autoplay:!1,loop:!0,controls:!0,ignorePauseEvent:!0}),this.ui("cta").on("click tap",this._checkReadyToExpandLoopPlayer.bind(this))},_resize:function(){if(this.loopPlayer){if(this.$playerOverlayYouTubePlayer){this.$playerOverlayYouTubePlayer.YouTubePlayer("onResize",!0);var e=this.$playerOverlayYouTubePlayer.find(".playerWrapper"),t=this._$window.height()-e.height(),i=0;i=0>t?t:t/2,e.css({"margin-top":i})}}else this.ui("player").YouTubePlayer("onResize",!0)},_createOverlayPlayer:function(){this.$playerOriginal.clone().appendTo(this.$playerOverlay.find(".player")),this.$playerOverlayYouTubePlayer=this.$playerOverlay.find(".YouTubePlayer"),this.$playerOverlayYouTubePlayer.find(".placeholderVideo").data("video-id",this.ui("player").find(".placeholderVideo").data("video-id")),this.$playerOverlayYouTubePlayer.on("onPlay",e.proxy(this._revealPlayer,this)),this.$playerOverlay.attr("data-visibility",this._states.playerOverlay.showBehind),this.$playerOverlayYouTubePlayer.YouTubePlayer({ignorePauseEvent:!0}).YouTubePlayer("play"),this._addVideoCloseButton(),this.$playerOverlayYouTubePlayer.on("videoEnded",this._fadeVideoOut.bind(this))},_addVideoCloseButton:function(){var t=this;this.$closeBtn||(this.$closeBtn=e('<a href="#" class="closeBtn mfp-close"></a>'),this.$closeBtn.css({opacity:0}),this.$element.parents(".StoryArticle").append(this.$closeBtn),this.$closeBtn.on("click tap",function(e){e.preventDefault(),t._fadeVideoOut()})),TweenLite.to(this.$closeBtn,.5,{opacity:1})},_removeVideoCloseButton:function(){var e=this;TweenLite.to(e.$closeBtn,.2,{opacity:0,onComplete:function(){e.$closeBtn.remove(),e.$closeBtn=null}})},_revealPlayer:function(){this._resize(),this.$playerOverlay.attr("data-visibility",this._states.playerOverlay.showInFront),this._fadeVideoIn(),this.$playerOverlayYouTubePlayer.off("onPlay",this._revealPlayer)},_checkReadyToExpandLoopPlayer:function(t){var i=this.$element.hasClass("assetFixed"),n=this.$element.data("StoryArticle-asset-first");if(this.$element.data("StoryArticle-asset-last"),t.preventDefault(),i)this._expandLoopPlayer();else{var o=site.utils.detectBrowsers().isExplorer,s=this.$element.parents(".StoryArticle"),r=s.offset(),a=r.top+1,l=o?50:1,c=a+s.height()-this._$window.height()-l,u=n?a:c;e.when(e("html, body").animate({scrollTop:u},400)).then(this._checkAssetFixed.bind(this))}},_checkAssetFixed:function(){this.$element.hasClass("assetFixed")||this.$element.hasClass("assetSmallerThanViewport")?this._expandLoopPlayer():this.$element.one("StoryArticle:onEntered",this._expandLoopPlayer.bind(this))},_expandLoopPlayer:function(){var i=this,n=this.ui("loopPlayer"),o=n.find(".playerWrapper"),s=o.find(".mejs-video"),r=this.ui("text"),a=this.$element,l=(s.find("video")[0],[o.offset().top,o.offset().left+5]),c=this._$window[0].innerWidth,u=this._$window.height(),d=c/(s.width()/s.height()),h=this.$element.parents(".InteractiveStory"),p=e("html"),f={height:u};a.hasClass("assetFixed")||(f.y=-(s.offset().top-e(t).scrollTop())),h.addClass("fullscreen"),i.loopExpand?i.loopExpand.play().timeScale(1):(i.loopPlayerThumb.push(o.width()),i.loopPlayerThumb.push(o.height()),i.loopPlayerThumb.push(s.width()),i.loopPlayerThumb.push(s.height()),i.loopExpand=(new TimelineLite).eventCallback("onReverseComplete",function(){o.css({width:i.loopPlayerThumb[0],height:i.loopPlayerThumb[1]}),s.css({width:i.loopPlayerThumb[2],height:i.loopPlayerThumb[3]}),a.css("top",""),h.removeClass("fullscreen"),p.removeClass("noScroll")}).to(r,.5,{opacity:0,onComplete:function(){o.addClass("letterbox"),p.addClass("noScroll")}}).to(i.$articleColumn,1,{x:-(this.$articleColumn.outerWidth()+this.$articleColumn.offset().left),ease:Power2.easeOut}).to(s,1,{width:c},"-=1").fromTo(o,1,{width:o.width()},{x:-l[1],width:c},"-=1").fromTo(s,.5,{height:s.height()},{height:d,y:(u-d)/2,delay:.5},"-=0.5").fromTo(o,.5,{height:s.height()},f,"-=0.5").to(a,.5,{top:0,onComplete:function(){i._createOverlayPlayer()}},"-=0.5")),i._addKeyboardNavigation()},_addKeyboardNavigation:function(){var t=this;e(i).on("keyup",function(i){27===i.keyCode&&e("html").hasClass("noScroll")&&t._fadeVideoOut()})},_shrinkLoopPlayer:function(){var e=this,t=this.ui("loopPlayer"),i=t.find(".playerWrapper"),n=(i.find(".mejs-video"),this.$element);TweenLite.to(n,0,{top:0,onComplete:function(){(new TimelineLite).to(e.ui("text"),.2,{opacity:0,onComplete:function(){e._clearOverlay(),e.loopExpand.reverse().timeScale(1.2),i.removeClass("letterbox")}})}})},_setMaskSizes:function(){this.$masks.v1.height(this.$element.offset().top-this._$window.scrollTop()),this.$masks.v2.height(this._$window.height()-this.$element.height()+this.ui("text").outerHeight()-(this.$element.offset().top-this._$window.scrollTop())),this.$masks.h1.width(this.$element.offset().left),this.$masks.h2.width(this._$window.width()-this.$element.width()-this.$element.offset().left)},_fadeVideoIn:function(){var e=this.$playerOverlayYouTubePlayer;this.loopPlayer&&this._fadeOutPauseLoop(),TweenLite.fromTo(this.$playerOverlay,.2,{opacity:0},{opacity:1});var t={vol:0};TweenLite.fromTo(t,.5,t,{vol:100,onUpdate:function(){e.YouTubePlayer("setVolume",t.vol)}})},_animatePageIn:function(){TweenLite.to(this.$masks.h1,.5,{width:0,delay:.1}),TweenLite.to(this.$masks.h2,.5,{width:0,delay:.1}),TweenLite.to(this.$masks.v1,.5,{height:0,delay:.5}),TweenLite.to(this.$masks.v2,.5,{height:0,delay:.5})},_closeOverlayPlayer:function(){var e=this.$element.offset().top-this._$window.scrollTop(),t=this._$window.height()-this.$element.height()+this.ui("text").outerHeight()-(this.$element.offset().top-this._$window.scrollTop()),i=this.$element.offset().left,n=this._$window.width()-this.$element.width()-this.$element.offset().left;TweenLite.to(this.$masks.v1,.5,{height:e}),TweenLite.to(this.$masks.v2,.5,{height:t}),TweenLite.to(this.$masks.h1,.5,{width:i,delay:.4}),TweenLite.to(this.$masks.h2,.5,{width:n,delay:.4})},_fadeVideoOut:function(){var e=this,t=this.$playerOverlayYouTubePlayer,i={vol:100};TweenLite.fromTo(i,.2,i,{vol:0,onUpdate:function(){t.YouTubePlayer("setVolume",i.vol)}}),this._removeVideoCloseButton(),TweenLite.fromTo(this.$playerOverlay,.2,{opacity:1},{opacity:0,onComplete:function(){e._clearOverlay(),e._shrinkLoopPlayer()}}),this.loopPlayer&&this._fadeInPlayLoop()},_clearOverlay:function(){this.$masks.v1.height(0),this.$masks.v2.height(0),this.$masks.h1.width(0),this.$masks.h2.width(0),this.$playerOverlay.attr("data-visibility",this._states.playerOverlay.hidden),this.$playerOverlayYouTubePlayer&&(this.$playerOverlayYouTubePlayer.YouTubePlayer("pause"),t.setTimeout(function(){this.$playerOverlayYouTubePlayer.YouTubePlayer("destroy"),this.$playerOverlay.find(".player").empty()}.bind(this),1e3))},_onEnter:function(){this.loopPlayer&&this._fadeInPlayLoop()},_onEntered:function(){this.loopPlayer&&this._fadeInPlayLoop(),this.$element.removeClass("collapsed")},_onCollision:function(){this.$element.addClass("collapsed")},_onLeave:function(){this.loopPlayer?this._fadeOutPauseLoop():this._fadeOutYouTubeVolume()},_onDeactive:function(){this.$element.addClass("collapsed")},_onEnterComponentBeforeTop:function(){this.loopPlayer&&!this.ui("loopPlayer").VideoPlayer("isInitiated")&&(this._pauseOnInit=this._pauseOnInitFunction.bind(this),this.ui("loopPlayer").on("onPlay",this._pauseOnInit),this.ui("loopPlayer").VideoPlayer("initVideo"))},_fadeInPlayLoop:function(){var e=this.ui("loopPlayer"),t={vol:e.VideoPlayer("getVolume")};e.VideoPlayer("isInitiated")?(e.off("onPlay",this._pauseOnInit),e.VideoPlayer("play")):e.VideoPlayer("initVideo"),TweenLite.killTweensOf(t),TweenLite.to(t,.5,{vol:100,onUpdate:function(){e.VideoPlayer("setVolume",t.vol)}})},_fadeOutPauseLoop:function(){var e=this.ui("loopPlayer"),t={vol:e.VideoPlayer("getVolume")};TweenLite.killTweensOf(t),TweenLite.to(t,.5,{vol:0,onUpdate:function(){e.VideoPlayer("setVolume",t.vol)},onComplete:function(){e.VideoPlayer("pause")}})},_fadeOutYouTubeVolume:function(){var e=this,t=this.ui("player").YouTubePlayer("getVolume"),i={vol:t};TweenLite.fromTo(i,this._aniTime,{vol:100},{vol:0,ease:Power2.easeIn,onUpdate:function(){e.ui("player").YouTubePlayer("setVolume",i.vol)},onComplete:function(){e.ui("player").YouTubePlayer("pause"),e.ui("player").YouTubePlayer("setVolume",t)}})},_destroy:function(){}};jQuery.createComponent("StoryArticleVideo",n)}(jQuery,window,document),function(e,t){var i={uiSelectors:{ctaBlockheading:".ctaBlock .heading",description:".description"},init:function(){this._equalHeightsInit(),e(t).smartresize(this._equalHeightsInit.bind(this))},_equalHeightsInit:function(){this._equalHeightsOff(),"small"!==site.breakpoints.current&&this._equalHeightsOn()},_equalHeightsOn:function(){"medium"===site.breakpoints.current?(this.ui("ctaBlockheading").filter(function(e){return 2>e}).equalHeights(),this.ui("description").filter(function(e){return 2>e}).equalHeights()):(this.ui("ctaBlockheading").equalHeights(),this.ui("description").equalHeights())},_equalHeightsOff:function(){this.ui("ctaBlockheading").css("height",""),this.ui("description").css("height","")}};jQuery.createComponent("StoryCallsToAction",i)}(jQuery,window,document),function(e,t){var i={_defaults:{volumeFull:.8,scrollHijackDuration:1400},uiSelectors:{extractVideo:".extractVideo",VideoPlayer:".VideoPlayer",VideoPlayerVideo:".VideoPlayer video",extractContent:".extractContent"},_$window:e(t),_$positionElement:null,_isTouchDevice:!1,_hasMedia:!1,_canPlayVideoPlayerReady:!1,_canPlayVideoScrollPosition:!1,_videoOptions:{autoplay:!0,controls:[],loop:!0,muted:!1,clickToPlayPause:!1,pauseOtherPlayers:!1,onCanPlay:null,ignorePauseEvent:!0},_positionTop:0,_positionBottom:0,_stateIsVideoPlaying:!1,_stateAllowScrollHijack:!0,_stateScrollingDisabled:!1,_volumeCurrent:0,_scrollEvents:!1,init:function(){this._getPositionElement(),this._detectDeviceType(),this._detectMedia(),this._setSlideRevealOverlay(),this._setScrollEvents(),this._refreshPosition(),this._loadImages(),this._initMedia(),this._attachEvents(),this._scrollEvents&&this._onScroll()},_getPositionElement:function(){var e=this.$element.parents(".InteractiveStory > .components > .component");e.length>0?this._$positionElement=e:this._$positionElement=this.$element},_detectDeviceType:function(){this._isTouchDevice=site.utils.isMobileDevice(),this._isTouchDevice?this.$element.addClass("touch"):(this._populateText(),this.$element.addClass("desktop"))},_detectMedia:function(){this._hasMedia=this.$element.hasClass("withMedia")},_setSlideRevealOverlay:function(){this._hasMedia||this.$element.data("slide-reveal-overlay",!0)},_setScrollEvents:function(){this._scrollEvents=!this._isTouchDevice&&this._hasMedia},_populateText:function(){var t=e(".prop",this.$element).html();e(".half .text",this.$element).html(t)},_refreshPosition:function(){var e=this._$positionElement.outerHeight();this._positionTop=this._$positionElement.offset().top,this._positionBottom=this._positionTop+e},_loadImages:function(){var t=e("[data-picture-ignore]",this.$element);site.utils.loadIgnoredResponsiveImages(t)},_initMedia:function(){this.ui("VideoPlayer").length&&(this._isTouchDevice?this.ui("VideoPlayer").remove():(this._videoOptions.onCanPlay=this._onCanPlayVideo.bind(this),this.ui("VideoPlayer").VideoPlayer(this._videoOptions),this.ui("VideoPlayerVideo").coverVid(1920,1080)))},_onCanPlayVideo:function(){this._canPlayVideoPlayerReady=!0,this.$element.addClass("videoPlayerReady"),this.uiElements.VideoPlayerVideo=e(".VideoPlayer video",this.$element),this._volumeCurrent=this.ui("VideoPlayerVideo").get(0).volume,this._videoReadyStateChange()},_videoReadyStateChange:function(){if(this._canPlayVideoPlayerReady&&this._canPlayVideoScrollPosition){var e=this._$window.scrollTop()+this._$window.height();this._changeVolumeFromScroll(e),this._playVideo()}else this._canPlayVideoPlayerReady&&this._pauseVideo()},_playVideo:function(){this.ui("VideoPlayer").VideoPlayer("play"),this._stateVideoPlaying=!0},_pauseVideo:function(){this._changeVolume(0),this.ui("VideoPlayer").VideoPlayer("pause"),
this._stateVideoPlaying=!1},_getScrollRatio:function(e,t,i){var n=t-e,o=i-e,s=o/n/2;return s},_changeVolumeFromScroll:function(e){var t=this._calculateVolume(e);this._changeVolume(t)},_calculateVolume:function(e){var t=0,i=0,n=this._defaults.volumeFull,o=this._positionTop,s=this._positionBottom;return i=this._getScrollRatio(o,s,e),t=site.utils.getEasingValue(i)*n},_changeVolume:function(e){var t=this.ui("VideoPlayerVideo").get(0);e=Math.round(20*e)/20,e!==this._volumeCurrent&&(t.setVolume(e),this._volumeCurrent=e)},_attachEvents:function(){this._scrollEvents&&this._$window.on("scroll",this._onScrollWrapper.bind(this)),this.$element.parents(".InteractiveStory").on("resize.InteractiveStory",this._onResize.bind(this))},_onScrollWrapper:function(){t.requestAnimationFrame(this._onScroll.bind(this))},_onScroll:function(){var e=this._$window.height(),t=this._$window.scrollTop(),i=t+e,n=this._positionTop,o=this._positionBottom,s=i>=n&&o>=t;this._onScrollMedia(e,t,i,n,o,s)},_onScrollMedia:function(e,t,i,n,o,s){if(s!==this._canPlayVideoScrollPosition&&(s?this._canPlayVideoScrollPosition=!0:this._canPlayVideoScrollPosition=!1,this._videoReadyStateChange()),this._canPlayVideoPlayerReady&&this._canPlayVideoScrollPosition&&this._changeVolumeFromScroll(i),t>=n&&this._showText(),this._stateAllowScrollHijack&&!this._stateScrollingDisabled&&i>=o){var r=o-e;this._componentIndicatorIsScrolling()?this._unhijackScroll():this._hijackScroll(r)}},_hijackScroll:function(e){this._$window.scrollTop(e),this._$window.on("wheel scroll",this._cancelScroll),this._stateScrollingDisabled=!0,t.setTimeout(this._unhijackScroll.bind(this),this._defaults.scrollHijackDuration)},_unhijackScroll:function(){this._$window.off("wheel scroll",this._cancelScroll),this._stateAllowScrollHijack=!1},_cancelScroll:function(e){return e.preventDefault()&&!1},_componentIndicatorIsScrolling:function(){var e=this.$element.parents(".InteractiveStory");return e.InteractiveStory("componentIndicatorIsScrolling")},_onResize:function(){this._refreshPosition(),this._scrollEvents&&this._onScroll()},_showText:function(){this.$element.addClass("showText")}};jQuery.createComponent("StoryExtract",i)}(jQuery,window,document),function(e,t){var i={_defaults:{trackInViewport:!0},uiSelectors:{directionArrows:".directionArrow",storyGalleryCarousel:".storyGalleryCarousel",storyGallerySlides:".storyGallerySlides",frames:".storyGalleryFrame"},_carousel:null,_filmStripMode:!1,_filmstripActiveIndex:0,_initialSlide:0,_orientation:!1,_allowResize:!1,_heightAdjustment:null,_$window:e(t),init:function(){this._loadImages(),this._initSizeCalculations(),this._switchMode()},_loadImages:function(){var t=e("[data-picture-ignore]",this.$element);site.utils.loadIgnoredResponsiveImages(t)},_switchMode:function(){this._isTouchDevice=site.utils.isMobileDevice(),this._isTouchDevice?this.ui("frames").length>1&&(this._filmStripMode=!0,this.$element.addClass("StoryGalleryFilmstrip"),this._initFilmstripMode()):(this.$element.addClass("StoryGalleryFullscreen"),this._initFullscreenMode())},_initFilmstripMode:function(){this._filmstripSetOrientation(),this.ui("frames").each(function(){e(this).after('<div class="storyGalleryFrame storyGalleryFrameSpacer"></div>')}),this.uiElements.frames=e(this.uiSelectors.frames,this.$element),this._$window.on("orientationchange",this._filmstripOnOrientationChange.bind(this)),this._filmstripCarousel(this._initialSlide)},_filmstripGetNumSlidesInView:function(){var e=1;return this._filmStripMode&&"portrait"===this._orientation?e=2:this._filmStripMode&&"landscape"===this._orientation&&(e=4),e},_filmstripCarousel:function(e){var t=(this._filmStripMode,0);this.ui("storyGalleryCarousel").addClass("swiper-container"),this.ui("storyGallerySlides").addClass("swiper-wrapper"),this.ui("frames").addClass("swiper-slide"),this._carousel=new Swiper(this.ui("storyGalleryCarousel"),{initialSlide:e,slidesPerView:this._filmstripGetNumSlidesInView(),loop:!0,freeMode:this._filmStripMode,loopAdditionalSlides:10,freeModeSticky:!site.rtl,pagination:this.$element.find(".carouselPagination"),paginationHide:!1,paginationClickable:!0,slideToClickedSlide:!0,paginationBulletRender:function(e,i){return 0===e&&(t=0),e%2!==0?'<span class="'+i+' paginationHidden"></span>':(t++,e=t,'<span class="'+i+'">'+e+"</span>")}}),this._carousel.on("onSlideChangeStart",this._filmstripUpdateActiveIndex.bind(this)),this._carousel.on("onSlideChangeEnd",this._filmstripUpdateActiveIndex.bind(this)),this._filmstripUpdateActiveIndex()},_filmstripUpdateActiveIndex:function(){this._filmstripActiveIndex=this._carousel.activeIndex},_filmstripOnOrientationChange:function(){if(this._carousel){var e=this.inViewport,i=this._carousel,n={loopedSlides:i.loopedSlides,slidesPerGroup:i.params.slidesPerGroup,slidesLength:i.slides.length,bulletsLength:i.bullets.length};this._carousel.destroy(),this._carousel=null,t.setTimeout(this._filmstripSetOrientationAndReset.bind(this,e,this._filmstripActiveIndex,n),1e3)}},_filmstripSetOrientationAndReset:function(t,i,n){var o,s=this._filmstripConvertActiveIndexToSlideNumber(i,n);if(this._filmstripSetOrientation(),this._filmstripCarousel(s),t){if("landscape"===this._orientation)o=this.$element;else{var r=this.$element.height(),a=this._$window.height();o=r>=a?this.$element:this.$element.offset().top-(a-r)/2}site.utils.scrollTo(o,800,e.noop,"easeOutSine",!0)}},_filmstripConvertActiveIndexToSlideNumber:function(e,t){var i;return this._carousel,i=Math.ceil(e-t.loopedSlides)/t.slidesPerGroup,i>t.slidesLength-1-2*t.loopedSlides&&(i-=t.slidesLength-2*t.loopedSlides),i>t.bulletsLength-1&&(i-=t.bulletsLength),i},_filmstripSetOrientation:function(){this._orientation=site.utils.getDeviceOrientation(),this.$element.addClass(this._orientation)},_initFullscreenMode:function(){this.ui("frames").StoryGalleryTransitions(),this.ui("frames").length>1&&this._fullscreenCarousel()},_fullscreenCarousel:function(){var t=0;site.rtl&&(this.ui("storyGallerySlides").append(this.ui("frames").get().reverse()),t=this.ui("frames").length-1);var i={arrowsNav:!1,loop:!0,autoHeight:!0,keyboardNavEnabled:!1,navigateByClick:!1,controlsInside:!1,imageScaleMode:"none",controlNavigation:"tabs",arrowsNavAutoHide:!1,thumbsFitInViewport:!1,numImagesToPreload:100,startSlideId:t,slidesSpacing:0};this.ui("storyGallerySlides").royalSlider(i),this._carousel=this.ui("storyGallerySlides").data("royalSlider"),this._fullscreenPagination(),this.$element.CursorAnimateRotate(),this._carousel.ev.on("rsSlideClick",e.proxy(this._fullscreenCursorClick,this)),this._carousel.ev.on("rsAfterSlideChange",e.proxy(this._fullscreenSlideChange,this)),this._resize()},_fullscreenSlideChange:function(){this._resize(),t.richsponsiveImage()},_fullscreenPagination:function(){var t,i=e(".rsNavItem",this.$element),n=i.length;i.each(function(i){var o=e(this);t=site.rtl?n-i:i+1,o.html(t)}),this.$element.CursorAnimateRotate("refreshSelectors")},_fullscreenCursorClick:function(){var e=this;e.$element.hasClass("left")&&e._carousel.prev(),e.$element.hasClass("right")&&e._carousel.next()},_initSizeCalculations:function(){var i=this;(e("html").hasClass("no-cssvhunit")||null!==navigator.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i))&&(this.$element.removeClass("viewportheight"),this._allowResize=!0,this._setHeightAdjustment(),this._resize(),e(t).smartresize(function(){i._resize()}))},_resize:function(){if(this._allowResize){var t=this._heightAdjustmnet(this._$window.height());this.ui("storyGalleryCarousel").height(t),e(".storyGalleryFrame",this.$element).height(t),e(".rsContainer, .rsOverflow",this.$element).height(t),this._filmStripMode&&this._carousel&&this._carousel.update()}},_setHeightAdjustment:function(){var e=this;e._heightAdjustmnet=function(e){return e},enquire.register("screen and (min-width: "+t.site.breakpoints.medium+"px)",{match:function(){e._heightAdjustmnet=function(e){return e}}}),enquire.register("screen and (max-width: "+(t.site.breakpoints.medium-1)+"px)",{match:function(){e._heightAdjustmnet=function(e){return e-=site.utils.getHeaderHeight()}}}),enquire.register("screen and (orientation: portrait)",{match:function(){e._heightAdjustmnet=function(e){return e=.6*e}}})},_destroy:function(){}};jQuery.createComponent("StoryGallery",i)}(jQuery,window,document),function(e,t){var i={uiSelectors:{galleryLayout:".galleryLayout",galleryLayoutImage:".galleryItem .backgroundImage"},_$window:e(t),_uniqueID:null,_layoutType:null,_layoutProperties:{index:0,widthPercent:100,widthOverlayPercent:0,heightPercent:100,heightOverlayPercent:0,widthPixels:0,heightPixels:0,clipPathCurrent:{},clipPathStart:{},clippedSides:{},hoveredClipPathPositions:[],$galleryLayout:null,$svgWrapper:null,$svg:null,svgPolygon:null,tweenClipPath:null,tweenScale:null,nestedLayout:!1,nestedLayoutIndex:null,parentLayout:null},_layoutTemplates:{DualPortrait:{frames:2,frameDimensions:{widthPercent:50,widthOverlayPercent:6},clippedSides:[{start:[!1,"halfClipped",!1,!1],hover:[[!1,!1,!1,!1],[!1,!1,!1,"clipped"]]},{start:[!1,!1,!1,"halfClipped"],hover:[[!1,"clipped",!1,!1],[!1,!1,!1,!1]]}]},DualPanorama:{frames:2,frameDimensions:{heightPercent:50,heightOverlayPercent:10},clippedSides:[{start:[!1,!1,"halfClipped",!1],hover:[[!1,!1,!1,!1],["clipped",!1,!1,!1]]},{start:["halfClipped",!1,!1,!1],hover:[[!1,!1,"clipped",!1],[!1,!1,!1,!1]]}]},TripletLeft:{frames:4,frameDimensions:[{widthPercent:50,widthOverlayPercent:6},{widthPercent:50,widthOverlayPercent:6},{heightPercent:50,heightOverlayPercent:10},{heightPercent:50,heightOverlayPercent:10}],clippedSides:[{start:[!1,"halfClipped",!1,!1],hover:[[!1,!1,!1,!1],[!1,!1,!1,"clipped"],[!1,!1,"halfClipped",!1],["halfClipped",!1,!1,!1]]},{start:[!1,!1,!1,"halfClipped"],hover:[[!1,"halfClipped",!1,!1],[!1,!1,!1,"halfClipped"]]},{start:[!1,!1,"halfClipped",!1],hover:[[!1,"halfClipped",!1,!1],[!1,!1,!1,"halfClipped"],[!1,!1,!1,!1],["clipped",!1,!1,!1]]},{start:["halfClipped",!1,!1,!1],hover:[[!1,"halfClipped",!1,!1],[!1,!1,!1,"halfClipped"],[!1,!1,"clipped",!1],[!1,!1,!1,!1]]}]},TripletRight:{frames:4,frameDimensions:[{widthPercent:50,widthOverlayPercent:6},{heightPercent:50,heightOverlayPercent:10},{heightPercent:50,heightOverlayPercent:10},{widthPercent:50,widthOverlayPercent:6}],clippedSides:[{start:[!1,"halfClipped",!1,!1],hover:[[!1,!1,!1,!1],[!1,!1,"halfClipped",!1],["halfClipped",!1,!1,!1],[!1,!1,!1,"halfClipped"]]},{start:[!1,!1,"halfClipped",!1],hover:[[!1,"halfClipped",!1,!1],[!1,!1,!1,!1],["clipped",!1,!1,!1],[!1,!1,!1,"halfClipped"]]},{start:["halfClipped",!1,!1,!1],hover:[[!1,"halfClipped",!1,!1],[!1,!1,"clipped",!1],[!1,!1,!1,!1],[!1,!1,!1,"halfClipped"]]},{start:[!1,!1,!1,"halfClipped"],hover:[[!1,"clipped",!1,!1],[!1,!1,"halfClipped",!1],["halfClipped",!1,!1,!1],[!1,!1,!1,!1]]}]}},_easing:Power2.easeOut,_durationClipPath:40,_durationScale:40,_supportsClipPath:!0,init:function(){return this._setLayoutType(),this._featureDetect(),this._supportsClipPath?this._layoutType?(this._generateID(),this._createLayoutObjects(),this._calculateClipPathLayouts(),this._processGalleryLayouts(),void this._attachEvents()):void this._initImageHoverScaleOnly({}):void this.$element.addClass("StoryGalleryTransitionsOff")},_createLayoutObjects:function(){for(var t=this._layoutTemplates[this._layoutType],i=function(e,t,i){e[t]=i},n=0;n<t.frames;n++){var o=t.frameDimensions[n]?t.frameDimensions[n]:t.frameDimensions,s=t.clippedSides[n],r={};r=e.extend({},this._layoutProperties),r.index=n,r.$galleryLayout=this.ui("galleryLayout").eq(n),e.each(o,i.bind(null,r)),r.clippedSides=e.extend({},s),this._setLayout(n,r)}},_featureDetect:function(){site.utils.detectBrowsers().isExplorer&&(this._supportsClipPath=!1)},_generateID:function(){this._uniqueID="StoryGalleryFrame"+this._layoutType+Math.random().toString(36).substring(7)},_setLayoutType:function(){var e=this.$element.data("layout");this._layoutType=e?e:!1},_attachEvents:function(){this._$window.smartresize(this._onResize.bind(this))},_updateDimensions:function(e,t){var i,n,o,s=t.$svg.get(0);t.nestedLayout?(n=t.parentLayout.widthPixels,i=t.parentLayout.heightPixels*((t.heightPercent+t.heightOverlayPercent)/100),o=t.parentLayout.heightPixels*((t.heightPercent-t.heightOverlayPercent)/100)*t.nestedLayoutIndex):(n=t.$galleryLayout.width(),i=t.$galleryLayout.height()),t.widthPixels=n,t.heightPixels=i,s.setAttribute("viewBox","0 0 "+n+" "+i),s.setAttribute("width",n),s.setAttribute("height",i),o&&s.setAttribute("y",o),this._updateClipPath(t)},_onResize:function(){var t=this._getLayout("all");e.each(t,this._updateDimensions.bind(this))},_setLayout:function(e,t){"undefined"==typeof site[this._uniqueID]&&(site[this._uniqueID]={_layouts:[]}),site[this._uniqueID]._layouts[e]=t},_getLayout:function(e){return"all"===e?site[this._uniqueID]._layouts:site[this._uniqueID]._layouts[e]},_calculateClipPathLayouts:function(){var t=this._getLayout("all"),i=["top","right","bottom","left"];e.each(t,this._setStartAndHoverPositions.bind(this,i))},_setStartAndHoverPositions:function(t,i,n){var o=this._calculateOverlay(n.widthOverlayPercent,n.widthPercent),s=this._calculateOverlay(n.heightOverlayPercent,n.heightPercent),r=[],a={},l=function(){e.each(n.clippedSides.start,u.bind(null,a)),n.clipPathStart=jQuery.extend({},a),n.clipPathCurrent=jQuery.extend({},a),e.each(n.clippedSides.hover,c.bind(this,r)),n.hoveredClipPathPositions=r},c=function(t,i,n){var r=this._getLayout(i),a={};o=this._calculateOverlay(r.widthOverlayPercent,r.widthPercent),s=this._calculateOverlay(r.heightOverlayPercent,r.heightPercent),e.each(n,u.bind(null,a)),t.push(a)},u=function(e,i,n){var r=i%2===0?s:o,a=0;"halfClipped"===n?a=r:"clipped"===n&&(a=2*r),e[t[i]]=a};l.call(this)},_calculateOverlay:function(e,t){return e/(t+e)*100},_processGalleryLayouts:function(){this.ui("galleryLayout").each(this._processGalleryLayout.bind(this))},_processGalleryLayout:function(t,i){var n=this._getLayout(t),o=n.widthPercent+n.widthOverlayPercent,s=n.heightPercent+n.heightOverlayPercent,r=e(i),a=r.find(this.uiSelectors.galleryLayout).length,l=n.nestedLayout;if(r.width(o+"%").height(s+"%"),a)this._processNestedLayouts(n,r);else if(!l){var c=r.find(this.uiSelectors.galleryLayoutImage);this._processLayoutImages(n,c)}},_processLayoutImages:function(e,t){this._replaceImageWithSVG(e,t),this._initImageHovers(e),this._updateDimensions(e.index,e)},_replaceImageWithSVG:function(e,t){this._buildSVG(e,t),t.after(e.$svgWrapper).remove()},_processNestedLayouts:function(e,t){var i;this._buildSVG(e,!1),i=e.$svg.find(".contents"),t.append(e.$svgWrapper),this._updateDimensions(e.index,e),t.find(this.uiSelectors.galleryLayout).each(this._processNestedLayout.bind(this,e))},_processNestedLayout:function(t,i,n){var o=this._getLayout(t.index+i+1),s=e(n);o.nestedLayout=!0,o.parentLayout=t,o.nestedLayoutIndex=i;var r=s.find(this.uiSelectors.galleryLayoutImage);this._processLayoutImages(o,r),o.$svg=s.find("svg"),t.$svg.find(" > .contents").append(o.$svg),s.remove(),this._updateDimensions(o.index,o)},_buildSVG:function(t,i){var n="",o="clip-path-"+this._uniqueID+t.index,s='<svg class="gallerySVG" style="overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">',r="</svg>",a='<g class="contents" clip-path="url(#'+o+')"><rect width="100%" height="100%" ></rect>',l="</g>",c='<defs><clipPath id="'+o+'" maskUnits="objectBoundingBox"><polygon></polygon></clipPath></defs>';if(i.length){var u=i.css("background-image").match(/\((.*?)\)/)[1].replace(/('|")/g,"");n='<image width="100%" height="100%" preserveAspectRatio="xMidYMid slice" xlink:href="'+u+'"></image>'}t.$svgWrapper=e('<div class="gallerySVGWrapper">'+s+c+a+n+l+r+"</div>"),t.$svg=t.$svgWrapper.find("svg"),t.svgPolygon=t.$svg.find("polygon").get(0)},_convertPercentagesToSVGPoints:function(e,t){var i={top:e.heightPixels/100*t.top,right:e.widthPixels-e.widthPixels/100*t.right,bottom:e.heightPixels-e.heightPixels/100*t.bottom,left:e.widthPixels/100*t.left},n={leftTop:i.left+","+i.top,rightTop:i.right+","+i.top,rightBottom:i.right+","+i.bottom,leftBottom:i.left+","+i.bottom};return n},_initTweenScale:function(e,t){e.tweenScale=TweenLite.to(t,this._durationScale,{scale:1.2,rotationZ:"0.01deg",transformOrigin:"50% 50%",paused:!0})},_initImageHoverScaleOnly:function(e){var t=this.$element.find(this.uiSelectors.galleryLayoutImage).get(0),i=this.$element;this._initTweenScale(e,t),i.on({mouseenter:function(){e.tweenScale.play()},mouseleave:function(){e.tweenScale.reverse()}})},_initImageHovers:function(e){var t=e.$svg.find("image").get(0),i=e.$svg;t&&this._initTweenScale(e,t),i.on({mouseenter:this._onImageMouseEnterLeave.bind(this,!0,e.index),mouseleave:this._onImageMouseEnterLeave.bind(this,!1,e.index)})},_updateClipPath:function(e){var t=this._convertPercentagesToSVGPoints(e,e.clipPathCurrent);e.svgPolygon.setAttribute("points",t.leftTop+" "+t.rightTop+" "+t.rightBottom+" "+t.leftBottom)},_getClipPathProgress:function(e){var t,i=function(i){t=1-e.clipPathCurrent[i]/(2*e.clipPathStart[i])};return 0!==e.clipPathStart.left?i("left"):0!==e.clipPathStart.right?i("right"):0!==e.clipPathStart.top?i("top"):0!==e.clipPathStart.bottom&&i("bottom"),t},_initTweenClipPath:function(e,t,i){e.tweenClipPath=TweenLite.to(e.clipPathCurrent,t,{top:i.top,right:i.right,bottom:i.bottom,left:i.left,ease:this._easing,onUpdate:this._updateClipPath.bind(this,e),paused:!1})},_onImageMouseEnterLeave:function(t,i){var n=this._getLayout(i),o=this._getLayout("all"),s=this._getClipPathProgress(n),r=s*this._durationClipPath,a=this._durationClipPath-r,l=Math.abs(2*(s-.5))*(this._durationClipPath/2);t?(this._supportsClipPath&&e.each(o,function(e,t){var i=n.hoveredClipPathPositions[e];this._initTweenClipPath(t,a,i)}.bind(this)),n.tweenScale.play()):(this._supportsClipPath&&e.each(o,function(e,t){this._initTweenClipPath(t,l,t.clipPathStart)}.bind(this)),n.tweenScale.reverse())}};jQuery.createComponent("StoryGalleryTransitions",i)}(jQuery,window,document),function(e,t){var i={uiSelectors:{screens:".screen",headingScreen:".screenHeading",headingLayer:".headingLayer",copyScreen:".screenCopy",copy:".copy",overlay:".overlay",audio:".audio",scrollButtonContainers:".scrollButtonContainer",scrollButtons:".scrollButton",flatImage:".flatImage",layeredImageLayers:".layeredImage .layer",layeredImages:".layeredImage .layer .image",headerBox:".headerBox"},_$window:e(t),_$header:e("#header"),_$hubNavigation:e(".HubNavigation"),_oldWindowHeight:null,_isTouchDevice:!1,_isStickyHeader:null,_scrollPosition:null,_useParallax:null,_waypoints:{headingTrigger:null,copyFadeTop:null,copyFadeBottom:null,copyHijackTrigger:null,audioFadeTop:null,audioFadeBottom:null,parallaxTop:null,parallaxEnd:null},init:function(){this._headerBox(),this._detectDeviceType(),this._detectStickyHeader(),this._detectParallax(),this._resizeScreens(),this._calculateWaypoints(),this._bindEvents(),this._isTouchDevice||(this._setScrollHijack(),this._updateHeading(),this._initAudio()),this._updateCopy(),this._useParallax&&(this._isTouchDevice?this._initTiltParallax():this._initScrollParallax())},_headerBox:function(){this.ui("headerBox").HeaderBox({onAtSmallBreakpoint:!0})},_detectDeviceType:function(){site.utils.isMobileDevice()?(this._isTouchDevice=!0,this.$element.addClass("touch")):this.$element.addClass("desktop")},_detectStickyHeader:function(){this._isStickyHeader="fixed"===this._$header.css("position")},_detectParallax:function(){this.ui("layeredImageLayers").length>2?(this._useParallax=!0,this.$element.addClass("parallax")):this._useParallax=!1},_getScrollPosition:function(){return null===this._scrollPosition&&(this._scrollPosition=this._$window.scrollTop()),this._scrollPosition},_resetScrollPosition:function(){this._scrollPosition=null},_bindEvents:function(){this._$window.smartresize(function(){this._detectStickyHeader(),this._resizeScreens()}.bind(this)),this._$window.on("closeNotificationBar",function(){this._resizeScreens(!0)}.bind(this));var e;this._isTouchDevice?(this._$window.smartresize(function(){this._resetScrollPosition(),this._updateCopy()}.bind(this)),e=function(){this._resetScrollPosition(),this._updateCopy()},this._$window.on("scroll",function(){t.requestAnimationFrame(e.bind(this))}.bind(this))):(this._$window.smartresize(function(){this._resetScrollPosition(),this._calculateWaypoints(),this._updateHeading(),this._updateCopy(),this._updateAudioVolume()}.bind(this)),e=function(){this._resetScrollPosition(),this._checkScrollHijack(),this._updateHeading(),this._updateCopy(),this._updateButtons(),this._updateAudioVolume(),this._stopAutoscroll()},this._$window.on("scroll",function(){t.requestAnimationFrame(e.bind(this))}.bind(this)),this.ui("scrollButtons").on("click",this._buttonClick.bind(this)))},_detectHeightChange:function(){var e,t=this._$window.height();if(this._isTouchDevice){var i=Math.abs(t-this._oldWindowHeight);e=i>100}else e=t!==this._oldWindowHeight;return e},_resizeScreens:function(t){var i=this._$window.height(),n=t===!0?!0:this._detectHeightChange();if(n){var o=this._$header.height(),s=this._isStickyHeader?site.utils.getHeaderHeight(site.stickyNavigationTransitionPoint+1):0,r=i-o,a=i-s;this.ui("screens").each(function(t,i){var n,o=e(i);o.hasClass("screenHeading")?(n=r,this._$hubNavigation.data("sticky")===!0&&(n-=this._$hubNavigation.outerHeight())):n=a,o.css("height",n+"px")}.bind(this)),this._oldWindowHeight=i}},_calculateWaypoints:function(){var e=this._$window.height(),t=this.$element.offset().top,i=t+this.$element.height();this._waypoints.headingTrigger=this.ui("headingScreen").offset().top+this.ui("headingScreen").height()-e,this._waypoints.headingTrigger=this._waypoints.headingTrigger<t&&!this._isStickyHeader?t:this._waypoints.headingTrigger,this._waypoints.copyFadeTop=this.ui("copyScreen").offset().top-.5*e,this._waypoints.copyFadeBottom=this._waypoints.copyFadeTop+.25*e,this._waypoints.copyHijackTrigger=this.ui("copyScreen").offset().top,this._waypoints.copyHijackTrigger-=this._isStickyHeader?site.utils.getHeaderHeight(site.stickyNavigationTransitionPoint+1):0,this._waypoints.audioFadeTop=i-e,this._waypoints.audioFadeBottom=i,this._waypoints.parallaxTop=this._waypoints.headingTrigger,this._waypoints.parallaxBottom=i-e},_updateHeading:function(){var e=this._getScrollPosition(),t=e>this._waypoints.headingTrigger,i="";t&&(i=this._waypoints.headingTrigger-e,i+="px"),this.ui("headingLayer").css("top",i)},_updateCopy:function(){var e=this._getScrollPosition(),t="";this._hijackThisScroll?e>=this._waypoints.copyHijackTrigger?(this.ui("copy").addClass("visible"),this.ui("overlay").addClass("visible")):(this.ui("copy").removeClass("visible"),this.ui("overlay").removeClass("visible")):(t=(e-this._waypoints.copyFadeTop)/(this._waypoints.copyFadeBottom-this._waypoints.copyFadeTop),t=0>t?0:t,t=t>1?1:t),this.ui("copy").css("opacity",t),this.ui("overlay").css("opacity",t)},_hijackThisScroll:null,_hijackDuration:800,_setScrollHijack:function(){var e=this._getScrollPosition();e<this._waypoints.copyHijackTrigger?this._hijackThisScroll=!0:this._hijackThisScroll=!1},_checkScrollHijack:function(){if(this._hijackThisScroll){var e=this._getScrollPosition();e>=this._waypoints.copyHijackTrigger&&(this._componentIndicatorIsScrolling()?this._unhijackScroll():this._hijackScroll())}},_componentIndicatorIsScrolling:function(){var e=this.$element.parents(".InteractiveStory");return e.InteractiveStory("componentIndicatorIsScrolling")},_hijackScroll:function(){this.$element.addClass("hijackScroll"),this._$window.scrollTop(this._waypoints.copyHijackTrigger);var t=e.Event("scrollHighjack");this._$window.trigger(t),site.utils.disableScroll(),setTimeout(function(){this._unhijackScroll()}.bind(this),this._hijackDuration)},_unhijackScroll:function(){this._hijackThisScroll=!1,this.$element.removeClass("hijackScroll"),this._updateCopy(),site.utils.enableScroll()},_audioPlayer:null,_audioMaxVolume:1,_audioFadeInDuration:3200,_initAudio:function(){this.ui("audio").length&&!this._audioPlayer&&(this._layersLoadedAll?(this.ui("audio").mediaelementplayer({loop:!0}),this._audioPlayer=this.ui("audio")[0].player,this._fadeAudioIn()):this.$element.on("StoryHero:layersLoaded",this._initAudio.bind(this)))},_playAudio:function(){this._audioPlayer&&this._audioPlayer.play()},_pauseAudio:function(){this._audioPlayer&&this._audioPlayer.pause()},_setAudioVolume:function(e){this._audioPlayer&&(e=0>e?0:e,e=e>1?1:e,this._audioPlayer.setVolume(e))},_updateAudioVolume:function(){if(this._audioPlayer){var e=this._getScrollPosition(),t=(e-this._waypoints.audioFadeTop)/(this._waypoints.audioFadeBottom-this._waypoints.audioFadeTop);t=0>t?0:t,t=t>1?1:t;var i=t/2+.5,n=this._audioMaxVolume*site.utils.getEasingValue(i);this._setAudioVolume(n),n>0?this._playAudio():this._pauseAudio()}},_fadeAudioIn:function(){if(this._audioPlayer){var t={volume:0},i={volume:this._audioMaxVolume};e(t).animate(i,{duration:this._audioFadeInDuration,easing:"swing",step:function(e){this._audioMaxVolume=e,this._updateAudioVolume()}.bind(this),complete:function(){this._audioMaxVolume=i.volume,this._updateAudioVolume()}.bind(this)})}},_buttonScrollDuration:800,_autoscrollTimeout:null,_autoscrollTimeoutDuration:7e3,_autoscrolling:!1,_buttonClick:function(t){t.preventDefault();var i=e(t.target),n=i.parents(".scrollButtonContainer"),o=n.parents(".screen"),s=i.offset().top+i.height();s+=site.utils.isIe()?1:0,this._stopAutoscroll(),this._autoscrolling=!0,n.addClass("hidden"),site.utils.scrollTo(s,this._buttonScrollDuration,function(){setTimeout(function(){this._autoscrolling=!1}.bind(this),800)}.bind(this)),o.hasClass("screenHeading")&&this._startAutoscroll(),o.hasClass("screenCopy")&&this._unhijackScroll()},_updateButtons:function(){var e=this._getScrollPosition();0===e?this.ui("scrollButtonContainers").removeClass("hidden"):this._autoscrolling||this.ui("scrollButtonContainers").addClass("hidden")},_startAutoscroll:function(){var t=e(".screenSpacer");if(t.is(":visible")){var i=t.find(".scrollButton");this._autoscrollTimeout=setTimeout(function(){i.trigger("click")},this._autoscrollTimeoutDuration+this._buttonScrollDuration)}},_stopAutoscroll:function(){this._autoscrolling||clearTimeout(this._autoscrollTimeout)},_accelerationData:{oldTime:Date.now(),smoothedX:0,smoothedY:0},_smoothingFactor:100,_touchDeviceOrientation:null,_initTiltParallax:function(){this._detectTouchDeviceOrientation(),this._updateTiltParallax(0,0),this._bindTiltParallaxEvents()},_detectTouchDeviceOrientation:function(){this._touchDeviceOrientation=t.orientation},_updateTiltParallax:function(e,t){var i=Date.now(),n=i-this._accelerationData.oldTime,o=this._normaliseAcceleration(e,t);o.x=-o.x,this._accelerationData.smoothedX+=n*(o.x-this._accelerationData.smoothedX)/this._smoothingFactor,this._accelerationData.smoothedY+=n*(o.y-this._accelerationData.smoothedY)/this._smoothingFactor,this._accelerationData.oldTime=i;var s=this._accelerationData.smoothedX/10;s=site.utils.limitNumber(s,-1,1);var r=50+50*s,a=this._accelerationData.smoothedY/10;a=site.utils.limitNumber(a,-1,1);var l=50+50*a;this.ui("flatImage").css({"perspective-origin":r+"% "+l+"%"})},_normaliseAcceleration:function(e,t){var i={x:null,y:null};switch(this._touchDeviceOrientation){case-90:i.x=t,i.y=-e;break;case 90:i.x=-t,i.y=e;break;case 180:i.x=-e,i.y=-t;break;default:i.x=e,i.y=t}return i},_bindTiltParallaxEvents:function(){this._$window.on("devicemotion",function(e){var i=e.originalEvent.accelerationIncludingGravity.x,n=e.originalEvent.accelerationIncludingGravity.y;t.requestAnimationFrame(this._updateTiltParallax.bind(this,i,n))}.bind(this)),this._$window.on("orientationchange",function(){t.requestAnimationFrame(this._detectTouchDeviceOrientation)}.bind(this))},_scrollParallaxStrength:null,_scrollParallaxLayerOffset:null,_initScrollParallax:function(){this._loadParallaxImages(),this._initCanvasImages(),this._calculateParallaxStrength(),this._calculateLayerOffset(),this._setFlatLayerOffset(),this._calculateLayerValues(),this._updateScrollParallax(),this._bindScrollParallaxEvents()},_setFlatLayerOffset:function(){this.ui("flatImage").find(".layer").css({transform:"translateZ("+this._scrollParallaxLayerOffset+"px)"}),this.$element.addClass("flatImageReady")},_loadParallaxImages:function(){site.utils.loadIgnoredResponsiveImages(this.ui("layeredImages"))},_calculateParallaxStrength:function(){var e=30;this.$element.hasClass("imageLeft")||this.$element.hasClass("imageRight")||(e=1.5*e),this._scrollParallaxStrength=e},_calculateLayerOffset:function(){var e=this.ui("layeredImageLayers").length;this._scrollParallaxLayerOffset=this._scrollParallaxStrength*(e-1)/2},_calculateLayerValues:function(){var t=this.ui("layeredImageLayers").length-1;this.ui("layeredImageLayers").each(function(i,n){var o=e(n),s=Power1.easeOut.getRatio(i/t),r=s*t*this._scrollParallaxStrength-this._scrollParallaxLayerOffset;o.data("max-parallax",r)}.bind(this))},_updateScrollParallax:function(){var t=this._getScrollPosition(),i=(t-this._waypoints.parallaxTop)/(this._waypoints.parallaxBottom-this._waypoints.parallaxTop);i=site.utils.limitNumber(i,0,1),this.ui("layeredImageLayers").each(function(t,n){var o=e(n),s=Math.round(100*(this._scrollParallaxLayerOffset+i*o.data("max-parallax")))/100;o.css({transform:"translateZ("+s+"px)"})}.bind(this))},_bindScrollParallaxEvents:function(){this._$window.on("scroll",function(){t.requestAnimationFrame(this._updateScrollParallax.bind(this))}.bind(this))},_layersTotal:null,_layersLoadedCount:0,_layersLoadedAll:!1,_loadedImage:null,_initCanvasImages:function(){this._layersTotal=this.ui("layeredImageLayers").length,this._addCanvases(),this._drawCanvases(),this._bindCanvasEvents()},_addCanvases:function(){this.ui("layeredImageLayers").each(function(t,i){var n=e(i);n.append("<canvas class='canvas'></canvas>")})},_drawCanvases:function(){this._layersLoadedCount=0,this._layersLoadedAll=!1,this.ui("layeredImageLayers").each(function(t,i){var n=e(i),o=e(".image",n),s=e(".canvas",n),r=new Image;r.onload=this._drawCanvasImage.bind(this,s,r),r.src=o.css("background-image").replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")}.bind(this))},_drawCanvasImage:function(e,t){var i=e.get(0),n=i.getContext("2d");e.attr({width:t.width,height:t.height}),n.drawImage(t,0,0),this._layersLoadedCount++,this._layersLoadedCount===this._layersTotal?(this._layersLoadedAll=!0,this.$element.trigger("StoryHero:layersLoaded"),this._scaleAndPositionCanvases(),this.$element.addClass("layersLoaded")):this.$element.removeClass("layersLoaded")},_scaleAndPositionCanvases:function(){var t,i,n,o,s=e(".canvas",this.ui("layeredImageLayers")),r=this.$element.width(),a=this.$element.height(),l=s.first().attr("width"),c=s.first().attr("height"),u=r/a,d=l/c;u>d?(t=r,i=r/d,o=0,n=this.$element.hasClass("imageTop")?0:this.$element.hasClass("imageBottom")?a-i:(a-i)/2):(i=a,t=a*d,n=0,o=this.$element.hasClass("imageLeft")?0:this.$element.hasClass("imageRight")?r-t:(r-t)/2),s.css({width:Math.round(t),height:Math.round(i),top:Math.round(n),left:Math.round(o)})},_bindCanvasEvents:function(){this._$window.smartresize(this._scaleAndPositionCanvases.bind(this))}};jQuery.createComponent("StoryHero",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{contentBlock:".contentBlock",contentBlockNew:".contentBlockNew",wrapperContentBlocks:".wrapperContentBlocks",moreResultsButton:".moreResults",storyCount:".storyCount",storyCountTop:".storyCountTop",storyCountBottom:".storyCountBottom",storyCountNumber:".storyCountNumber"},_$window:e(t),_currentBreakpoint:null,_cachedContent:[],_contentBlockLimit:6,_contentBlockLimits:{pageLoad:{small:1,medium:2,large:3},ajaxLoad:{small:6,medium:4,large:6}},_noAdditionalContentLoaded:!0,_viewportResized:!1,init:function(){this._loadImages(),this._attachEvents(),this._checkCachedContent(),this._initButtonState()},_loadImages:function(){var t=e("[data-picture-ignore]",this.$element);site.utils.loadIgnoredResponsiveImages(t)},_checkCachedContent:function(){this._currentBreakpoint=site.utils.getBreakpointSize(),this._updateContentBlockLimit(),this._moveCachedContent(!1);
},_initButtonState:function(){this._updateButton(this.ui("wrapperContentBlocks").attr("data-next-url"))},_moveCachedContent:function(e){this._moveContentCacheToDom(e),this._moveContentDomToCache(e),this._updateStoryCount()},_moveContentCacheToDom:function(t){this._cachedContent.length&&(e.each(this._cachedContent,function(i,n){t&&e(n).addClass(this.uiSelectors.contentBlockNew.replace(".","")),this.ui("wrapperContentBlocks").append(e(n))}.bind(this)),this._refreshContentBlockSelectors(),this._cachedContent=[])},_moveContentDomToCache:function(t){if(!this._viewportResized||this._noAdditionalContentLoaded){var i,n,o=this._contentBlockLimit;if(i=t?this.ui("contentBlockNew"):this.ui("contentBlock"),n=o-i.length,0>n){var s=i.filter(function(e){return e>=o});s.each(function(t,i){var n=e(i);n.removeClass(this.uiSelectors.contentBlockNew.replace(".","")),this._cachedContent.push(n),n.remove()}.bind(this)),this._refreshContentBlockSelectors()}}},_updateContentBlockLimit:function(){var e=this._currentBreakpoint;this._noAdditionalContentLoaded?this._contentBlockLimit=this._contentBlockLimits.pageLoad[e]:this._contentBlockLimit=this._contentBlockLimits.ajaxLoad[e]},_attachEvents:function(){this.ui("moreResultsButton").on("click",this._loadContent.bind(this)),this._$window.smartresize(function(){site.utils.getBreakpointSize()!==this._currentBreakpoint&&(this._viewportResized=!0,this._checkCachedContent(),this._viewportResized=!1)}.bind(this))},_loadContent:function(t){t.preventDefault();var i=this.ui("moreResultsButton").attr("data-next-url");this._noAdditionalContentLoaded=!1,this._updateContentBlockLimit(),"cache"===i||""===i||"undefined"==typeof i?this._loadContentFromCache():e.ajax(i).done(this._addContentFromAjax.bind(this))},_loadContentFromCache:function(){this._moveCachedContent(!0),this._processNewContent(null)},_addContentFromAjax:function(t){var i=e(t).find(".StoryLinks .items"),n=i.find(this.uiSelectors.contentBlock),o=i.attr("data-next-url");this._moveContentCacheToDom(!0),this.ui("wrapperContentBlocks").append(n),n.addClass(this.uiSelectors.contentBlockNew.replace(".","")),this._refreshContentBlockSelectors(),this._moveCachedContent(!0),this._processNewContent(o)},_processNewContent:function(e){var t,i=this._animateLoadedContent.bind(this);this._loadImages(),t=this.ui("contentBlockNew").find("img"),t.length?t.waitForImages(!0).done(i):i(),this._updateButton(e)},_animateLoadedContent:function(){this.ui("contentBlockNew").removeClass(this.uiSelectors.contentBlockNew.replace(".","")),site.utils.scrollTo(this.ui("contentBlockNew")),this.ui("contentBlockNew").each(function(t,i){e(i).css({opacity:0,y:80}).transition({opacity:1,y:0,delay:200*t})}),this._refreshContentBlockSelectors()},_updateButton:function(e){e&&""!==e?this.ui("moreResultsButton").attr("data-next-url",e):this._cachedContent.length?this.ui("moreResultsButton").attr("data-next-url","cache"):this.ui("moreResultsButton").fadeOut()},_refreshContentBlockSelectors:function(){this.uiElements.contentBlock=e(this.uiSelectors.contentBlock,this.$element),this.uiElements.contentBlockNew=e(this.uiSelectors.contentBlockNew,this.$element)},_updateStoryCount:function(){var e=this.$element.data("total"),t=this.ui("contentBlock").length,i=e-t;this.ui("storyCountNumber").text(i),0>=i?this.ui("storyCount").addClass("hidden"):t<=this._contentBlockLimits.pageLoad[this._currentBreakpoint]?(this.ui("storyCountTop").removeClass("hidden"),this.ui("storyCountBottom").addClass("hidden")):this.ui("storyCount").removeClass("hidden")}};jQuery.createComponent("StoryLinks",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{imageContainer:".imageContainer",section:".section",quoteWrapper:".quote",intro:".intro",sectionOne:".storySectionOne",sectionTwo:".storySectionTwo",sectionThree:".storySectionThree",fallBackImage:".fallBackImage",storySection:".storySection",scrollWrapper:".scrollWrapper",scrollPrompt:".ScrollDown"},_defaultStoryObject:{$element:!1,zoomInit:!1,scene:!1,tween:!1},imageSize:{width:4250,height:2823},_imageRatio:1.51,_imageWindowScale:2.28,_vHeight:e(t).height(),_$window:e(t),_$body:e("body"),_$html:e("html"),_$header:e("#header"),_touchSwipeHandersActive:!1,player:[],_playerType:"youtube",youtube:"YouTubePlayer",mediamanager:"VideoPlayer",audio:null,audioMuted:!1,fadeVideoAudio:!1,scrollController:!1,scrollScene:!1,scrollSceneModifier:30,closeTextInsertionPoint:"partTwo+=10",_touchScrollSections:[],_stories:[],activeSection:!1,enabled:!1,sectionOneSceneTween:!1,sectionTwoSceneTween:!1,sectionThreeSceneTween:!1,_sectionDurationPosition:{sceneOne:10,sceneTwo:19,sceneThree:30},touchState:"notouch",currentState:"desktop",stateContainers:{desktop:".desktopImageContainer",mobile:".mobileImageContainer"},noVhSupport:!1,init:function(){var e=this;if(this._setCurrentState(),this.$element.find(this.stateContainers[this.currentState]).addClass("stateEnabled"),this.noVhSupport=this._checkVhSupport(),this._setTouchState(),site.inXPM)return this.$element.addClass("degraded"),void this.ui("fallBackImage").removeClass("disabled");"touch"===this.touchState?(this.ui("fallBackImage").removeClass("disabled"),this._initTouchVersion()):(this._resizeZoomImages(!1),this.scrollController=new ScrollMagic.Controller,CSSPlugin.defaultForce3D=!0,this._sectionOneTween(),this._sectionTwoTween(),this._sectionThreeTween(),this._initScene()),this._initEvents(),this._initResize();var t=e.$element.data("player-type");e._playerType=e[t],e.$element.addClass(t),e._initVideo(),this._populateText()},_initTouchVersion:function(){this.scrollController=new ScrollMagic.Controller({globalSceneOptions:{container:this.ui("scrollWrapper").get(0),triggerHook:.3,reverse:!0}}),this._touchCreateSectionsZero(),this._touchCreateSections(),this._touchOnEnterSection(this._touchGetPosition()),jQuery.event.special.swipe.settings.threshold=0,this._touchAddSwipeHandlers(),this.ui("storySection").on("movestart",e.proxy(this._touchMoveStart,this))},_touchAddSwipeHandlers:function(){this._touchSwipeHandersActive===!1&&(this.ui("storySection").on("swipedown",e.proxy(this._touchSwipeDown,this)),this.ui("storySection").on("swipeup",e.proxy(this._touchSwipeUp,this)),this._touchSwipeHandersActive=!0)},_touchRemoveSwipeHandlers:function(){this.ui("storySection").off("swipedown"),this.ui("storySection").off("swipeup"),this._touchSwipeHandersActive=!1},_touchCreateSectionsZero:function(){var e=this.ui("sectionOne").clone();e.find(".imageContainer").remove(),e.find(".storyContent").remove(),e.find(".storyVideo").remove(),e.find("audio").remove(),e.removeClass("storySectionOne").addClass("storySectionZero"),this.ui("sectionOne").find(".intro").remove(),this.ui("scrollWrapper").prepend(e),this._sectionSizeCalc()},_touchCreateSections:function(){var t=this;t.ui("storySection").each(function(i){var n=e(this);t._touchOnLeaveSection(i),t._touchScrollSections.push(n),new ScrollMagic.Scene({triggerElement:n[0]}).addTo(t.scrollController).setClassToggle(e(this)[0],"touchActive").on("enter",function(){var e=t.ui("storySection").index(n);t._touchOnEnterSection(e),t._touchOnLeaveSection(e-1),t._sectionSizeCalc()}).on("leave",function(){var e=t.ui("storySection").index(n);t._touchOnEnterSection(e-1),t._touchOnLeaveSection(e)})}),t.ui("intro").addClass("loaded")},_touchSwipeDown:function(){var e=this._touchGetPosition(!0);this._touchScrollToPosition(e,e-1)},_touchSwipeUp:function(){var e=this._touchGetPosition(!1);this._touchScrollToPosition(e,e+1)},_touchMoveStart:function(e){var t=this._touchGetPosition(!1);3===t&&e.distX>e.distY&&e.distX<-e.distY&&e.preventDefault()},_touchGetPosition:function(e){var t=this._$window.scrollTop(),i=this.$element.offset().top,n=t-i,o=n/this._$window.height(),s=e?Math.round(o):Math.floor(o);return s},_touchScrollToPosition:function(e,t){var i=this._touchScrollSections.length-1;0>t?this._touchScrollTo(this._touchScrollSections[0].offset().top-this._touchScrollSections[0].outerHeight()):t>i?this._touchScrollTo(this._touchScrollSections[i].offset().top+this._touchScrollSections[i].outerHeight()):this._touchScrollTo(this._touchScrollSections[t].offset().top,e)},_touchScrollTo:function(e,t,i){this._$body.clearQueue(),this._$body.animate({scrollTop:e},800,this._touchOnEnterSection.bind(this,i))},_touchOnEnterSection:function(e){if(e>=0){var t={duration:1,linkDelay:1.5,overlayDelay:.5,overlayDuration:.5,textDelay:1};0!==e?(this._enableSection(this.ui("storySection").eq(e)),this._openTextAnimation(this.ui("storySection").eq(e),t)):(TweenLite.to(this.ui("storySection").eq(e).find(".introWrapper"),2,{delay:1.2,opacity:1}),TweenLite.to(this.ui("storySection").find(".intro .overlay"),1,{delay:.6,opacity:.6})),TweenLite.to(this.ui("storySection").eq(e).find(".fallBackImage"),40,{delay:3,scale:1.3})}},_touchOnLeaveSection:function(e){if(e>=0){var t={duration:.6,linkDelay:0,overlayDelay:0,textDelay:0};0!==e?(this._closeTextAnimation(this.ui("storySection").eq(e),t),TweenLite.to(this.ui("storySection").eq(e).find(".introWrapper"),1,{opacity:0})):(TweenLite.to(this.ui("storySection").eq(e).find(".introWrapper"),2,{opacity:0}),TweenLite.to(this.ui("storySection").find(".overlay"),.6,{opacity:0})),TweenLite.to(this.ui("storySection").eq(e).find(".fallBackImage"),15,{scale:1})}},_initScene:function(){var e=this;this._enableSection(e.ui("sectionOne"));var t=this._generateMainTimeLine();e.scrollScene=new ScrollMagic.Scene({triggerElement:e.ui("scrollWrapper").get(0),triggerHook:0}).setPin(".scrollWrapper").duration(e._getSectionDuration(e.scrollSceneModifier)).on("enter",function(t){e.ui("intro").addClass("loaded"),e._initAudio(),"REVERSE"===t.scrollDirection?(e._enableSection(e.ui("sectionThree")),e.activeSection.tween=e.sectionThreeSceneTween):(e._enableSection(e.ui("sectionOne")),e.activeSection.tween=e.sectionOneSceneTween),e._toggleAtmosphericAudio(!0)}).on("progress",function(t){t.progress>=.4&&e._initZoomImages(e.ui("sectionTwo").find(e.stateContainers[e.currentState]))}).on("leave",function(){e._toggleAtmosphericAudio(!1)}).setTween(t).addTo(e.scrollController)},_generateMainTimeLine:function(){return(new TimelineLite).to(this.ui("intro").get(0),4,{opacity:0,delay:.4,ease:Cubic.easeInOut}).add(this.sectionOneSceneTween).add(this.sectionTwoSceneTween,"-=14").add(this.sectionThreeSceneTween,"-=11")},_sectionOneTween:function(){var e=this,t=e.ui("sectionOne").find(e.stateContainers[e.currentState]);this._initZoomImages(t);var i={duration:7,linkDelay:0,overlayDelay:2,promptDelay:0,textDelay:4},n={duration:14,linkDelay:13,overlayDelay:9,textDelay:6,promptDelay:16},o=this._openTextAnimation(e.ui("sectionOne"),n),s=this._closeTextAnimation(e.ui("sectionOne"),i),r={partOne:{scale:2.3,xPercent:11,yPercent:"landscape"===site.utils.getDeviceOrientation()?-101:-99,ease:Cubic.easeInOut}},a={partOne:{xPercent:25,yPercent:"landscape"===site.utils.getDeviceOrientation()?-34.5:-10,scale:"landscape"===site.utils.getDeviceOrientation()?.63:.84,ease:Cubic.easeInOut,onStart:function(){e.ui("intro").removeClass("loaded"),e.activeSection.tween=e.sectionOneSceneTween,e._initZoomImages(e.ui("sectionTwo").find(e.stateContainers[e.currentState]))}},partTwo:{xPercent:31,yPercent:-30,scale:.6,ease:Cubic.easeInOut,opacity:0,onReverseComplete:function(){e._enableSection(e.ui("sectionOne")),e.activeSection.tween=e.sectionOneSceneTween}}};site.utils.isBreakpointMedium()&&(a.partOne.scale=.9,a.partOne.yPercent=-26),e.sectionOneSceneTween=(new TimelineLite).fromTo(".storySectionOne .imageContainer.stateEnabled",14,r.partOne,a.partOne).addLabel("partOne").add(o,"partOne-=8").addLabel("partTwo").add(s,e.closeTextInsertionPoint).to(".storySectionOne .imageContainer.stateEnabled",16,a.partTwo)},_sectionTwoTween:function(){var e=this,t=(e.ui("sectionTwo").find(this.stateContainers[this.currentState]),e.ui("sectionTwo").get(0)),i={duration:7,linkDelay:0,promptDelay:0,overlayDelay:2,textDelay:4},n={duration:14,linkDelay:15,overlayDelay:12,textDelay:9,promptDelay:16},o=this._openTextAnimation(e.ui("sectionTwo"),n),s=this._closeTextAnimation(e.ui("sectionTwo"),i),r={partOne:{scale:2,xPercent:71,yPercent:-41.5,ease:Cubic.easeInOut}},a={partOne:{xPercent:45,scale:1,ease:Cubic.easeInOut,onStart:function(){e._enableSection(e.ui("sectionTwo")),e.activeSection.tween=e.sectionTwoSceneTween,e._initZoomImages(e.ui("sectionThree").find(e.stateContainers[e.currentState]))}},partTwo:{xPercent:25,yPercent:-39,scale:.6,ease:Cubic.easeInOut,onReverseComplete:function(){e._enableSection(e.ui("sectionTwo")),e.activeSection.tween=e.sectionTwoSceneTween}}};site.utils.isBreakpointMedium()&&(r.partOne.yPercent=-36,a.partTwo.yPercent=-28,a.partTwo.scale=.9),site.utils.isBreakpointSmall()&&(r.partOne={scale:2,xPercent:90,yPercent:-31},a.partOne.xPercent=70,a.partTwo.xPercent=40),e.sectionTwoSceneTween=(new TimelineLite).addLabel("partOne").fromTo(".storySectionTwo .imageContainer.stateEnabled",22,r.partOne,a.partOne).add(o,0).addLabel("partTwo").add(s,e.closeTextInsertionPoint).to(".storySectionTwo .imageContainer.stateEnabled",14,a.partTwo).to(t,18,{opacity:0},"-=4")},_sectionThreeTween:function(){var e=this,t=(e.ui("sectionThree").find(this.stateContainers[this.currentState]),e.ui("sectionThree").get(0),{duration:4,linkDelay:0,overlayDelay:2,textDelay:4,promptDelay:0}),i={duration:14,linkDelay:15,overlayDelay:12,textDelay:9,promptDelay:16},n=this._openTextAnimation(e.ui("sectionThree"),i),o=this._closeTextAnimation(e.ui("sectionThree"),t),s={partOne:{scale:.9,xPercent:10,yPercent:-40,ease:Cubic.easeInOut}},r={partOne:{xPercent:26.2,yPercent:-36,scale:.6,ease:Cubic.easeInOut,onStart:function(){e._enableSection(e.ui("sectionThree")),e.activeSection.tween=e.sectionThreeSceneTween}}};site.utils.isBreakpointMedium()&&(s.partOne.yPercent=-25,r.partOne.scale=.85,r.partOne.yPercent=-25),site.utils.isBreakpointSmall()&&(r.partOne.xPercent=40,r.partOne.yPercent=-27.2,r.partOne.scale=.55,"landscape"===site.utils.getDeviceOrientation()&&(r.partOne.xPercent=30)),e.sectionThreeSceneTween=(new TimelineLite).addLabel("partOne").fromTo(".storySectionThree .imageContainer.stateEnabled",14,s.partOne,r.partOne).add(n,0).addLabel("partTwo").add(o,e.closeTextInsertionPoint)},_enableSection:function(t){this.activeSection=!1;var i=this.$element.find(".storySection").index(t.get(0));this._hasSectionBeenViewed(i)?this.activeSection=this._stories[i]:(this.activeSection=e.extend(!0,{},this._defaultStoryObject),this.activeSection.$element=t,this._stories[i]=this.activeSection),t.addClass("enabled")},_hasSectionBeenViewed:function(e){var t=this.$element.index(e);return t in this._stories},_closeTextAnimation:function(e,t,i){var n={topText:e.find(".quote .top .text"),bottomText:e.find(".quote .bottom .text"),overlay:e.find(".storyQuote .overlay"),quoteLink:e.find(".quote a"),quoteSource:e.find(".quote .source"),bottomEle:e.find(".quote .bottom"),scrollPrompt:e.find(".storyQuote .ScrollDown")},o={delay:t.textDelay,top:"110%",ease:Cubic.easeInOut,onComplete:function(){e.removeClass("textActive"),i&&i()}};return(new TimelineLite).insert(new TweenLite.to(n.scrollPrompt,t.duration,{delay:t.promptDelay,opacity:0,onReverseComplete:function(){e.addClass("textActive")}},"+=4")).insert(new TweenLite.to(n.quoteLink,t.duration,{delay:t.linkDelay,opacity:0},"+=4")).insert(new TweenLite.to(n.quoteSource,t.duration,{delay:t.linkDelay,opacity:0},"+=4")).insert(new TweenLite.to(n.overlay,t.duration,{delay:t.overlayDelay,opacity:0},"+=4")).insert(new TweenLite.to(n.bottomText,t.duration,{delay:t.textDelay,top:"-201%",ease:Cubic.easeInOut},"+=4")).insert(new TweenLite.to(n.topText,t.duration,o,"+=4"))},_openTextAnimation:function(e,t,i,n){var o={topText:e.find(".quote .top .text"),bottomText:e.find(".quote .bottom .text"),overlay:e.find(".storyQuote .overlay"),quoteLink:e.find(".quote a"),quoteSource:e.find(".quote .source"),bottomEle:e.find(".quote .bottom"),scrollPrompt:e.find(".storyQuote .ScrollDown")};t.overlayDuration=t.overlayDuration||t.duration;var s=(new TimelineLite).insert(new TweenLite.to(o.overlay,t.overlayDuration,{delay:t.overlayDelay,opacity:.65},"-=4")).insert(new TweenLite.to(o.topText,t.duration,{delay:t.textDelay,top:"0%",ease:Cubic.easeInOut,onReverseComplete:function(){e.removeClass("textActive")}},"-=4")).insert(new TweenLite.to(o.bottomText,t.duration,{delay:t.textDelay,top:"-100%",ease:Cubic.easeInOut},"-=4")).insert(new TweenLite.to(o.quoteSource,t.duration,{delay:t.linkDelay,opacity:.8},"-=4"));return"touch"===this.touchState?s.insert(new TweenLite.to(o.quoteLink,t.duration,{delay:t.linkDelay,opacity:1,onStart:function(){e.addClass("textActive"),i&&i()},onComplete:function(){n&&n()}})):s.insert(new TweenLite.to(o.quoteLink,t.duration,{delay:t.linkDelay,opacity:1,onStart:function(){e.addClass("textActive")}},"-=4")).insert(new TweenLite.to(o.scrollPrompt,t.duration,{delay:t.promptDelay,opacity:1,display:"block",onStart:function(){i&&i()},onComplete:function(){n&&n()}},"-=4")),s},_resizeZoomImages:function(){var i=e(t).width(),n=e(t).height(),o=0,s=0,r=5,a=3;i>=n?(o=Math.floor(i*this._imageWindowScale),s=Math.floor(o/this._imageRatio)):(s=Math.floor(n*this._imageWindowScale),o=Math.floor(s*this._imageRatio));var l=e(this.stateContainers[this.currentState],this.$element);l.css({height:s,width:o}),l.each(function(t,i){e(i).find(".zoomImage").each(function(t,i){var n=e(i),l=(n.get(0).getContext("2d"),Math.floor(o/r)),c=Math.floor(s/a);n.css({height:c,width:l});var u=0,d=0;l-=1,c-=1,t>4&&9>=t?u=c:t>9&&(u=2*c);var h=t+1;switch(h){case 2:case 7:case 12:d=l;break;case 3:case 8:case 13:d=2*l;break;case 4:case 9:case 14:d=3*l;break;case 5:case 10:case 15:d=4*l}e(i).css({top:parseFloat(u),left:parseFloat(d)})})})},_initZoomImages:function(t){return t.hasClass("imagesEnabled")?!0:(t.find(".zoomImage").each(function(t,i){var n=e(i),o=n.get(0),s=o.getContext("2d"),r=new Image;r.src=e(i).data("img"),r.onload=function(){site.utils.canvasDrawBgCover(s,r)}}),void t.addClass("imagesEnabled"))},_getSectionDuration:function(e){return this._vHeight*e},_populateText:function(){e(".prop",this.$element).each(function(t,i){var n=e(i).html();e(i).parent().find(".half .text").html(n)})},_initVideo:function(){var t=this;this._playerType===t.youtube?e(".video .YouTubePlayer",this.$element).each(function(i){t.player[i]=e(this),t.player[i].parent().addClass("youtubeWrapper").removeClass("YouTubeGalleryAsset galleryItem videoItem"),t.player[i].YouTubePlayer(),t.player[i].on("videoEnded",e.proxy(t._playerOnEnded,t)),t.player[i].on("onPlay",e.proxy(t._playerOnPlay,t))}):e(".video .VideoPlayer",this.$element).each(function(i){t.player[i]=e(this),t.player[i].VideoPlayer({autoplay:!1,customPauseOtherPlayers:!1,loop:!1}),t.player[i].on("videoEnded",e.proxy(t._playerOnEnded,t)),t.player[i].on("onPlay",e.proxy(t._playerOnPlay,t))})},_resizePlayer:function(){var t=this.activeSection.$element,i=e(".storyVideo .playerWrapper",t),n=e(".storyVideo .video",t),o=this._$window.height()-i.height(),s=o>0?o/2:0;n.css({"margin-top":s})},_playerOnEnded:function(){return"touch"===this.touchState?void this._touchVideoCloseEvent():(site.utils.enableScroll(),void this._curtainClose())},_playerOnPlay:function(){this._resizePlayer()},_playVideo:function(){var e=this.activeSection.$element.index();return this._playerType===this.youtube?void this.player[e].YouTubePlayer("play"):void(this.player[e].VideoPlayer("isInitiated")?this.player[e].VideoPlayer("play"):this.player[e].VideoPlayer("initVideo"))},_pauseVideo:function(){var t=this.activeSection.$element,i=e(".storyVideo ."+this._playerType,t);i[this._playerType]("pause")},_killPlayerVolume:function(){var e=this.activeSection.$element.index();this.player[e][this._playerType]("setVolume",0)},_fadePlayerVolume:function(t,i){if(this.fadeVideoAudio!==!1){var n=this,o=this.activeSection.$element,s=e(".storyVideo ."+n._playerType,o),r=100,a=t?0:r,l=t?100:0,c={vol:r};n.fadeVideoAudio=!1,TweenLite.fromTo(c,1.5,{vol:a},{vol:l,ease:Power2.easeIn,onUpdate:function(){s[n._playerType]("setVolume",c.vol)},onComplete:function(){t||(s[n._playerType]("pause"),s[n._playerType]("setVolume",r),n._toggleAtmosphericAudio(!0),i&&i())}})}},_curtainOpenEvent:function(){var t=this;if(!(t.activeSection.$element.find(".clipFix").length>0)){var i=e(".storyContent",t.activeSection.$element),n=t.activeSection.$element,o=e(t.stateContainers[t.currentState],n),s={overlay:".overlay",quoteLink:".quote a",quoteSource:".quote .source",storyVideo:".storyVideo",video:".storyVideo .video",content:".storyContent",curtainLeft:".curtainLeft",curtainRight:".curtainRight",topText:".quote .top .text",bottomText:".quote .bottom .text",iframe:".storyVideo iframe"};o.clone().insertAfter(o).addClass("curtainLeft").removeClass("imagesEnabled"),o.clone().insertAfter(o).addClass("curtainRight").removeClass("imagesEnabled"),t._initZoomImages(e(s.curtainLeft,n)),t._initZoomImages(e(s.curtainRight,n)),e(s.curtainLeft,n).wrap('<div class="clipFix clipFixLeft"></div>').parent(),e(s.curtainRight,n).addClass("curtainRight").wrap('<div class="clipFix clipFixRight"></div>').parent(),t.fadeVideoAudio=!0,t._killPlayerVolume(),t._playVideo(),this._fadePlayerVolume(!0),t._toggleAtmosphericAudio(!1);var r={duration:1,linkDelay:.5,overlayDelay:.5,textDelay:.2},a=this._closeTextAnimation(n,r);(new TimelineLite).add(a,0).insert(new TweenLite.to(e(s.curtainLeft,n).parent(),1,{delay:2,xPercent:"-120%",ease:Cubic.easeInOut,onStart:function(){n.find(s.video).addClass("active"),n.addClass("videoActive"),t.$element.addClass("videoActive"),o.hide()},onComplete:function(){i.hide(),t._lockScroll(!0)}},"-=4")).insert(new TweenLite.to(e(s.curtainRight,n).parent(),1,{delay:2,xPercent:"120%",ease:Cubic.easeInOut},"-=4"))}},_touchVideoOpenEvent:function(){var e=this,t={duration:1,linkDelay:.5,overlayDelay:.5,textDelay:.2},i=e.activeSection.$element.find(".storyVideo .video");site.utils.isIos===!1&&e._playVideo();var n=this._closeTextAnimation(this.activeSection.$element,t);(new TimelineLite).add(n,0).call(function(){e.activeSection.$element.find(".storyContent").hide(),e.activeSection.$element.addClass("videoActive"),e.$element.addClass("videoActive"),e._lockScroll(!0)}),i.addClass("active"),this._resizePlayer(),this._touchRemoveSwipeHandlers()},_curtainClose:function(){var t=this,i=t.activeSection.$element.find(t.stateContainers[t.currentState]),n={storyVideo:".storyVideo",youtubePlayer:".storyVideo .video div",curtainLeft:".curtainLeft",curtainRight:".curtainRight"};t.activeSection.tween.gotoAndPlay("partTwo"),t.fadeVideoAudio=!0,t._fadePlayerVolume(!1),(new TimelineLite).insert(new TweenLite.to(e(n.curtainLeft,this.activeSection.$element).parent(),1,{delay:.5,xPercent:"0",ease:Cubic.easeInOut},"-=4")).insert(new TweenLite.to(e(n.curtainRight,this.activeSection.$element).parent(),1,{delay:.5,xPercent:"0",ease:Cubic.easeInOut,onComplete:function(){i.show(),e(".storyContent",t.activeSection.$element).show(),t.activeSection.$element.removeClass("videoActive"),t.$element.removeClass("videoActive"),e(n.curtainLeft,t.activeSection.$element).parent().remove(),e(n.curtainRight,t.activeSection.$element).parent().remove();var o={duration:1,linkDelay:0,overlayDelay:.5,textDelay:0},s=function(){t.scrollController.update(!0),t._lockScroll(!1)};t._openTextAnimation(t.activeSection.$element,o,!1,s)}},"-=4"))},_touchVideoCloseEvent:function(){var e=this;e._pauseVideo(),e._touchAddSwipeHandlers(),e.activeSection.$element.removeClass("videoActive"),e.$element.removeClass("videoActive"),e._lockScroll(!1),e.activeSection.$element.find(".storyContent").show();var t={duration:1,linkDelay:.5,overlayDelay:.5,textDelay:0};e._openTextAnimation(e.activeSection.$element,t)},_lockScroll:function(e){e?(this._$html.addClass("noScroll forceScrollBar"),"touch"===this.touchState&&this._$header.hide(),this._resizePlayer()):(this._$html.removeClass("noScroll forceScrollBar"),"touch"===this.touchState?(this._$header.show(),this._$body.scrollTop(this.activeSection.$element.offset().top)):(this.scrollController.update(!0),this.scrollScene.update(!0)))},_initAudio:function(){var i=this,n=e(".intro .introWrapper audio");return n.length<1?void(i.audio=null):void(site.utils.isMobileDevice()||null===i.audio&&(i.audio=n.mediaelementplayer({startVolume:.6,loop:!0,pauseOtherPlayers:!1,features:["playpause","progress","current","duration","tracks","volume"]}),e(t).trigger("VideoPlayerPause","null"),i._toggleAtmosphericAudio(!0)))},_toggleAtmosphericAudio:function(e){var t=this;null===this.audio||site.utils.isMobileDevice()||(this.audioMuted||e===!1?TweenLite.fromTo(this.audio[0].player,1,{setVolume:.6},{setVolume:0,ease:Power2.easeIn,onComplete:function(){t.audio[0].player.pause()}}):(this.audio[0].player.play(),TweenLite.fromTo(this.audio[0].player,1,{setVolume:0},{setVolume:.6,ease:Power2.easeIn})))},_fadeVideoAudio:function(e){e?TweenLite.fromTo(this.audio.player,1,{setVolume:1},{setVolume:0,ease:Power2.easeIn,onComplete:this._pauseAudio.bind(this,!0)}):TweenLite.fromTo(this.audio.player,1,{setVolume:this.audio.player.getVolume()},{setVolume:1,ease:Power2.easeIn,onComplete:this._pauseAudio.bind(this,!1)})},_pauseAudio:function(e){e?this.audio.player.pause():this.audio.player.play()},_initResize:function(){var i=this;e(t).resize(function(){i._vHeight=t.innerHeight}),e(t).smartresize(function(){return i._resizePlayer(),"notouch"===i.touchState?(i.$element.hasClass("videoActive")===!1&&i._resizeZoomImages(),i.scrollScene.duration(i._getSectionDuration(i.scrollSceneModifier)),i.scrollController.update(),void i.scrollScene.refresh()):void i._sectionSizeCalc()})},_initEvents:function(){var t=this;this.ui("scrollPrompt").unbind("click"),e(".quoteCTA",this.$element).on("click tap",function(i){return i.preventDefault(),"touch"===t.touchState?void t._touchVideoOpenEvent():(site.utils.disableScroll(),void t._curtainOpenEvent(e(this)))}),e(".ytClose",this.$element).on("click tap",function(e){return e.preventDefault(),"touch"===t.touchState?void t._touchVideoCloseEvent():(site.utils.enableScroll(),void t._curtainClose())}),this._$window.on("HeroCarousel:mute",function(e,i){t.audioMuted=i}),t.ui("scrollPrompt").on("click",function(i){if(i.preventDefault(),"touch"!==t.touchState){var n=t._getSectionDuration(t._sectionDurationPosition.sceneTwo),o=e(this),s=3700;1===o.parents(".intro").length&&(n=t._getSectionDuration(t._sectionDurationPosition.sceneOne)),1===o.parents(".storySectionTwo").length&&(n=t._getSectionDuration(t._sectionDurationPosition.sceneThree),s=5500),1===o.parents(".storySectionThree").length&&(n=t.$element.next().offset().top),t.scrollController.scrollTo(function(e){site.utils.scrollTo(e,s)}),t.scrollController.scrollTo(n)}})},_setCurrentState:function(){var e=this.currentState;this.currentState=site.utils.isBreakpointMedium()||site.utils.isBreakpointSmall()?"mobile":"desktop",this.currentState!==e&&this.activeSection!==!1&&this._initZoomImages(this.activeSection.$element.find(this.stateContainers[this.currentState]))},_setTouchState:function(){this.touchState=this._$html.hasClass("touchCapability")?"touch":"notouch"},_checkVhSupport:function(){return this._$html.hasClass("no-cssvhunit")||null!==navigator.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i)},_sectionSizeCalc:function(){if(this.noVhSupport){var e=site.utils.getViewportSize().height;return void this.ui("storySection").height(e)}}};jQuery.createComponent("StoryScroller",i)}(jQuery,window,document),function(e){var t={init:function(){e.ajax({url:"//s7.addthis.com/js/250/addthis_widget.js",cache:!0,dataType:"script"})}};jQuery.createComponent("StorySocialLinks",t)}(jQuery,window,document),function(){var e={_defaults:{},_foo:"bar",_blue:"blar",init:function(){},publicMethod:function(){},_privateMethod:function(){},_destroy:function(){}};jQuery.createComponent("SubFooter",e)}(jQuery,window,document),function(e,t){var i={_defaults:{toggleButton:null},_$body:e("body"),_$moreButton:null,_moreButtonDisplaying:!1,_$lessButton:null,_expanded:!0,_menuItemsFit:!0,_menuDivider:null,_rtl:!1,init_rtl:function(){this._rtl=!0},init:function(){var i=this,n=site.utils.cookieManager.readCookie("JLR_SubNavigation");this._$moreButton=e(".MoreButton",this.$element),this._$lessButton=e(".LessButton",this.$element),this._menuDivider=e(".SubNavigationDivider",this.$element),i._hideExpandedMenu(0),this._recalculateSubNavWidth(this),e(t).smartresize(function(){i._recalculateSubNavWidth()}),this._subnavSetupInteractionEvents(),null!==n&&this._showExpandedMenu(0,!1)},_subnavSetupInteractionEvents:function(){var i=this;i._$moreButton.on("click tap",function(){i._showExpandedMenu()}),i._$lessButton.on("click tap",function(){i._hideExpandedMenu(),i._$moreButton.css({display:"inline-block"}),i._moreButtonDisplaying=!0,i.$element.offset().top<=site.utils.getStickyNavHeight(0)&&i._$body.addClass("paddedTransition"),i._setBodyPadding()}),e(t).on("NavigationModelSwitcher",function(e,t){"opened"===t&&i._hideExpandedMenu()})},_recalculateSubNavWidth:function(){var t=this,i=t.$element.width(),n=e(".SubNavigationMainList li",t.$element),o=0,s=e(".navigationModelSwitcherButtonContainer",t.$element);1===s.length&&(o=s.outerWidth()),t._menuItemsFit=!0,jQuery.each(n,function(n,s){return o+=e(s).outerWidth(),o>i?(t._menuItemsFit=!1,!1):void 0}),t._menuItemsFit===!1?t._expanded===!0?t._hideMoreButton():t._showMoreButton(n):(t._hideMoreButton(),t._rtl===!0?e(".SubNavigationMainList").css({"margin-left":0}):e(".SubNavigationMainList").css({"margin-right":0}),t._hideExpandedMenu()),this.$element.css({overflow:"hidden"})},_showMoreButton:function(){var t=this;if(t._moreButtonDisplaying===!1){t._moreButtonDisplaying=!0,t._$moreButton.css({display:"inline-block"});var i=t._$moreButton.outerWidth()+10;t._rtl===!0?e(".SubNavigationMainList").css({"margin-left":i}):e(".SubNavigationMainList").css({"margin-right":i})}},_hideMoreButton:function(){var e=this;e._moreButtonDisplaying===!0&&(e._moreButtonDisplaying=!1,e._$moreButton.css({display:"none"}))},_showExpandedMenu:function(i,n){var o=this;if(o._expanded===!1){o._expanded=!0,"undefined"==typeof i&&(i=400);var s=e(".NavigationModelSwitcher");if(s.NavigationModelSwitcher("isOpen")===!0)return s.NavigationModelSwitcher("fastClose"),void setTimeout(function(){o._showExpandedMenu(200),e(t).trigger("subNavigationChange")},220);o._menuDivider.show().transition({opacity:1,duration:i},"ease");var r=e(".SubNavigationContainer",o.$element);if(n===!1)r.css({height:"auto"}),e(t).trigger("subNavigationChange");else{r.css({height:"auto"});var a=r.height();r.css({height:""}),r.transition({height:a+"px",duration:i},"ease",function(){r.css("height","auto"),e(t).trigger("subNavigationChange")})}o._$moreButton.hide(),o._$lessButton.css({display:"inline-block"});var l=o._$lessButton.outerWidth()+10;e(".SubNavigationMainList").css({"margin-right":l}),site.utils.cookieManager.createCookie("JLR_SubNavigation","true")}},_setBodyPadding:function(){var t=0;t=site.utils.getStickyNavHeight(0),e("body").css("padding-top",t),setTimeout(function(){e("body").removeClass("paddedTransition")},400)},_hideExpandedMenu:function(i){var n=this;if(n._expanded===!0){n._expanded=!1,"undefined"==typeof i&&(i=400),n._menuDivider.transition({opacity:0},i,"ease",function(){this.hide()});var o=e(".SubNavigationContainer",n.$element);o.css("height","");var s=o.height();o.css("height","auto");var r=o.height();o.css("height",r+"px"),i>0?o.transition({height:s+"px",duration:i},"ease",function(){o.css("height",""),e(t).trigger("subNavigationChange")}):(o.css({height:""}),e(t).trigger("subNavigationChange")),n._$lessButton.hide(),site.utils.cookieManager.deleteCookie("JLR_SubNavigation")}},isExpanded:function(){return this._expanded},fastClose:function(){this._hideExpandedMenu(200)}};jQuery.createComponent("SubNavigation",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},_$currentTab:null,_group:"",init:function(){var i=this;this.$element.css({display:"table"}),this._group=this.$element.attr("data-group"),this._activateTab(e("a",e("li",this.$element).first()),!1),e("li a",this.$element).on("click tap",function(t){
return t.preventDefault(),e(this).parent().hasClass("active")?!1:void i._activateTab(this,!0)}),i._addKeyboardNavigation(),e(t).smartresize(function(){i._equalHeights()}),i._equalHeights()},_activateTab:function(i,n){var o=this,s=e(i),r=s.parent();if(null===o._$currentTab||o._$currentTab[0]!==r[0]){o._$currentTab=r,e("li",o.$element).removeClass("active"),r.addClass("active");var a=s.attr("href").substring(1),l=e('.tabContent[data-group="'+o._group+'"][data-tabid="'+a+'"]'),c=e('.tabContent[data-group="'+o._group+'"]:visible'),u=n===!0?400:0;c.stop().fadeTo(u,0,function(){var i=e(this).parent(".ComparisonSlider");i.css("min-height",e(this).height()),e(this).hide().removeClass("visibleTab"),l.stop().show().fadeTo(u,1).addClass("visibleTab"),e(t).trigger("resize"),o.$element.trigger("tabAnimationComplete"),setTimeout(function(){i.css("min-height","inherit")},1e3)})}this.$element.trigger("changeTabs")},_destroy:function(){e("li a",this.$element).off("click tap")},_addKeyboardNavigation:function(){var t=this,i=t.$element.find("> li > a");i.keydown(function(t){39===t.keyCode?e(this).parent("li").next("li").find("a").focus():37===t.keyCode&&e(this).parent("li").prev("li").find("a").focus()})},_equalHeights:function(){var t=this,i=[];e("li > a",t.$element).css({"padding-top":0,"padding-bottom":0,"margin-top":"12px","margin-bottom":"12px"}).each(function(){i.push((e(this).parent().height()-e(this).height())/2)}).each(function(t){e(this).removeAttr("style").css({"padding-top":i[t],"padding-bottom":i[t]-1})})}};jQuery.createComponent("TabFilter",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},_total:0,_tabsOnScreen:0,_selectedTab:null,_selectedIndex:0,_isMobile:!1,_dragSlider:null,_tabNavLinkWidth:null,uiSelectors:{tabs:".tab",tabbedNavigationContainer:".tab-navigation",tabbedNavigationLinks:".tab-navigation .tab-link"},events:{"click .tab-link":"changeTab"},init:function(){this._total=parseInt(this.$element.data("total"),10),e(t).smartresize(this._resizeComponent.bind(this)),this._resizeComponent(),this._hideAllTabs(),this._selectTab(this.ui("tabs").eq(this._selectedIndex)),this._selectNavigationLink(this.ui("tabbedNavigationLinks").eq(this._selectedIndex))},init_rtl:function(){},changeTab:function(e){var t,i;this._dragSlider&&this._dragSlider.activity||(t=e&&e.currentTarget?e.currentTarget:e,i=this.ui("tabbedNavigationLinks").index(t),-1!==i&&this._selectedIndex!==i&&(this._isMobile&&this._goToTabNavigation(i),this._selectedIndex=i,this._deselectNavigationLinks(),this._hideSelectedTab(function(){this._destroyPreviousTab(),this._selectTab(this.ui("tabs").eq(i)),this._selectNavigationLink(t)}.bind(this))))},hideNavigation:function(){this.ui("tabbedNavigationContainer").hide()},showNavigation:function(){this.ui("tabbedNavigationContainer").show()},previousTab:function(){this._selectedIndex-1>=0&&this.changeTab(this.ui("tabbedNavigationLinks").eq(this._selectedIndex-1))},nextTab:function(){this._selectedIndex+1<this._total?this.changeTab(this.ui("tabbedNavigationLinks").eq(this._selectedIndex+1)):this.changeTab(this.ui("tabbedNavigationLinks").eq(0))},_selectTab:function(e){this._selectedTab=e,this._selectedTab.show(),this._initializeSelectedTab(),this._selectedTab.animate({opacity:1},250)},_selectNavigationLink:function(t){var i=e(t);i.addClass("active")},_initializeSelectedTab:function(){var e=this._selectedTab.data("component");this._selectedTab.find("> div")[e]();for(var t=this.$element.attr("class").split(/\s+/),i=0,n=t.length;n>i;i++)t[i].indexOf("active_")>-1&&this.$element.removeClass(t[i]);this.$element.addClass("active_"+e),this._activeTab=e,site.utils.isBreakpointMedium()||site.utils.isBreakpointSmall()?this.$element.height(""):setTimeout(function(){this.$element.height(this._selectedTab.height())}.bind(this),10)},_hideAllTabs:function(){this.ui("tabs").hide()},_hideSelectedTab:function(e){this._selectedTab&&this._selectedTab.animate({opacity:0},250,function(){this._selectedTab.hide(),e&&e()}.bind(this))},_deselectNavigationLinks:function(){this.ui("tabbedNavigationLinks").removeClass("active")},_destroyPreviousTab:function(){var e=this._selectedTab.data("component");this._selectedTab.find("> div")[e]("destroy")},_resizeComponent:function(){var e=site.utils.isBreakpointSmall(),t=site.utils.isBreakpointMedium(),i=!e&&!t;this._tabsOnScreen=e?2===this._total?2:3===this._total?3:3.5:this._total,!this._isMobile&&e?this._onEnterSmallBreakpoint():this._isMobile&&!e&&this._onExitSmallBreakpoint(),e&&this._onSmallBreakpoint(),this._selectedTab&&(i?setTimeout(function(){this.$element.height(this._selectedTab.height())}.bind(this),0):this.$element.height("")),this._isMobile=e,this._isTablet=t,this._isDesktop=i},_onEnterSmallBreakpoint:function(){this.ui("tabbedNavigationContainer").css("display","block"),this._setTabNavigationLinkWidths(),this.ui("tabbedNavigationLinks").wrapAll('<div class="tabbed-slider-wrapper"></div>'),e(".tabbed-slider-wrapper",this.$element).width(this._tabNavLinkWidth*this._total),this._initDragDealer()},_onSmallBreakpoint:function(){"Interior360"!==this._activeTab&&this.ui("tabbedNavigationContainer").css("top",Math.floor(9/(16/e(t).width()))),this._dragSlider&&(this._setTabNavigationLinkWidths(),e(".tabbed-slider-wrapper",this.$element).width(this._tabNavLinkWidth*this._total),this._dragSlider.reflow())},_onExitSmallBreakpoint:function(){this.ui("tabbedNavigationContainer").css("display","table"),this._tabNavLinkWidth=null,this.ui("tabbedNavigationLinks").unwrap(),this.ui("tabbedNavigationLinks").width(""),this.ui("tabbedNavigationContainer").css("top",""),this._destroyDragDealer()},_setTabNavigationLinkWidths:function(){var e=parseInt(this.ui("tabbedNavigationContainer").outerWidth(),10);this._tabNavLinkWidth=Math.ceil(e/this._tabsOnScreen),this.ui("tabbedNavigationLinks").width(this._tabNavLinkWidth)},_initDragDealer:function(){e(".tabbed-slider-wrapper",this.$element),this._dragSlider=new t.Dragdealer(this.ui("tabbedNavigationContainer")[0],{steps:this._total,loose:!0,speed:.6,handleClass:"tabbed-slider-wrapper",requestAnimationFrame:!0,x:site.rtl?1:0})},_goToTabNavigation:function(e){e>1&&(e+=1),e>2&&e%2===0&&(e+=1),site.rtl&&(e=this._total-e+1),this._dragSlider.setStep(e,1)},_destroyDragDealer:function(){this._dragSlider.unbindEventListeners(),this._dragSlider=null},adjustNavPosition:function(i){i=i||Math.floor(9/(16/e(t).width())),this.ui("tabbedNavigationContainer").css({top:i})},_destroy:function(){this.hideNavigation(),this.ui("tabs").each(function(t,i){this._selectedTab=e(i),this._selectedTab.css("opacity",1).show(),this._initializeSelectedTab()}.bind(this)),this._dragSlider&&this._destroyDragDealer(),this._selectedTab=null,this._selectedIndex=0}};jQuery.createComponent("TabbedContainer",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},_linkURL:null,init:function(){this.setupListener()},setupListener:function(){var e=this,t=e.$element.find("span");e.$element.off("click.TargetLinks").on("click.TargetLinks",{that:this},e.processLinkType),site.utils.isPageInXPMFrame()&&t.on("click",function(e){e.preventDefault(),e.stopPropogation()})},processLinkType:function(i){var n=i?i.data.that:this;if(n._checkDragging(i)){var o=e(this),s=o.attr("data-target");if(site.utils.isPageInXPMFrame()&&o.hasClass("primaryLinkWithStyle")===!1||site.utils.isPageInXPMFrame()&&e(i.target).get(0)!==o.get(0))return void i.preventDefault();var r=o.attr("href");if(o.attr("href",r),null!==s){switch(s){case"overlay":i.preventDefault(),n._openLinkInOverlay(r);break;case"new":i.preventDefault(),t.open(r);break;case"fullscreen":i.preventDefault(),n._initFullscreen(r)}e(t).trigger("VideoPlayerPause",{videoid:null})}}},_openLinkInOverlay:function(i){return site.utils.isBreakpointSmall()||site.utils.isMobileDevice()?void t.open(i):void e.magnificPopup.open({closeMarkup:'<a class="mfp-close" href=""></a>',closeOnBgClick:!0,fixedContentPos:!0,alignTop:!0,type:"iframe",items:{src:i}})},_checkDragging:function(t){var i=!1;return e(t.target).parents(".SameSizeCarousel").length>0?e(t.target).parents(".SameSizeCarousel").SameSizeCarousel("getDragging")?t.preventDefault():i=!0:e(t.target).parents(".DualFrameCarousel").length>0&&e(t.target).parents(".DualFrameCarousel").DualFrameCarousel("getDragging")?t.preventDefault():i=!0,i},_initFullscreen:function(n){var o=this;e(t).width()<=site.breakpoints.medium||e("html").hasClass("lt-ie10")||e("html").hasClass("touchCapability")?(site.utils.cookieManager.createCookie("JLR_previousURL",i.URL),t.location=n):o._openFullscreen(n)},_openFullscreen:function(i){e(t).trigger("fullscreenOpened"),e.magnificPopup.open({closeOnBgClick:!1,fixedContentPos:!0,alignTop:!0,type:"ajax",items:{src:i},callbacks:{beforeClose:function(){e(t).off("AddThisToggle"),e(t).off("FilmStripToggle"),e(t).trigger("fullscreenClosed"),e(".Fullscreen").Fullscreen("destroyComponents")},parseAjax:function(t){t.data=e(t.data).find(".Fullscreen")},ajaxContentAdded:function(){e(".Fullscreen").Fullscreen(),e(".mfp-close").on("click",function(e){e.preventDefault()})}}})},_destroy:function(){}};jQuery.createComponent("TargetLinks",n)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{item:".toggleLinksItem",link:".toggleLinksLink"},_$toggleContent:null,_$toggleContentItems:null,_$window:e(t),init:function(){return this._$toggleContent=e("#"+this.$element.data("toggle-content")),this._$toggleContentItems=this._$toggleContent.length?this._$toggleContent.find(".toggleContentItem"):null,this.ui("item").length<2?void this.$element.hide():void(this._$toggleContent.length&&this._$toggleContentItems.length&&(this.ui("link").on("click",this._linkClick.bind(this)),this._$toggleContent.addClass("toggleLinksActive"),this.ui("link").eq(0).trigger("click",[!0])))},_linkClick:function(t,i){i=i||!1;var n=e(t.currentTarget),o=e(n.attr("href")),s=o.index();t.preventDefault(),this.ui("item").removeClass("active"),n.parent(".toggleLinksItem").addClass("active"),site.utils.isBreakpointSmall()&&!i?s>0?e(this.$element).animate({scrollLeft:this.$element.scrollLeft()+n.parent("li").position().left-(this.$element.width()-n.parent("li").width()+parseInt(this.$element.css("padding-left"),10)+parseInt(this.$element.css("padding-right"),10))/2},function(){this._scrollAndFadeContent(s)}.bind(this)):e(this.$element).animate({scrollLeft:site.rtl?this.$element.width():0},function(){this._scrollAndFadeContent(s)}.bind(this)):this._fadeInOutContentItem(s)},_scrollAndFadeContent:function(e){this.$element.parents(".ContentBlocksContainer").data("toggle-links")&&site.utils.isBreakpointSmall()&&site.utils.scrollTo(this.$element.parents(".ContentBlocksContainer").offset().top,600),this._fadeInOutContentItem(e)},_fadeInOutContentItem:function(e){var t,i=this._$toggleContentItems.filter(".active"),n=this._$toggleContentItems.eq(e);i.length?(i.stop(),t=i.fadeOut(400,this._fadeInContentItem.bind(this,n))):this._fadeInContentItem(n)},_fadeInContentItem:function(e){e.stop().fadeIn(400,function(){this._$toggleContentItems.removeClass("active"),e.addClass("active"),this.$element.trigger("toggleLinks:changeContent")}.bind(this))},_destroy:function(){}};jQuery.createComponent("ToggleLinks",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{headerBlock:".headerBlock",headerBlockHeading:".headerBlock .heading",toggleLinks:".ToggleLinks",contentCards:".contentCards"},_positions:{componentBottom:null,componentTop:null,siteHeaderHeight:null,componentHeaderY:null},_siteHeaderCssChanged:!1,_$window:e(t),_$header:e("#header"),_scrollTopStored:0,_siteHeaderVisible:"visible",_componentHeaderFixed:!1,_tweenComponentHeaderFadeTitle:null,_tweenComponentHeaderSlideUp:null,_tweenComponentHeaderSlideDown:null,_tweenSiteHeaderSlideUp:null,_tweenSiteHeaderSlideDown:null,_componentTopPadding:40,_headerBlockBottomPadding:30,_events:{resize:null,toggleLinksChangeContent:null,scroll:null},init:function(){this._events.resize=this._setPositions.bind(this),this._events.toggleLinksChangeContent=this._setPositions.bind(this),this._events.scroll=this._onScroll.bind(this),this._attachDetachEvents(!0),this._setPositions()},_attachDetachEvents:function(e){e?(this._$window.on("resize",this._events.resize),this.ui("toggleLinks").on("toggleLinks:changeContent",this._events.toggleLinksChangeContent),this._$window.on("scroll",this._events.scroll),this.ui("contentCards").eq(0).waitForImages(this._setPositions.bind(this,!0))):(this._$window.off("resize",this._events.resize),this.ui("toggleLinks").off("toggleLinks:changeContent",this._events.toggleLinksChangeContent),this._$window.off("scroll",this._events.scroll))},_onScroll:function(){t.requestAnimationFrame(function(){var e=this._$window.scrollTop(),t=(Math.abs(e-this._scrollTopStored),e>this._scrollTopStored?"forwards":"backwards");this._scrollTopStored=e,this._adjustSiteHeader(e,t),this._adjustComponentHeader(e,t)}.bind(this))},_setPositions:function(){var e=this.$element.offset().top,t=0,i=this._getFixedPosition(),n=this._componentHeaderFixed,o=this._positions.siteHeaderHeight?this._positions.siteHeaderHeight:site.utils.getHeaderHeight(),s=null!==s?s:0;n?t=this.ui("headerBlock").height():(this._fixUnfixComponentHeader(!0,null,!1),t=this.ui("headerBlock").height(),this._fixUnfixComponentHeader(!1,null,!1)),this._positions={componentBottom:e+this.$element.outerHeight(),componentTop:e,componentHeaderBlockHeight:this.ui("headerBlock").outerHeight()+this._componentTopPadding,componentHeaderBlockFixedHeight:t,componentHeaderY:s,fixPosition:i,siteHeaderHeight:o}},_getFixedPosition:function(){var e=this._componentHeaderFixed;e&&this._fixUnfixComponentHeader(!1,null,!1);var t=this.ui("toggleLinks").offset().top+this.ui("toggleLinks").height();return e&&this._fixUnfixComponentHeader(!0,null,!1),t},_adjustSiteHeader:function(e,t){var i=this._positions.componentTop,n=this._positions.componentBottom,o=this._positions.siteHeaderHeight,s=e+o,r=s-i,a=s>i,l=e>n;site.utils.isBreakpointSmall()&&(a=s>i+(this.ui("headerBlock").height()-this.ui("toggleLinks").height()+parseInt(this.ui("toggleLinks").css("margin-top"),10)),r=s-i+(this.ui("headerBlock").height()-this.ui("toggleLinks").height()),l=e>n+20),"forwards"===t&&a&&!l?o>r?(this._moveSiteHeader(-r),this._siteHeaderVisible="partial"):(this._moveSiteHeader(-o),this._siteHeaderVisible="hidden"):(this._moveSiteHeader(0),this._siteHeaderVisible="visible")},_adjustComponentHeader:function(e,t){var i,n=this._positions.siteHeaderHeight,o=this._positions.componentBottom,s=this._positions.fixPosition,r=this._positions.componentHeaderBlockFixedHeight,a=Math.abs(e-o),l=-(r-a),c=e>s,u=e>o;site.utils.isBreakpointSmall()&&(c=e>s-this._componentTopPadding-this._headerBlockBottomPadding-n,i=e>s-this._componentTopPadding-this._headerBlockBottomPadding-n-parseInt(this.ui("headerBlock").css("margin-bottom"),10),u=e>o-20),c&&!u?r>a?this._fixUnfixComponentHeader(!0,l,!1):"forwards"===t?this._fixUnfixComponentHeader(!0,0,!0):this._fixUnfixComponentHeader(!0,n,!0):i?this._fixUnfixComponentHeader(!1,0,!1):this._fixUnfixComponentHeader(!1,0,!0)},_moveSiteHeader:function(e){var t=this._positions.siteHeaderHeight,i="visible"===this._siteHeaderVisible&&!e,n="hidden"===this._siteHeaderVisible&&e===-t,o="visible"===this._siteHeaderVisible&&e===-t,s="hidden"===this._siteHeaderVisible&&0===e,r=o?"_tweenSiteHeaderSlideUp":"_tweenSiteHeaderSlideDown";i||n||(o||s?this._tweenY(r,this._$header,.4,null,e):TweenLite.set(this._$header,{css:{y:e}}))},_fixUnfixComponentHeader:function(e,t,i){var n=this._positions.componentHeaderY,o=this._positions.componentHeaderBlockHeight,s=this._positions.componentHeaderBlockFixedHeight,r=this._positions.siteHeaderHeight,a=t===r,l=e&&!this._componentHeaderFixed&&0===t,c=n===r&&0===t,u=a||l,d=l?-s:null;e&&!this._componentHeaderFixed?(this.$element.css("padding-top",o+this._headerBlockBottomPadding).addClass("headerFixed"),i&&this._fadeComponentTitle(),this._componentHeaderFixed=!0):!e&&this._componentHeaderFixed&&(this.$element.css("padding-top","").removeClass("headerFixed"),i&&this._fadeComponentTitle(),this._componentHeaderFixed=!1),null!==t&&this._moveComponentHeader(d,t,c,u)},_moveComponentHeader:function(e,t,i,n){if(n){var o=i?"_tweenComponentHeaderSlideUp":"_tweenComponentHeaderSlideDown";this._tweenY(o,this.ui("headerBlock"),.4,e,t)}else i?TweenLite.set(this.ui("headerBlock"),{css:{y:t}}):this._tweenComponentHeaderSlideUp||this._tweenComponentHeaderSlideDown||TweenLite.set(this.ui("headerBlock"),{css:{y:t}});this._positions.componentHeaderY=t},_fadeComponentTitle:function(){this._tweenComponentHeaderFadeTitle||(this._tweenComponentHeaderFadeTitle=TweenLite.fromTo(this.ui("headerBlockHeading"),.4,{css:{opacity:0}},{css:{opacity:1},onComplete:this._killTween.bind(this,"_tweenComponentHeaderFadeTitle")}))},_killTween:function(e){this[e].kill(),this[e]=null},_tweenY:function(e,t,i,n,o){null!==n?this[e]=TweenLite.fromTo(t,i,{css:{y:n}},{css:{y:o},ease:Linear.easeNone,onComplete:this._killTween.bind(this,e)}):this[e]=TweenLite.to(t,i,{css:{y:o},ease:Linear.easeNone,onComplete:this._killTween.bind(this,e)})},_destroy:function(){this._attachDetachEvents(!1),TweenLite.killTweensOf(this._$header),TweenLite.killTweensOf(this.ui("headerBlock")),this.$element.css("padding-top","").removeClass("headerFixed")}};jQuery.createComponent("ToggleLinksSticky",i)}(jQuery,window,document),function(e,t,i){var n={init:function(){var e=this.$element.attr("data-api-key");t.widget=["//valuations.netdirector.co.uk/","valuation/source/",[e,!1,!1],{}];var n=i.createElement("script");n.type="text/javascript",n.src=t.widget[0]+t.widget[1]+"widget.js",i.head.appendChild(n)}};jQuery.createComponent("UsedCarValuator",n)}(jQuery,window,document),function(e,t,i){var n={_defaults:{},_autoNudge:!1,init:function(){var i=this;this.$element.data("autonudge")===!0&&(this._autoNudge=!0,this._loadLibrary()),e(t).on("vee24_launch_chat",{that:i},this._onIgniteButtonClick)},_onIgniteButtonClick:function(e){var t=e.data.that;t._loadLibrary(function(){vee24.api.helpMeNow(!0)})},_loadLibrary:function(n){var o=this,s=i.createElement("script");if("undefined"==typeof vee24){t.v24ClientInitialise=function(){vee24.site=o.$element.data("site"),vee24.siteSection="MainSite",vee24.culture=e("html").attr("lang").toLowerCase(),vee24.formPage=!1,vee24.canShowPanel=!0,vee24.pageWeight=0,vee24.showAutoNudgeOnPage=o._autoNudge,vee24.monitoring=!1,vee24.hasMobileApp=!1,vee24.api.useResponsivePanel(!0),vee24.api.logPage(),n&&n()};var r="https:"===i.location.protocol?"https://":"http://";s.onload=function(){t.setTimeout(function(){"undefined"!=typeof vee24&&""===vee24.site&&vee24.api.initialise()},3e3)},s.type="text/javascript",s.src=r+"static.vee24.com/v24/veedesk/v24Embedded.js",i.body.appendChild(s)}else n&&n()}};jQuery.createComponent("Vee24",n)}(jQuery,window,document),function(e,t,i,n){var o={_defaults:{overlay:!0},_vehicleSelectorVisible:!1,_modelSelectorVisible:!1,_vehicleSelectorContentLoaded:null,_vehicleSelectorOverlayLoaded:!1,_$vehicleSelector:null,_$modelSelector:null,_$window:e(t),_tallestVehicle:0,_tallestModel:0,_windowWidth:0,_ltie9:!1,_ltie10:!1,_touchEnabledDevice:"ontouchstart"in t||navigator.msMaxTouchPoints?!0:!1,_slideFromRight:!1,_stickyNavigationEnabled:null,_fadeOutOverlayDeferred:null,init_rtl:function(){this._slideFromRight=!0},init:function(){var i=this;this._windowWidth=e(t).width(),e("html").hasClass("lt-ie9")&&(this._ltie9=!0,e(t).on("closeNotificationBar",function(){i._onResize()})),e("html").hasClass("lt-ie10")&&(this._ltie10=!0),i._stickyNavigationEnabled=site.stickyNavigationEnabled&&!this._ltie9,this.options.overlay===!0?(this.$element.on("click tap",function(e){e.preventDefault(),i._onVehicleSelectorToggle()}),setTimeout(function(){i._loadVehicleSelectorHTML()},3e3)):(this._vehicleSelectorContentLoaded=!0,this._vehicleSelectorVisible=!0,this._vehicleSelectorOverlayLoaded=!0,i._loadVehicleSelector(),i._onResize(!0)),e(t).smartresize(function(){i._onResize(!0)}),i._checkContentLinks()},_checkContentLinks:function(){var t=this;if(t._touchEnabledDevice&&t._$window.width()<=site.breakpoints.small){var i=e(".selectorContentLink",this._$vehicleSelector);e.each(i,function(t,i){var n=e(i),o=n.html();n.replaceWith(e('<a href="'+n.attr("data-href")+'" class="selectorContentLink TargetLinks" tabindex="-1" data-href="'+n.attr("data-href")+'" data-target="'+n.attr("data-target")+'">'+o+"</div>"))}),e(".TargetLinks",t.$element).TargetLinks("setupListener")}},_onResize:function(i){var n=this;if(n._vehicleSelectorVisible===!0){var o=e(".headerWrapper").offset().top-e(t).scrollTop()+e(".headerWrapper").outerHeight();n.options.overlay===!0&&(e("#vehicleSelectorOverlay").css({top:o}),e(".VehicleSelector").css({"padding-bottom":o}));var s=0,r=0;e(".VehicleSelectorWrapper",this._$vehicleSelector).removeClass("longLinks"),jQuery.each(e(".vehicleSelectorButtons span",this._$vehicleSelector),function(t,i){r=e(i).outerHeight(),r>s&&(s=r)}),s>20?e(".VehicleSelectorWrapper",this._$vehicleSelector).addClass("longLinks"):e(".VehicleSelectorWrapper",this._$vehicleSelector).removeClass("longLinks"),n._recalculateVehicleHeights(),i===!0&&(setTimeout(function(){n._onResize(!1)},50),setTimeout(function(){n._onResize(!1)},100)),this._checkContentLinks()}},_loadVehicleSelectorHTML:function(){var t=this;null===this._vehicleSelectorContentLoaded&&e.ajax({type:"GET",url:t.$element.attr("href"),dataType:"html"}).done(function(i){t._vehicleSelectorContentLoaded=e(".VehicleSelector",i).html();var n=e(t._vehicleSelectorContentLoaded),o=e("span[data-picture]",n),s=[];e.each(o,function(i,n){var o=e(n),r=e("> span",o),a=null;e.each(r,function(i,n){var o=e(n),s=o.attr("data-media");"undefined"!=typeof s&&(s=s.substring(12).slice(0,-3),t._windowWidth>=s&&(a=o))}),null!==a&&s.push(a.attr("data-src"))}),t._preloadImages(s),t._loadVehicleSelector()})},_onVehicleSelectorToggle:function(){var i=this;if(i._fadeOutOverlayDeferred=e.Deferred(),this._vehicleSelectorVisible===!0)i._removeKeyboardNavigation(),e(".MainNavigation .primaryNav > ul").removeClass("activeOverlay"),this.$element.parent().removeClass("activeOverlay"),e(t).trigger("overlayClosed"),i._vehicleSelectorVisible=!1,this._modelSelectorVisible===!1?(i._fadeOutOverlayDeferred.done(function(){e("html").removeClass("withVehicleSelector").height("auto"),e(t).width()>site.breakpoints.medium&&!i._stickyNavigationEnabled&&site.utils.scrollTo(0)}),i._modelSelectorVisible=!1,i._fadeOutOverlay()):(i._fadeOutOverlayDeferred.done(function(){e(t).width()>site.breakpoints.medium&&!i._stickyNavigationEnabled?site.utils.scrollTo(0,800,function(){e("html").height("auto")}):e("html").height("auto"),e("html").removeClass("withVehicleSelector").height("auto"),i._$modelSelector.off("onClose"),i._$modelSelector.ModelSelector("destroy"),i._$modelSelector.html("")}),this._$modelSelector.transition({opacity:"0"},400,"ease",function(){i._fadeOutOverlay()}));else{e("html").height("auto"),null===i._vehicleSelectorContentLoaded&&e.ajax({type:"GET",url:i.$element.attr("href"),dataType:"html"}).done(function(t){i._vehicleSelectorContentLoaded=e(".VehicleSelector",t).html(),i._loadVehicleSelector()});var n=e(t).scrollTop();0!==n&&e(t).width()>site.breakpoints.medium&&!i._stickyNavigationEnabled?e("body, html").stop().animate({scrollTop:0},800,"easeOutSine",function(){i._createOverlay()}):i._createOverlay()}},_createOverlay:function(){var i=this,n=e(".headerWrapper").offset().top+e(".headerWrapper").outerHeight();e("html").addClass("withVehicleSelector"),e(t).trigger("resize"),i._vehicleSelectorVisible=!0,e(".MainNavigation .primaryNav > ul").addClass("activeOverlay"),i.$element.parent().addClass("activeOverlay"),e(t).trigger("overlayOpened"),i._ltie10===!0&&e("html").height(3e3),e("body").append('<div id="vehicleSelectorOverlay" class="overlay" style="display:none; top:'+n+'px; z-index:9"></div>'),i.options.overlay===!0&&i._fadeInOverlay(),null!==i._vehicleSelectorContentLoaded&&i._loadVehicleSelector()},_fadeInOverlay:function(){var t=this;e("html").addClass("noScroll"),this._ltie9===!0?e("#vehicleSelectorOverlay").fadeIn(200,function(){t._vehicleSelectorOverlayLoaded=!0,t._loadVehicleSelector()}):e("#vehicleSelectorOverlay").css({opacity:"0"}).show().transition({opacity:"1"},200,"ease",function(){t._vehicleSelectorOverlayLoaded=!0,t._loadVehicleSelector()})},_fadeOutOverlay:function(){var t=this;e("html").removeClass("noScroll"),this._ltie9===!0?e("#vehicleSelectorOverlay").fadeOut(400,function(){t._fadeOutOverlayComplete()}):e("#vehicleSelectorOverlay").transition({opacity:"0"},400,"ease",function(){t._fadeOutOverlayComplete()})},_fadeOutOverlayComplete:function(){var i=this;i._unbindEvents(),e("#vehicleSelectorOverlay").remove(),i._vehicleSelectorVisible=!1,i._modelSelectorVisible=!1,i._fadeOutOverlayDeferred.resolve(),e(t).trigger("resize")},_loadVehicleSelector:function(){var i=this;if(this._vehicleSelectorOverlayLoaded===!0&&null!==this._vehicleSelectorContentLoaded){if(this._vehicleSelectorOverlayLoaded=!1,this.options.overlay===!0){var n=e("html").hasClass("lightTheme")?"light":"dark";e("#vehicleSelectorOverlay").html('<div class="VehicleSelector '+n+'">'+this._vehicleSelectorContentLoaded+"</div>"),t.richsponsiveImage(),e(".headingLinear",e("#vehicleSelectorOverlay")).Headings()}this._$vehicleSelector=e(".VehicleSelector"),this._$vehicleSelector.waitForImages(function(){e(t).trigger("resize"),i._onResize()});var o=e(".BazaarVoiceRating",i._$vehicleSelector);o.length>0&&(i._$vehicleSelector.addClass("hasRatings"),o.BazaarVoiceRating()),e(".selectorContentLink",this._$vehicleSelector).on("click tap",function(e){i._touchEnabledDevice||e.preventDefault()}),this.options.overlay===!0&&(this._launchVehicleSelector(),i._addKeyboardNavigation())}},_recalculateVehicleHeights:function(){var t=0,i=0;e(".vehicleWrapper",this._$vehicleSelector).css("height","auto"),jQuery.each(e(".vehicleWrapper",this._$vehicleSelector),function(n,o){i=e(o).height(),i>t&&(t=i)}),this._tallestVehicle=t,e(".vehicleWrapper",this._$vehicleSelector).height(t),this.options.overlay===!0&&0!==e(".VehicleSelector").length&&e("html").height(e("#header").outerHeight()+e(".VehicleSelector").outerHeight())},_detectTapOnOverlay:function(t){var i=t.data.that;(t.target===e("#vehicleSelectorOverlay")[0]||t.target===e(".VehicleSelectorWrapper",i._$vehicleSelector)[0])&&i._onVehicleSelectorToggle()},_launchVehicleSelector:function(){e(i).on("click tap",{that:this},this._detectTapOnOverlay),e("#vehicleSelectorOverlay").on("click tap",function(){});var o=e(".VehicleSelectorWrapper .el",this._$vehicleSelector),s=o.length,r=0,a=null;e(t).trigger("resize"),e(".VehicleSelectorWrapper",this._$vehicleSelector).addClass("showVehicles"),e.support.transition=function(){var e=i.body||i.documentElement,t=e.style,o=t.transition!==n||t.WebkitTransition!==n||t.MozTransition!==n||t.MsTransition!==n||t.OTransition!==n;return o}(),jQuery.support.transition||(this._ltie9===!0?(o.css({opacity:"0",visibility:"visible"}),a=setInterval(function(){o.eq(r).animate({opacity:1},400),r++,r>=s&&clearInterval(a)},200)):(o.css({opacity:"0",visibility:"visible"}).show(),a=setInterval(function(){o.eq(r).transition({opacity:"1"},400,"ease"),r++,r>=s&&clearInterval(a)},200))),this._setupModelSelector(),e(".TargetLinks",this._$element).TargetLinks("setupListener")},_setupModelSelector:function(){var t=this;e(".selectorSlider",".VehicleSelector:not(.inPageVehicleSelector)").append('<div class="ModelSelector dark fontSmooth clearfix"></div>'),e(".chooseModel",".VehicleSelector:not(.inPageVehicleSelector)").on("click tap",function(i){i.preventDefault(),t._openModelSelector(e(this).attr("href"))})},_openModelSelector:function(i){var n=this;n._$modelSelector=e(".ModelSelector",this._$vehicleSelector),n._$modelSelector.ModelSelector({url:i}),n._$modelSelector.on("onClose",function(){n._closeModelSelector()}),n._$modelSelector.on("readyToOpen",function(){setTimeout(function(){n._$modelSelector.off("readyToOpen"),n._modelSelectorVisible=!0;var i=e(t);n._windowWidth=i.width();var o=e("#vehicleSelectorOverlay").scrollTop(),s="";e("html").hasClass("lt-ie10")?(s="-100%",n._slideFromRight===!0&&(s="100%"),e(".selectorSlider",n._$vehicleSelector).animate({left:s},700,function(){e(".VehicleSelectorWrapper",this._$vehicleSelector).addClass("hideVehicles")})):(s="-50%",n._slideFromRight===!0&&(s="50%"),e(".VehicleSelector:not(.inPageVehicleSelector) .selectorSlider",this._$vehicleSelector).transition({x:s},700,"ease",function(){e(".VehicleSelector:not(.inPageVehicleSelector) .VehicleSelectorWrapper",this._$vehicleSelector).addClass("hideVehicles")})),n._windowWidth>site.breakpoints.medium&&0!==o&&e("#vehicleSelectorOverlay").stop().animate({scrollTop:0},0)},100)})},_closeModelSelector:function(){var i=this;e(".VehicleSelectorWrapper",this._$vehicleSelector).removeClass("hideVehicles");var n=e(t);i._windowWidth=n.width();var o=e("#vehicleSelectorOverlay").scrollTop();n.trigger("resize"),setTimeout(function(){e("html").hasClass("lt-ie10")?e(".selectorSlider",this._$vehicleSelector).animate({left:"0%"},700,function(){i._modelSelectorVisible=!1,i._$modelSelector.off("onClose"),i._$modelSelector.ModelSelector("destroy"),i._$modelSelector.html(""),n.trigger("resize")}):e(".selectorSlider",this._$vehicleSelector).transition({x:0},700,"ease",function(){i._modelSelectorVisible=!1,i._$modelSelector.off("onClose"),i._$modelSelector.ModelSelector("destroy"),i._$modelSelector.html(""),n.trigger("resize")}),i._windowWidth>site.breakpoints.medium&&0!==o&&e("#vehicleSelectorOverlay").stop().animate({scrollTop:0},0)},100)},_preloadImages:function(t){e(t).each(function(){e("<img/>")[0].src=this})},_unbindEvents:function(){e(i).off("click tap",this._detectTapOnOverlay),null!==this._$modelSelector&&(this._$modelSelector.off("onClose"),this._$modelSelector.off("readyToOpen"),e("#vehicleSelectorOverlay").off("click tap"))},_addKeyboardNavigation:function(){var t=this,i=t.$element,n=e("#vehicleSelectorOverlay .selectorButton"),o=e("#vehicleSelectorOverlay .selectorButton:first");i.keydown(function(e){return 40===e.keyCode?(o.focus(),!1):void 0}),n.keydown(function(t){var n=e(this);if(40===t.keyCode||39===t.keyCode){var s=n.next(".selectorButton");return s.length>0?s.focus():n.parents(".el").next(".el").find(".selectorButton:first").focus(),!1}if(38===t.keyCode||37===t.keyCode){if(!n.is(o)){var r=n.prev(".selectorButton");return r.length>0?r.focus():n.parents(".el").prev(".el").find(".selectorButton:last").focus(),!1}i.focus()}else if(9===t.keyCode)return!1})},_removeKeyboardNavigation:function(){var t=this,i=t.$element,n=e("#vehicleSelectorOverlay .selectorButton");i.off("keydown"),n.off("keydown")}};jQuery.createComponent("VehicleSelector",o)}(jQuery,window,document),function(e,t){var i={_defaults:{},_loadingContent:!1,_body:"",_model:"",_openAccordions:[],_allOpen:!1,_animatingAll:!1,_$accordion:e(".specDetails",this.$element),init:function(){if(this.$element.hasClass("VehicleSpecificationsV2"))return console.log("boom"),!1;var i=this;this._setupAccordion(),e(".yourModel .model > a",this.$element).equalHeights(),e(t).smartresize(this._onResize),e(".DropdownNav",this.$element).css({position:"absolute"}),e(".DropdownNav > span",this.$element).css({display:"table"}),this.setActiveModel(),this._body=e(".yourModel .bodyStyle ul li.active",this.$element).attr("data-model"),this._model=e(".yourModel .model ul li.active",this.$element).attr("data-model"),e(".yourModel .bodyStyle",this.$element).on("selected",function(t,n){n=e(n),n.data().bodyStyle&&(i._filterByBodyStyle(n.attr("data-body-style"))&&i._loadContent(n.attr("data-body-style"),e(".model ul li.active",i.$element).attr("data-model"),n),e("body").trigger("click tap"))}),e(".yourModel .model",this.$element).on("selected",function(t,n){n=e(n),n.data().model&&(i._model!==n.attr("data-model")&&(i._model=n.attr("data-model"),i._loadContent(e(".yourModel .bodyStyle ul li.active",i.$element).attr("data-body-style"),n.attr("data-model"),n)),e("body").trigger("click tap"));
}),i._filterByBodyStyle(e(".bodyStyle ul li.active",i.$element).attr("data-body-style")),e(".yourModel .DropdownNav",this.$element).on("open",function(){var t=e(this);e(".yourModel .DropdownNav > span",i.$element).not(e("> span",t)).trigger("close")})},setActiveModel:function(){var t;e(".NavigationModelSwitcher .modelList > li").each(function(){e(this).hasClass("active")&&(t=e(this).find("span").text().toLowerCase().replace(/\s/g,""))}),e(".model.DropdownNav > ul > li").each(function(){return e(this).find("span").text().toLowerCase().replace(/\s/g,"")===t?(e(this).addClass("active"),!1):void 0})},_filterByBodyStyle:function(t){if(this._body!==t){this._body=t,e('.model ul li[data-body-style="'+t+'"]',this.$element).show(),e('.model ul li:not([data-body-style="'+t+'"])',this.$element).hide();var i=e(".model ul li.active",this.$element).attr("data-model"),n=e('.model ul li[data-body-style="'+t+'"][data-model="'+i+'"]',this.$element);return 1===n.length?e("a",n).trigger("click"):e("a",e('.model ul li[data-body-style="'+t+'"]',this.$element).first()).trigger("click"),this._model=e(".yourModel .bodyStyle ul li.active",this.$element).attr("data-model"),!0}return!1},_updateVehicleHeader:function(t){e(".specHeaderText",this.$element).text(t)},_loadContent:function(i,n,o){var s=this;if(this._loadingContent===!1){this._loadingContent=!0,setTimeout(function(){s._loadingContent=!1},100),e(".specDetails",this.$element).prepend('<div class="vehicleSpecificationsOverlay">&nbsp;</div>'),e(".vehicleSpecificationsOverlay").transition({duration:400,easing:"ease",opacity:.95});var r;if(r=this.$element.hasClass("new")?e(o).find("a").attr("href"):location.pathname+"?bodyStyle="+encodeURIComponent(i)+"&model="+encodeURIComponent(n),console.log(r.length),r.length<2)return;console.log(r,"is here"),e.ajax({url:r,cache:!1}).done(function(i){if(this.$element.hasClass("new")){var n=e(i).find(".yourModel");this.$element.find(".yourModel").empty().append(n.html()),this.$element.find(".DropdownNav").DropdownNav()}else{i=e(i);var o=e(".VehicleSpecifications .specDetails",i).children(),r=e(".VehicleSpecifications .specHeaderText",i).text();s._updateVehicleHeader(r),s._unbindAccordion(),s._openAccordions=[];var a=e(".specDetails ul li.active a",s.$element),l="";jQuery.each(a,function(t,i){l=e(i).text().replace(/<!--[\s\S]*?-->/g,""),s._openAccordions.push(l)}),1===e(".specHeaderText",i).length&&e(".specHeaderText",s.$element).html(e(".specHeaderText",i).html()),1===e(".price",i).length&&e(".price",s.$element).html(e(".price",i).html()),e(".vehicleSpecificationsOverlay",s.$element).nextAll().remove(),e(".vehicleSpecificationsOverlay",s.$element).after(o),s._$accordion=e(".specDetails",s.$element),e("table:not(.nonResponsive)",s._$accordion).ResponsiveTable(),s._setupAccordion(),s._openAccordions.length>0&&e(".specDetails > ul > li > a").each(function(){e.inArray(e(this).text(),s._openAccordions)>-1&&e(this).parent().addClass("active").find("> div").css({"overflow-y":"hidden",height:"auto"})}),e(".vehicleSpecificationsOverlay",s.$element).transition({opacity:0,duration:400,easing:"ease"},function(){e(this).remove()})}t.richsponsiveImage()}.bind(this))}},_onResize:function(){e(".yourModel .model > a",this.$element).css({height:"auto"}).equalHeights()},_setupAccordion:function(){var i=this;e("> ul > li > div",this._$accordion).css({"overflow-y":"hidden",height:"0"}),i._updateOpenAllText(),e("ul > li > a",this._$accordion).off("click tap").on("click tap",function(n){n.preventDefault();var o=e(this).parent();if(!o.hasClass("animating"))if(e(t).width()<site.breakpoints.small&&e("ul > li.active",i._$accordion).each(function(){e(this).index()!==o.index()&&e(this).find("a").trigger("click")}),o.hasClass("active"))o.addClass("animating"),e("> div",o).css({height:e("> div",o).outerHeight()}).transition({duration:400,height:0,easing:"ease"},function(){o.removeClass("active animating"),0===e("ul > li.active > a",i._$accordion).length&&(i._allOpen=!1,i._updateOpenAllText())});else{o.addClass("active animating");var s=(e("> div",o).clone().removeAttr("style").css({position:"absolute",visibility:"hidden",width:e(".specDetails",this.$element).width()}).addClass("slideClone").appendTo(o),e(".slideClone").outerHeight());e(".slideClone").remove(),e("> div",o).transition({duration:400,height:s,easing:"ease"},function(){this.css({height:"auto"}),o.removeClass("animating"),0===e("ul > li:not(.active) > a",i._$accordion).length&&(i._allOpen=!0,i._updateOpenAllText()),e(t).width()<site.breakpoints.small&&site.utils.scrollTo(o)})}}),e(".backToTop",this.$element).off("click tap").on("click tap",function(t){t.preventDefault(),site.utils.scrollTo(e(".specDetails",this.$element))}),e(".openAll",this.$element).off("click tap").on("click tap",function(t){return t.preventDefault(),i._animatingAll===!0?!1:(i._animatingAll=!0,setTimeout(function(){i._animatingAll=!1},500),i._allOpen===!1?(i._allOpen=!0,e("ul > li:not(.active) > a",i._$accordion).trigger("click")):(i._allOpen=!1,e("ul > li.active > a",i._$accordion).trigger("click")),void i._updateOpenAllText())})},_updateOpenAllText:function(){var t=this;t._allOpen===!1?(e(".openAll .close",this.$element).hide(),e(".openAll .open",this.$element).show()):(e(".openAll .open",this.$element).hide(),e(".openAll .close",this.$element).show())},_unbindAccordion:function(){e("ul > li > a",this._$accordion).off("click tap")}};jQuery.createComponent("VehicleSpecifications",i)}(jQuery,window,document),function(e,t){var i={init:function(){this._setupAjax(),this._setupAccordions(),this._setupOpenAll(),e(".DropdownNav",this.$element).css({position:"absolute"}),e(".DropdownNav > span",this.$element).css({display:"table"}),this._countDropdowns(),e(t).resize(function(){this._resizeOpen()}.bind(this))},_initDropdowns:function(){e(".DropdownNav",this.$element).css({position:"absolute"}),e(".DropdownNav > span",this.$element).css({display:"table"}),this._countDropdowns(),this.$element.find(".DropdownNav").DropdownNav()},_countDropdowns:function(){e(".yourModel",this.$element).attr("data-count",e(".contentWrapper > div",this.$element).length)},_setupOpenAll:function(){this.$element.on("click",".openAll",function(e){e.preventDefault(),this._countOpen()?this._closeAll():this._openAll()}.bind(this))},_countOpen:function(){var t=e(".specDetails > ul > li > a"),i=e(".specDetails > ul > li > a.open");return t.length===i.length?(e(".openAll",this.$element).find(".close").show(),e(".openAll",this.$element).find(".open").hide(),!0):(e(".openAll",this.$element).find(".open").show(),e(".openAll",this.$element).find(".close").hide(),!1)},_openAll:function(){e(".specDetails > ul > li",this.$element).each(function(t,i){e(i).addClass("active");var n=e(i).find("> a"),o=e(i).find("> div");n.addClass("open").removeClass("closed"),o.height(this._getHeight(o)),this._countOpen()}.bind(this))},_closeAll:function(){e(".specDetails > ul > li",this.$element).each(function(t,i){e(i).removeClass("active");var n=e(i).find("> a"),o=e(i).find("> div");n.removeClass("open").addClass("closed"),o.height(0),this._countOpen()}.bind(this))},_resizeOpen:function(){e(".specDetails > ul > li.active",this.$element).each(function(t,i){var n=e(i).find("> div");n.height(this._getHeight(n))}.bind(this))},_getHeight:function(t){var i=0;t.find("> div").each(function(t,n){i+=e(n).outerHeight()}),t.height(i)},_setupAccordions:function(){this.$element.on("click",".specDetails > ul > li > a",function(i){i.preventDefault();var n=e(i.currentTarget),o=n.next();n.hasClass("open")?(n.parent().removeClass("active"),n.removeClass("open").addClass("closed"),o.height(0)):(n.parent().addClass("active"),n.removeClass("closed").addClass("open"),this._getHeight(o),t.innerWidth<720&&site.utils.scrollTo(n)),this._countOpen()}.bind(this))},_setupAjax:function(){this.$element.on("click",".DropdownNav a",function(e){this.$element.find(".dataTableContainer").addClass("loading"),setTimeout(function(){this._doAjax(e.currentTarget)}.bind(this),500)}.bind(this))},_doAjax:function(t){console.log("doing ajax"),e.ajax({url:t.href,success:function(t){var i=e(t).find(".modelBodyStyleWrapper"),n=e(t).find(".dataTableContainer");this.$element.find(".modelBodyStyleWrapper").empty().append(i.html()),this.$element.find(".dataTableContainer").empty().append(n.html()).removeClass("loading"),this._initDropdowns()}.bind(this),error:function(e){console.log(e)}})}};jQuery.createComponent("VehicleSpecificationsV2",i)}(jQuery,window,document),function(e){var t={_player:null,_listen:null,_isAutoplay:"manual",_post:{},_debugFlag:!1,init:function(){var e=this;e.$element.data("autoplay")===!1&&e.$element.find("video").length<1?e._onStart():(e._setPlayer(),e._onReady()),this._debugFlag=site.utils.getUrlParameter("debug-ga")},_setProperties:function(){var e=this,t=e._listen;(e.$element.data("autoplay")===!0||"autoplay"===e._player.getAttribute("autoplay"))&&(e._isAutoplay="autoplay"),e._post={event:"video/VideoPlayer/"+e._isAutoplay,eventLabel:t.currentSrc,eventAction:0}},_updateProperty:function(e,t){var i=this;i._post[e]=t,i._postTags()},_onEvent:function(){var e=this,t=e._listen;t.onpause=function(){t.currentTime!==t.duration&&e._updateProperty("eventAction","pause")},t.onplay=function(){e._updateProperty("eventAction","play")}},_onReady:function(){var e=this,t=e._listen;e._setProperties(),e._onEvent(),t.duration>0?e._onPlaythrough():t.onloadeddata=function(){e._onPlaythrough()}},_onStart:function(){var e=this;e.$element.find(".mejs-play, .mediaOverlayIcon").on("click",function(){e._videoInit()})},_videoInit:function(){var e=this;setTimeout(function(){e.$element.find("video").length>0?(e._setPlayer(),e._onReady(),e._updateProperty("eventAction","play")):e._videoInit()},1e3)},_setPlayer:function(){var e=this;e._player=e.$element.find("video")[0],e._listen=e._player.player.node},_onPlaythrough:function(){var t=this,i=t._listen,n=Math.floor(i.duration),o=[25,50,75,100],s=[],r=[];for(var a in o){var l=o[a];s[l]=Math.floor(n/100*l)}i.ontimeupdate=function(){var n=Math.round(i.currentTime),o=e.inArray(n,s);-1!==o&&-1===e.inArray(o,r)&&(t._updateProperty("eventAction",o+"%"),r.push(o)),i.duration===i.currentTime&&(r=[])},i.onseeked=function(){r=[];var e=Math.round(i.currentTime),n=0;for(var a in o){var l=o[a];if(s[l]>e)break;n=l}n>0&&(r.push(n),t._updateProperty("eventAction",n+"%"))}},_postTags:function(){var t=this;this._debugFlag&&console.log(e.extend({},this._post)),dataLayer.push(t._post)}};jQuery.createComponent("VideoAnalytics",t)}(jQuery,window,document),function(e,t){var i={_defaults:{},_videoID:null,init:function(){var e=[location.protocol,"//",location.host,location.pathname].join("");this._videoID=this.$element.data("video").toString();var t=this._getVideoIDFromURL();if(t&&t.toString()===this._videoID){if(null!==site.utils.cookieManager.checkForCookie("JDX_VideoLauncher")){var i=site.utils.cookieManager.readCookie("JDX_VideoLauncher");if(null!==i){var n=i.split(",");if(n[0].toString()===this._videoID&&e===n[1])return}}site.utils.cookieManager.createCookie("JDX_VideoLauncher",this._videoID+","+e),null!==site.utils.cookieManager.checkForCookie("VideoLauncher")&&this._launchVideo()}},_getVideoIDFromURL:function(){for(var e=t.location.search.substring(1),i=e.split("&"),n=0;n<i.length;n++){var o=i[n].split("=");if("video"===o[0])return o[1]}return null},_launchVideo:function(){e(t).width()>=site.breakpoints.medium?t.location.href=this.$element.attr("href"):site.utils.isIOS()?t.location.href=this.$element.attr("href"):t.open(this.$element.attr("href"),"_blank")}};jQuery.createComponent("VideoLauncher",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{autoplay:!1,muted:!1,loop:!1,controls:["playpause","progress","current","duration","tracks","volume","fullscreen"],clickToPlayPause:!0,pauseOtherPlayers:!1,customPauseOtherPlayers:!0,disableTracking:!1,aspectRatio:16/9,onReady:function(){},onCanPlay:function(){},ignorePauseEvent:!1,iPhoneUseNativeControls:!0,iPadUseNativeControls:!0,AndroidUseNativeControls:!0},mep:null,_$video:null,_$controls:null,_videoLoaded:!1,_playWhenLoaded:!1,_rewindWhenLoaded:!1,_media:null,_error:!1,_videoType:null,_startLanguage:"zz",_captions:!1,_firstTimePlay:!1,_delayedResize:null,_videoId:null,_isFullScreen:!1,_direction:"ltr",_videoInitiated:!1,_onLoadStartBound:null,_onLoadedDataBound:null,_onCanPlayBound:null,_onPlayBound:null,_onPauseBound:null,_onEndedBound:null,init_rtl:function(){this._direction="rtl"},init:function(){var t=this;t._bindMethods(),t._videoId="VideoPlayer_"+Math.floor(99999*Math.random()),t._$video=e("video",this.$element),0!==t._$video.length?t._setupVideo():(t.$element.data("autoplay")===!0&&t.initVideo(),this.$element.find(".posterImage").on("ResponsiveLinkClicked",function(e,i){"desktop"===i.state&&t.initVideo()})),t.$element.VideoAnalytics()},_bindMethods:function(){this._onLoadStartBound=this._onLoadStart.bind(this),this._onLoadedDataBound=this._onLoadedData.bind(this),this._onCanPlayBound=this._onCanPlay.bind(this),this._onPlayBound=this._onPlay.bind(this),this._onPauseBound=this._onPause.bind(this),this._onEndedBound=this._onEnded.bind(this)},initVideo:function(){this._createVideoTag(),this._setupVideo()},_videoExists:function(){return 0===this._$video.length?!1:!0},_createVideoTag:function(){var t=e("videoplaceholder",this.$element),i=t.clone(),n=i[0].outerHTML;n=n.replace(new RegExp("placeholder","g"),""),n=n.replace(new RegExp("data-data","g"),"data"),n=n.replace(new RegExp("data-type","g"),"type"),n=n.replace(new RegExp("<:","g"),"<"),n=n.replace(new RegExp("</:","g"),"</"),e(".playerWrapper",this.$element).append(n),e(".posterImage",this.$element).hide(),this._$video=e("video",this.$element)},_setupVideo:function(){var i=this;0===this.options.controls.length&&i._$video.removeAttr("controls"),this.options.autoplay===!0&&this._$video.attr("autoplay","true");var n=e("track",this._$video);n.length>0&&n.each(function(){return"undefined"!=typeof e(this).data("autoplay")&&e(this).data("autoplay")===!0?void(i._startLanguage=e(this).attr("srclang")):void 0});var o="100%",s="100%";this.$element.parents(".HeroCarousel, .StoryExtract, .FullFrameCarousel").length&&i._detectHTML5Video()===!0&&(o=640,s=360),i._selectCorrectVideo(),i.mep=new MediaElementPlayer(i._$video,{videoWidth:o,videoHeight:s,enableAutosize:!0,plugins:["flash"],pluginPath:"/resources/public/flash/mediaelement/",flashName:"flashmediaelement.swf",enableKeyboard:!1,pauseOtherPlayers:i.options.pauseOtherPlayers,clickToPlayPause:i.options.clickToPlayPause,keyActions:[],autoRewind:i.options.loop,alwaysShowControls:!1,iPadUseNativeControls:i.options.iPadUseNativeControls,iPhoneUseNativeControls:i.options.iPhoneUseNativeControls,AndroidUseNativeControls:i.options.AndroidUseNativeControls,features:i.options.controls,autosizeProgress:!0,startVolume:.8,startLanguage:i._startLanguage,toggleCaptionsButtonWhenOnlyOne:!0,success:function(n,o,s){i._addMediaOverlay(),i._media=n,site.utils.isIOS()&&(n.player=s),n.addEventListener("loadstart",i._onLoadStartBound),n.addEventListener("loadeddata",i._onLoadedDataBound),n.addEventListener("canplay",i._onCanPlayBound),n.addEventListener("play",i._onPlayBound),n.addEventListener("pause",i._onPauseBound),n.addEventListener("ended",i._onEndedBound),i.$element.addClass("paused"),i._adjustControlsState(),i.options.muted===!0&&i.mute(!0),i.options.autoplay===!1&&e(".mejs-poster",i.$element).on("click tap",function(){i.play()}),i.options.onReady(n),setTimeout(function(){e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize")},200),i._addKeyboardNavigation(),i._videoInitiated=!0},error:function(){e(".me-cannotplay",i.$element).html(e(".fallbackImage",i.$element));var n=e("[data-picture-ignore]",this.$element);site.utils.loadIgnoredResponsiveImages(n),i._error=!0,e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize")}}),i._setFullScreenInGallery(),e(t).on("VideoPlayerPause",function(e,t){null===t.videoid||i.options.ignorePauseEvent||t.videoid!==i._videoId&&i.pause()}),e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize")},_adjustControlsState:function(){var t=this;t._$controls=e(".mejs-controls",t.$element).mouseenter(function(){t.mep.options.alwaysShowControls=!0}).mouseleave(function(){t.mep.options.alwaysShowControls=!1})},_selectCorrectVideo:function(){var i=e("source",this.$element),n=e(t).width(),o=null;e.each(i,function(t,i){o=e(i);var s="";s=n>1280?o.data("1080"):n>854?o.data("720"):n>640?o.data("480"):o.data("360"),o.attr("src",s)})},_onLoadStart:function(){e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize"),setTimeout(function(){e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize")},300),setTimeout(function(){e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize")},500),setTimeout(function(){e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize")},1e3)},_onLoadedData:function(){var e=this;e._videoLoaded=!0,e._$video.css({visibility:"visible"})},_onCanPlay:function(){this._detectHTML5Video()&&(e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize"),"rtl"===this._direction&&e(".mejs-captions-layer",this.$element).attr("dir","rtl"),this.options.autoplay===!0?this._rewindWhenLoaded===!0?this.rewind():this._playWhenLoaded===!0&&this.play():this._rewindWhenLoaded===!0?this.rewind():this._playWhenLoaded===!0&&this.play()),this._$video.css({visibility:"visible"}),this.options.onCanPlay(this._media)},_onPlay:function(){this.options.customPauseOtherPlayers&&e(t).trigger("VideoPlayerPause",{videoid:this._videoId}),e(t).trigger("HeroCarouselForceResize"),e(t).trigger("resize"),this.$element.trigger("onPlay"),this.$element.removeClass("paused"),this.$element.removeClass("finished"),this._firstTimePlay===!1&&(this._firstTimePlay=!0,this.options.disableTracking===!1&&site.tracking.video_play(this.$element.data("title")))},_onPause:function(){this.$element.trigger("onPause"),this.$element.addClass("paused")},_onEnded:function(){return this.$element.trigger("videoEnded"),this.options.disableTracking===!1&&site.tracking.video_ended(this.$element.data("title")),this.options.loop!==!1?void this.play():(this.$element.addClass("finished"),void(this._$video[0].player.isFullScreen===!0&&this._$video[0].player.exitFullScreen()))},isInitiated:function(){return this._videoInitiated},mute:function(e){this._error===!1&&this._$video[0].player.setMuted(e)},play:function(){if(this._videoExists()===!0&&this._error===!1){if(this._videoLoaded===!1)return void(this._playWhenLoaded=!0);this._playWhenLoaded=!1,this._$video[0].player.play()}},pause:function(e){if(this._videoExists()===!0){var t=e?e.data.that:this;t._error===!1&&(t._playWhenLoaded=!1,t._$video[0].player.pause())}},rewind:function(){if(this._videoExists()===!0&&this._error===!1){if(this._videoLoaded===!1)return void(this._rewindWhenLoaded=!0);this._rewindWhenLoaded=!1,this.setCurrentTime(0)}},setCurrentTime:function(e){this._videoExists()===!0&&this._error===!1&&this._$video[0].player.setCurrentTime(e)},canBeResumed:function(){return this._videoExists()===!0?null===this._media?!1:this._media.paused===!0&&this._videoLoaded===!0:void 0},setVolume:function(e){this._videoExists()===!0&&(e/=100,this._$video[0].player.setVolume(e))},getVolume:function(){if(this._videoExists()===!0){var e=this._$video[0].player.getVolume();return 100*e}return 0},_addMediaOverlay:function(){var t=this;t._removeMediaOverlay();var i=e('<div class="mediaOverlay mediaOverlayVideo"><div class="mediaOverlayBg"></div><div class="mediaOverlayIcon"></div></div>');e(".mejs-overlay-play",t.$element).append(i)},_removeMediaOverlay:function(){var t=this;e(".mediaOverlay",t.$element).remove()},_destroy:function(){var t=this;t._media&&(t._media.removeEventListener("loadstart",this._onLoadStartBound),t._media.removeEventListener("loadeddata",this._onLoadedDataBound),t._media.removeEventListener("canplay",this._onCanPlayBound),t._media.removeEventListener("play",this._onPlayBound),t._media.removeEventListener("pause",this._onPauseBound),t._media.removeEventListener("ended",this._onEndedBound)),e(".mejs-poster",t.$element).off("click tap")},_detectHTML5Video:function(){var e=this,t=i.createElement("video");return t.canPlayType&&t.canPlayType('video/webm; codecs="vp8, vorbis"')?(e._videoType="webm",!0):t.canPlayType&&t.canPlayType("video/mp4").replace(/no/,"")?(e._videoType="mp4",!0):(e._videoType="flash",e.$element.addClass("flash"),!1)},_addKeyboardNavigation:function(){var t=this,i=e(".mejs-container",t.$element),n=e(".mediaOverlay",t.$element),o=e(".mejs-controls",i),s=e(".mejs-playpause-button button",o),r=e(".mejs-time-rail",o),a=e(".mejs-captions-button button",o),l=e(".mejs-volume-button button",o),c=e(".mejs-volume-button .mejs-volume-slider",o),u=e(".mejs-fullscreen-button button",o),d=t._$video[0].player;n.attr("tabindex","0"),r.attr("tabindex","0"),n.keydown(function(t){(13===t.keyCode||32===t.keyCode)&&(t.preventDefault(),e(this).trigger("click"),setTimeout(function(){s.focus()},1))}),s.keydown(function(t){(13===t.keyCode||32===t.keyCode)&&(t.preventDefault(),e(this).trigger("click"),setTimeout(function(){n.focus()},1))}),r.keydown(function(e){if((37===e.keyCode||39===e.keyCode)&&(e.preventDefault(),!isNaN(d.media.duration)&&d.media.duration>0)){var t=0;t=37===e.keyCode?Math.max(d.media.currentTime-d.options.defaultSeekBackwardInterval(d.media),0):Math.min(d.media.currentTime+d.options.defaultSeekForwardInterval(d.media),d.media.duration),d.media.setCurrentTime(t)}}),a.keydown(function(t){(13===t.keyCode||32===t.keyCode)&&(t.preventDefault(),e(this).trigger("click"))}),l.focus(function(){c.show()}),l.blur(function(){c.hide()}),l.keydown(function(e){if(38===e.keyCode||40===e.keyCode){e.preventDefault();var t;t=38===e.keyCode?Math.min(d.media.volume+.1,1):Math.max(d.media.volume-.1,0),d.media.setVolume(t)}}),u.keydown(function(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),"undefined"!=typeof d.enterFullScreen&&(d.isFullScreen?d.exitFullScreen():d.enterFullScreen()))})},_setFullScreenInGallery:function(){var t=this,n=e(".mejs-container",t.$element),o=e(".mejs-controls",n),s=e(".mejs-fullscreen-button button",o);e("html").is(".ie10, .lt-ie10")&&0!==t.$element.parents(".Fullscreen").length&&(s.on("click",function(){t._toggleFullScreenIE()}),s.keydown(function(e){(13===e.keyCode||32===e.keyCode)&&t._toggleFullScreenIE()}),e(i).keydown(function(e){27===e.keyCode&&t._removeFullScreenIE()}))},_applyFullScreenIE:function(){var i=this;i.$element.parents(".Fullscreen").addClass("fullScreenVideo"),i.$element.css({height:e(t).height(),width:e(t).width()}),i._isFullScreen=!0},_removeFullScreenIE:function(){var e=this;e.$element.parents(".Fullscreen").removeClass("fullScreenVideo"),e.$element.css({height:"auto",width:"auto"}),e._isFullScreen=!1},_toggleFullScreenIE:function(){var e=this;e._isFullScreen===!1?e._applyFullScreenIE():e._removeFullScreenIE()}};jQuery.createComponent("VideoPlayer",n)}(jQuery,window,document),function(e,t){var i={_aspectRatio:16/9,init:function(){var i=this;i._onResize(),e(t).resize(function(){i._onResize()})},_onResize:function(){var t=this;0!==e(".VideoPlayerGalleryAsset").length&&t._setVideoWrapperDimensions()},_setVideoWrapperDimensions:function(){var i=this,n=e(".VideoPlayer",i.$element),o=e(".fullscreenHeader"),s=e(".fullscreenFooter"),r=e(t).width()-(parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10)),a=e(t).height()-(o.height()+s.outerHeight()+parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10)),l=r/a,c=e(".posterImage > span, .playerWrapper");i._aspectRatio>l?c.width(r):c.width(a*i._aspectRatio)},_destroy:function(){}};jQuery.createComponent("VideoPlayerGalleryAsset",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},uiSelectors:{addThisMenu:".addThisMenu",socialSharing:".SocialSharing"},socialOpenTimer:null,_rtl:!1,init_rtl:function(){this._rtl=!0},init:function(){this._initSocialSharing()},_initSocialSharing:function(){var i=this;e.each(e(".videoThumbnail",this.$element),function(t,i){var n=e(i),o=n.data("sharing-url");"undefined"!=typeof o&&e(".SocialSharing",n).attr("data-url",o)}),i.ui("addThisMenu").each(function(){i._rtl===!0?e(this).find(".SocialSharing").css({right:0-e(this).find(".SocialSharing").width()}):e(this).find(".SocialSharing").css({left:0-e(this).width()})}),i.ui("addThisMenu").on("closeSocialSharing",function(){i.socialOpenTimer&&clearTimeout(i.socialOpenTimer)}),i.ui("addThisMenu").on("openSocialSharing",function(){var n=this;i.ui("addThisMenu").not(n).find(".SocialSharing").SocialSharing("closeMenu"),e(n).find(".SocialSharing").SocialSharing("updateSharingURL"),i.socialOpenTimer&&t.clearTimeout(i.socialOpenTimer),i.socialOpenTimer=t.setTimeout(function(){e(n).find(".SocialSharing").SocialSharing("closeMenu")},7e3)})},_destroy:function(){}};jQuery.createComponent("VideoThumbnails",i)}(jQuery,window,document),function(e,t){var i={uiSelectors:{videoPlayer:".VideoPlayer",video:".VideoPlayer video",ctaContainer:".ctaContainer",posterImage:".videoContainer > span"},init:function(){this.ui("video").attr("preload","none"),this.ui("video").removeAttr("controls"),this.ui("videoPlayer").VideoPlayer({autoplay:!1,loop:!1,AndroidUseNativeControls:!1}),this._resizeVideoCover(),this._playOrPauseVideo(),this._videoOnEnded(),this._videoOnPlay(),this._videoOnPause(),this.ui("video").get(0).player.tracks.length>0&&this.ui("video").get(0).player.setTrack(this.ui("video").get(0).player.tracks[0].srclang)},_showSubtitles:function(){e(".mejs-captions-position",this.$element).fadeIn()},_hideSubtitles:function(){e(".mejs-captions-position",this.$element).fadeOut()},_resizeVideoCover:function(){e(t).resize(function(){e(".videoCover").css("height",.3125*e(".videoCover").width()),e(".mejs-captions-position",this.$element).css({top:this.ui("video").height()-this.$element.height()})}.bind(this))},_playOrPauseVideo:function(){e(".videoOverlay, .ctaContainer",this.$element).click(function(e){this.ui("video").get(0).paused?(e.preventDefault(),this.ui("video").get(0).play(),this._showSubtitles()):(this.ui("video").get(0).pause(),this._hideSubtitles())}.bind(this))},_videoOnEnded:function(){this.ui("video").get(0).addEventListener("ended",function(){this.ui("ctaContainer").removeClass("videoPlaying")}.bind(this))},_videoOnPlay:function(){this.ui("video").get(0).addEventListener("play",function(){(site.utils.isIe()||site.utils.isMsEdge())&&this.ui("posterImage").hide(),this.ui("ctaContainer").addClass("videoPlaying")}.bind(this))},_videoOnPause:function(){this.ui("video").get(0).addEventListener("pause",function(){this.ui("ctaContainer").removeClass("videoPlaying")}.bind(this))}};jQuery.createComponent("VideoWithText",i)}(jQuery,window,document),function(e,t){var i={_defaults:{},_ajaxURL:function(){return site.localEnv?"/_bin/VinRecall/"+this.ui("vinField").val().toLowerCase()+".json":t.location},_results:[],events:{"click tap .searchAgain":"_searchAgain","submit .search form":"_searchSubmit"},uiSelectors:{borderContainer:".borderContainer",responseNoResults:".responseNoResults",responseProblem:".responseProblem",responses:".responses",responseInvalid:".responseInvalid",results:".results",resultsList:".resultsList",resultsTemplate:".resultsTemplate",resultsHeader:".results .headings",vinField:"#vinField",vinError:".vinError",searchBtn:"#searchBtn",vinLink:".vinLink",vinInfo:".vinInfo"},init:function(){var e=this;this._enableVinInfo(),this._toggleSearchButton(),this._hidePhoneNumbers(),this.ui("vinField").on("keyup paste blur focus",function(){setTimeout(function(){e._toggleSearchButton()},500)})},_searchAgain:function(){site.utils.scrollTo(this.$element)},_searchSubmit:function(){var e=this,t=this.ui("vinField").val();t&&t!==this.ui("vinField").attr("placeholder")?(this.ui("vinField").removeClass("error"),this.ui("vinError").hide(),e._getSearchResults(t)):(this.ui("vinField").addClass("error"),this.ui("vinError").show())},_getSearchResults:function(t){var i=this;i._hideErrors(),this._clearResultsList(),e.ajax({type:"GET",url:i._ajaxURL(),data:{view:"vinRecallQuery",vin:t},dataType:"json",beforeSend:function(){i._toggleUI(!0)},statusCode:{200:function(t){if(!i._isLocalTests(t)){if(204===t.error)return void i._showResultsError(t);i._results=t.results,e("p",i.ui("resultsHeader")).html(t.totalRecalls),e("h3",i.ui("resultsHeader")).html(t.model+" "+t.vehicle),e("h5",i.ui("resultsHeader")).show().html(t.vin),i._renderResults(),i._animateDown()}},400:function(e){i._showInvalidVinError(e)}}}).fail(function(e){400===e.status||204===e.status||site.localEnv||i._showServerError(e.responseText)}).always(function(){i._toggleUI(!1)})},_renderResults:function(){var t,i,n=this,o="";this._clearResultsList(),this._hideErrors();for(t in n._results)i="","undefined"!=typeof n._results[t].date&&(i=this.ui("resultsTemplate").html().replace(/%NUMBER%/,n._results[t].number),i=i.replace(/%MANUFACTURERNUMBER%/,n._results[t].manufacturerRecallNumber),i=i.replace(/%DATE%/,n._results[t].date),i=i.replace(/%RECALLDESC%/,n._results[t].recallDesc),i=i.replace(/%SAFETYDESC%/,n._results[t].safetyDescription),i=i.replace(/%REPAIRDESC%/,n._results[t].repairDesc),i=i.replace(/%STATUS%/,n._results[t].status),o+=i);this.ui("resultsList").html(o),this._hidePhoneNumbers(),e(".ResponsiveLink").ResponsiveLink()},_hidePhoneNumbers:function(){e("a[href^='tel:']",this.$element).addClass("phonenumber").off("click tap").on("click tap",function(i){e(t).width()>=site.breakpoints.medium&&i.preventDefault()})},_enableVinInfo:function(){var t=this.ui("vinLink").html();this.ui("vinLink").replaceWith(e('<a href="#" class="vinLink secondaryLinkWithStyle">'+t+"</a>")),this.registerEvent(this,"click tap .vinLink","_toggleVinInfo")},_toggleVinInfo:function(t){var i=e(t.target);this.ui("vinInfo").is(":animated")||(i.toggleClass("active"),e(".vinInfo",this.$element).slideToggle())},_animateDown:function(){this.ui("results").show(),site.utils.scrollTo(this.ui("results"))},_getYearsForVehicle:function(t){var i=this;e.ajax({type:"GET",url:i._yearsURL(),data:{view:"vinRecallYearsForVehicle",vehicle:this.ui("vehicleSelect").val()},dataType:"json",statusCode:{200:function(n){if("undefined"!=typeof n.error)return void(204===n.error?i._showResultsError():i._showServerError());var o="";for(var s in n)o+='<option value="'+s+'">'+n[s]+"</option>";e("option:not(:first)",i.ui("yearSelect")).remove(),e("option",i.ui("yearSelect")).after(o),t()}}}).fail(function(){i._showServerError()})},_toggleSearchButton:function(){e.trim(this.ui("vinField").val()).length>0&&e.trim(this.ui("vinField").val())!==e.trim(this.ui("vinField").attr("placeholder"))?this.ui("searchBtn").removeAttr("disabled").removeClass("disabled"):(this.ui("searchBtn").attr("disabled","disabled").addClass("disabled"),this.ui("vinField").removeClass("error"),this.ui("responseInvalid").hide())},_clearResultsList:function(){this.ui("resultsList").html("")},_hideErrors:function(){this.ui("responseNoResults").hide(),this.ui("responseProblem").hide(),this.ui("responses").hide(),this.ui("responseInvalid").hide(),this.ui("results").hide()},_showInvalidVinError:function(t){this.ui("vinField").addClass("error"),e("h3",this.ui("responseInvalid")).html(t.errorTitle),e("p",this.ui("responseInvalid")).html(t.errorMessage),this.ui("responseInvalid").show(),this._hidePhoneNumbers()},_showResultsError:function(t){var i=this;e("h3",i.ui("responseNoResults")).html(t.model+" "+t.vehicle),t.vin?e("h5",this.ui("responseNoResults")).html(t.vin).show():e("h5",this.ui("responseNoResults")).html("").hide(),this.ui("responseNoResults").show(),this.ui("responses").show(),site.utils.scrollTo(this.ui("responses")),this._hidePhoneNumbers()},_showServerError:function(t){var i={errorTitle:"Sorry, there seems to be a problem",errorMessage:"Please try again later"};t=t||i,e("h3",this.ui("responseProblem")).html(t.errorTitle),e("h5",this.ui("responseProblem")).html(t.errorMessage),this.ui("responseProblem").show(),this.ui("responses").show(),site.utils.scrollTo(this.ui("responses")),
this._hidePhoneNumbers()},_toggleUI:function(e){e?(this.ui("borderContainer").toggleWrapper(!0,"#ddd"),this.ui("vinField").attr("disabled","disabled")):(this.ui("borderContainer").toggleWrapper(!1),this.ui("vinField").removeAttr("disabled"))},_isLocalTests:function(e){return site.localEnv?204===e.error?(this._showResultsError(e),!0):400===e.error?(this._showInvalidVinError(e),!0):500===e.error?(this._showServerError(e),!0):!1:!1},_resetSearch:function(){var e=this;e.ui("vinField").val(""),e._toggleSearchButton()}};jQuery.createComponent("VinRecall",i)}(jQuery,window,document),function(e,t,i){var n={_defaults:{expandToWidthOnly:!0,inGallery:!1,ignorePauseEvent:!1},_touchDevice:!1,_onlyItem:!1,_aspectRatio:16/9,_player:null,_waitingAPILoad:!1,_windowWidth:null,_windowHeight:null,init:function(){var i=this;"ontouchstart"in t?this._touchDevice=!0:navigator.msMaxTouchPoints&&(this._touchDevice=!0),this._onlyItem=this.$element.parent().data("only-item"),this._deeplinkedItem=this.$element.parent().data("show"),"undefined"==typeof this._onlyItem&&(this._onlyItem=!1),this._onlyItem===!0||this._deeplinkedItem===!0?(this._addPlayer(1),this._hideCoverImage()):this._touchDevice===!0?(this._addPlayer(0),this._hideCoverImage()):this._bindCoverEvents(),this.onResize(),e(t).on("resize",function(){i.onResize()}),e(t).on("YouTubePlayerLoaded",function(){i._waitingAPILoad&&i._addPlayer(1)}),e(t).on("VideoPlayerPause",function(t,n){null===n.videoid||i.options.ignorePauseEvent||n.videoid!==e(".placeholderVideo iframe",i.$element).attr("id")&&i.pause()})},_addPlayer:function(n){var o=this;if(o._player=null,site.youTubeIframeAPIReady){var s=e(".placeholderVideo",this.$element),r="https:"===i.location.protocol?"https://":"http://",a=r+"www.youtube.com/embed/"+s.data("video-id")+"?autoplay="+n+"&rel=0&showinfo=0&enablejsapi=1&wmode=opaque&iv_load_policy=3&color=white&probably_logged_in=0";navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(a+="&html5=1");var l=s.attr("id")+"Video";e(".placeholderVideo",this.$element).html('<iframe id="'+l+'" type="text/html" width="640" height="360" src="'+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen>'),1===n&&e(t).trigger("VideoPlayerPause",{videoid:l}),o._player=new YT.Player(l,{events:{onStateChange:function(i){var n={},s="";0===i.data&&o.$element.trigger("videoEnded"),2===i.data?(o.options.inGallery===!0&&site.utils.isIOS()&&(e(".placeholderVideo",this.$element).empty(),o._addPlayer()),n=i.target.getVideoData(),s=n.video_id+":"+n.title,i.target.getCurrentTime()!==i.target.getDuration()&&site.tracking.youtube_pause(s)):i.data===YT.PlayerState.PLAYING&&null!==l&&(e(t).trigger("VideoPlayerPause",{videoid:l}),o.$element.trigger("onPlay"),setTimeout(o._onPlayerPercent,1e3,i.target,o),n=i.target.getVideoData(),s=n.video_id+":"+n.title,site.tracking.youtube_play(s))}}}),o._waitingAPILoad=!1}else o._waitingAPILoad=!0,e.getScript("//www.youtube.com/iframe_api");e("body").append('<div class="temp">&nbsp;</div>'),e("iframe").load(function(){e(".temp").remove()})},pause:function(){if(this._player&&this._player.pauseVideo){var e=this._player.getPlayerState();if(e!==YT.PlayerState.PLAYING&&e!==YT.PlayerState.BUFFERING)return;this._player.pauseVideo()}},play:function(){this._player?this._player.playVideo():(this._addPlayer(1),this._hideCoverImage())},getVolume:function(){return this._player&&this._player.getVolume?this._player.getVolume():void 0},setVolume:function(e){this._player&&this._player.setVolume&&this._player.setVolume(e)},_onPlayerPercent:function(e,t){if(e.getPlayerState()===YT.PlayerState.PLAYING){var i=e.getDuration()-e.getCurrentTime()<=1.5?1:(Math.floor(e.getCurrentTime()/e.getDuration()*4)/4).toFixed(2);if(!e.lastP||i>e.lastP){var n=e.getVideoData(),o=n.video_id+":"+n.title;e.lastP=i,i>0&&(site.tracking.youtube_progress(o,100*i),100*i===100&&delete e.lastP)}1!==e.lastP&&setTimeout(t._onPlayerPercent,1e3,e,t)}},onResize:function(t){var i=this;if(i._windowSizeChanged()===!0||t===!0){e(".playerWrapper",this.$element).css({height:"auto",width:"auto"});var n=this.$element.width(),o=this.$element.height(),s=Math.ceil(n/this._aspectRatio),r="auto";this.options.expandToWidthOnly===!1&&s>o&&(s=o,r=Math.ceil(o*this._aspectRatio)),e(".playerWrapper",this.$element).css({height:s,width:r})}},_windowSizeChanged:function(){var i=this,n=e(t).width(),o=e(t).height(),s=i._windowWidth,r=i._windowHeight;return i._windowWidth=n,i._windowHeight=o,n!==s||o!==r},_hideCoverImage:function(){e(".playerWrapper > a",this.$element).hide()},_bindCoverEvents:function(){var t=this;e(".playerWrapper > a",this.$element).off("click tap").on("click tap",function(e){e.preventDefault(),e.stopPropagation(),t._addPlayer(1),t._hideCoverImage()})},setIgnorePauseEvent:function(e){this.options.ignorePauseEvent=e},_destroy:function(){this._player=null,this._waitingAPILoad=!1,e(".playerWrapper > a",this.$element).off("click tap"),e("iframe",this.$element).remove(),this._touchDevice===!1&&e(".playerWrapper > a",this.$element).show()}};jQuery.createComponent("YouTubePlayer",n)}(jQuery,window,document),("undefined"==typeof console||"undefined"==typeof console.log)&&(console={},console.log=function(){});var site={scrollPosition:0,scrollDirection:"up",youTubeIframeAPIReady:!1,fullScreenMode:!1,rtl:!1,inXPM:!1,breakpoints:{small:740,medium:900,wider:1e3,current:null},colours:{error:"#f2681d"},stickyNavigationTransitionPoint:200,stickyNavigationEnabled:!1,localEnv:"localhost"===window.location.hostname?!0:!1,cookiesAccepted:!1,googleMapsAPIKey:"",googleMapsClientId:"gme-jaguarlandrover",init:function(){if($("html").hasClass("lt-ie9")){var e=document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet.cssText=":before,:after{content:none !important",e.appendChild(t),setTimeout(function(){e.removeChild(t)},0)}10===document.documentMode&&(document.documentElement.className+=" ie10"),"undefined"!=typeof window.Tridion&&site.utils.isPageInIframe()&&(site.inXPM=!0,setTimeout(function(){"undefined"==typeof window.Tridion.Web.UI.SiteEdit&&(site.inXPM=!1)},1e3)),(window.ActiveXObject||"ActiveXObject"in window)&&$("html").addClass("ie"),site.utils.isMsEdge()&&$("html").addClass("ms-edge"),site.utils.isMobileDevice()&&$("html").addClass("touchCapability"),$("html").hasClass("rtl")&&(site.rtl=!0),Date.now=Date.now||function(){return+new Date},this.initEnquire(),$(".HeroCarousel").HeroCarousel(),$(".ComparisonSlider").ComparisonSlider(),window.richsponsiveImage(),$(".ResponsiveLink").ResponsiveLink(),$(".TargetLinks").TargetLinks(),$("body").FocusSwitcher(),$(".NotificationBar").NotificationBar();var i=$("#header");site.stickyNavigationEnabled="sticky"===i.attr("data-nav-type"),i.Header(),$(".MainNavigation").MainNavigation(),$(".SubNavigation").SubNavigation(),$(".DropdownNav").DropdownNav(),$(".InPageSubNavigation").InPageSubNavigation(),$(".InPageNavigation").InPageNavigation(),$(".DropdownSelect").DropdownSelect(),$(".ShoppingToolsMenu").ShoppingToolsDropdown({desktopMenuButton:".ShoppingToolsButton > a",desktopMenu:".ShoppingToolsDropdown"}),$(".SlideOutMenu").SlideOutMenu({deviceMenuButton:".MainNavigation .MoreButton > a, .SlideOutMenu .MoreButton > a"}).on("swiperight",function(e){e.preventDefault(),$(this).trigger("swipeMovement","right")}).on("movestart",function(e){(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&e.preventDefault()}),$(".IgniteBar").IgniteBar(),$(".IgniteBarDevice").IgniteBarDevice(),$(".NavigationModelSwitcher").NavigationModelSwitcher({toggleButton:".navigationModelSwitcherButton"});var n=$(".VehicleSelector:not(.inPageVehicleSelector)"),o=$(".VehicleSelector.inPageVehicleSelector"),s=$(".ModelSelector"),r=!0;1===n.length&&(r=!1,n.VehicleSelector({overlay:!1})),0!==o.length&&o.VehicleSelector({overlay:!1}),r===!0&&0===$(".ModelSelector:not(.inPageModelSelector)").length&&$(".MainNavigation .vehicles a").VehicleSelector({overlay:!0}),s.ModelSelector({overlay:!1}),n=null,s=null,$(".ReadyToGoBar").ReadyToGoBar(),$(".ScrollDown").ScrollDown(),$(".SidebarImage").SidebarImage(),$(".SameSizeCarousel").SameSizeCarousel(),$(".DualFrameCarousel").DualFrameCarousel();var a=$(".Article table:not(.nonResponsive), .EngineSpecifications table:not(.nonResponsive), .VehicleSpecifications table:not(.nonResponsive)");a.ResponsiveTable(),$(".TabFilter",this.$element).TabFilter(),$(".FooterNav").FooterNav(),$(".MarketSelector").MarketSelector(),$(".MarketPageSelector").MarketPageSelector(),$(".FleetAndBusinessContacts").FleetAndBusinessContacts(),$(".LanguageSelector").LanguageSelector(),$(".InternationalDealerLocator").InternationalDealerLocator(),$(".InternationalDealerLocatorResults").InternationalDealerLocatorResults(),$(".NationalDealerLocator").NationalDealerLocator(),$(".NationalDealerLocatorError").NationalDealerLocatorError(),$(".InPageDealerLocator").InPageDealerLocator(),$(".NationalDealerLocatorResults").NationalDealerLocatorResults(),$(".VehicleSpecifications").VehicleSpecifications(),$(".VehicleSpecificationsV2").VehicleSpecificationsV2(),$(".SpecificationsAtAGlance").SpecificationsAtAGlance(),$(".AtAGlance").AtAGlance(),$(".StackedBlocks").StackedBlocks(),$(".VideoThumbnails").VideoThumbnails(),$(".Fullscreen").Fullscreen(),$(".SocialSharing").filter(function(){return!$(this).parents(".ComparisonSlider .addThisMenuHolder, .stickyNavSocialSharingContainer").length}).SocialSharing(),$(".FrameSlider").FrameSlider(),$(".Gallery").Gallery(),$(".Quote").Quote(),$(".QuotePlayer").QuotePlayer(),$(".YouTubePlayer").filter(function(){return 0===$(this).parent(".galleryItem").length}).YouTubePlayer(),window.onYouTubeIframeAPIReady=function(){site.youTubeIframeAPIReady=!0,$(window).trigger("YouTubePlayerLoaded")},$(".SearchResults").SearchResults(),$(".FullFrameCarousel").each(function(){var e=$(this);e.parents(".TabbedContainer").length||e.FullFrameCarousel()}),$(".VideoPlayer").filter(function(){return!$(this).parents(".heroItem, .FullFrameCarousel, .StoryExtract, .StoryArticleVideo, .StoryScroller, .VideoWithText").length}).VideoPlayer({autoplay:!1,loop:!1}),site.utils.campaignTrackingPersistance.setTracking("GoogleCampaign",["utm_source","utm_medium","utm_term","keywords","utm_content","utm_campaign"]),$(".VinRecall").VinRecall(),$(".FramedContent").FramedContent(),$(".FullWidthImage").FullWidthImage(),$(".GoogleMap").GoogleMap(),$(".VideoLauncher").VideoLauncher(),$(".SocialFeed").SocialFeed(),$(".SocialStoryStreamHub").SocialStoryStreamHub(),$(".SocialStoryStreamWidget").SocialStoryStreamWidget(),$(".ExperienceCentres").ExperienceCentres(),$(".Vee24").Vee24(),$(".StoryScroller").StoryScroller(),$(".FramedForm").FramedForm(),$(".BazaarVoiceRating").BazaarVoiceRating(),$(".BazaarVoiceReviews").BazaarVoiceReviews(),$(".BazaarVoiceCurations").BazaarVoiceCurations(),$(".OffersContainer").OffersContainer(),$(".HeroTitleBanner").HeroTitleBanner(),$(".Hub").Hub(),$(".HubNavigation").HubNavigation(),$(".ReviewRatingBadge").ReviewRatingBadge(),$(".ReviewsAtAGlance").ReviewsAtAGlance(),$(".ContentBlocksContainer").ContentBlocksContainer(),$(".ToggleLinks").ToggleLinks(),$(".headingLinear").Headings(),$(".DefenderJourneyMap").DefenderJourneyMap(),$(".DefenderJourneyCarousel").DefenderJourneyCarousel(),$(".DefenderJourneyStoryMap").DefenderJourneyStoryMap(),$(".DefenderJourneyStoryDetail").DefenderJourneyStoryDetail(),$(".InteractiveSlider").InteractiveSlider(),$(".TabbedContainer").TabbedContainer(),$(".Hotspots").Hotspots(),$(".GesturedVideoSequence").each(function(){var e=$(this);e.parents(".TabbedContainer").length||e.GesturedVideoSequence()}),$(".UsedCarValuator").UsedCarValuator(),$(".VideoWithText").VideoWithText(),$(".Interior360").each(function(){var e=$(this);e.parents(".TabbedContainer").length||e.Interior360()}),$(".Exterior360").each(function(){var e=$(this);e.parents(".TabbedContainer").length||e.Exterior360()}),$(".Compare").Compare(),$(".CompareTwo").CompareTwo(),$(".Accordion").Accordion(),$(".Selectable").Selectable(),$(".ComparisonTable").ComparisonTable(),$(".KeeComparisonTool").KeeComparisonTool(),$(".KeeComparisonTool").KeeComparisonToolBars(),$(".KeeComparisonTool").KeeComparisonToolAccordion(),$(".EUEmissions").EUEmissions(),$(window).debounce("scroll",function(e){$(window).trigger({type:"throttledScroll",event:e})},250),$(window).smartresize(function(){window.richsponsiveImage()}),$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;site.fullScreenMode=!site.fullScreenMode,e?$("#header, .FooterNav, .IgniteBar").hide():$("#header, .FooterNav, .IgniteBar").show(),$(window).trigger("resize")}),deepLink.init(),$(".InteractiveStory").InteractiveStory()},initEnquire:function(){enquire.register("screen and (min-width: "+window.site.breakpoints.medium+"px)",{match:function(){site.breakpoints.current="large"}}),enquire.register("screen and (min-width: "+(window.site.breakpoints.small+1)+"px) and (max-width: "+(window.site.breakpoints.medium-1)+"px)",{match:function(){site.breakpoints.current="medium"}}),enquire.register("screen and (max-width: "+window.site.breakpoints.small+"px)",{match:function(){site.breakpoints.current="small"}})},gmapsLoaded:function(){var e=$.Event("api:ready");$(".GoogleMap").trigger(e)}};if(window.onpageshow=function(e){e.persisted&&window.location.reload()},"undefined"==typeof dataLayer)var dataLayer={push:function(){}};site.tracking={video_play:function(e){var t={event:"video",action:"play",video_id:e};dataLayer.push(t)},video_ended:function(e){var t={event:"video",action:"complete",video_id:e};dataLayer.push(t)},youtube_play:function(e){var t={event:"youtube",action:"play",label:e};dataLayer.push(t)},youtube_pause:function(e){var t={event:"youtube",action:"pause",label:e};dataLayer.push(t)},youtube_progress:function(e,t){var i={event:"youtube",action:t+"%",label:e};dataLayer.push(i)}},site.utils={_templateCache:{},cookieManager:{checkForCookie:function(e){var t=this,i=t.readCookie(e);return null!==i?!0:!1},readCookie:function(e){var t=document.cookie.split(";");if(t.length<1)return null;for(var i=0;i<t.length;i++){var n=t[i].split("=");if(n[0].replace(/\s/g,"")==e)return n[1]}return null},createCookie:function(e,t,i){var n="";if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),n="; expires="+o.toGMTString()}else n="";document.cookie=e+"="+t+n+"; path=/"},deleteCookie:function(e){var t=this;t.createCookie(e,"",-1)}},geoLocationManager:{isGeoAvailable:function(){var e=this;return e._getIpGeoLocationData(),site.utils.isBreakpointSmall()&&navigator.geolocation?!0:e._isServerGeoLocationAvailable()},getGeoLocation:function(e){var t=this;site.utils.isBreakpointSmall()&&navigator.geolocation?navigator.geolocation.getCurrentPosition(function(i){t._resolveLongLatLocation(i.coords.latitude,i.coords.longitude,e)},function(){t._getIpGeoLocationData(e)}):t._getIpGeoLocationData(e)},getNativeGeoLocation:function(e){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(i){t._resolveLongLatLocation(i.coords.latitude,i.coords.longitude,e)},function(){e({error:"Geo location permission denied."})})},_getIpGeoLocationData:function(e){var t="//js.maxmind.com/js/apis/geoip2/v2.0/geoip2.js";$.getScript(t,function(){geoip2.country(function(t){e({country_code:t.country.iso_code,country_name:t.country.names.en})},function(e){console.log(e)})})},_resolveLongLatLocation:function(e,t,i){var n=this;$.ajax({url:window.location.protocol+"//maps.googleapis.com/maps/api/geocode/json?address="+e+","+t+"&key="+site.googleMapsAPIKey+"&sensor=false",success:function(o){if(o.results.length>0){var s={};s.longitude=t,s.latitude=e;for(var r in o.results)"postal_code"===o.results[r].types[0]&&(s.city=o.results[r].formatted_address),"country"===o.results[r].types[0]&&(s.country_code=o.results[r].address_components[0].short_name,s.country_name=o.results[r].address_components[0].long_name);i(s)}else n._getServerGeoLocationData(i)}})}},scrollTo:function(e,t,i,n,o){var s=this,r=0;t="number"!=typeof t?800:t,i="function"!=typeof i?null:i,n="string"!=typeof n?"easeOutSine":n,"number"==typeof e?r=e:($targetEl=e||$("body"),r=$targetEl.offset().top),o!==!0&&(r-=s.getStickyNavHeight(r)),$("html, body").stop().animate({scrollTop:r},t,n).promise().done(i)},checkDeepLink:function(e){var t=this,i=!1,n=2.5,o=e.indexOf("#");if(o+1<e.length&&-1!=o){var s=e.substring(o,e.length);if(1===$(s).length){var r=$(s).offset().top/n;t.scrollTo($(s),r,null,"easeStartFastEndSlow"),i=!0}else console.error("Could not find deep link element with id: "+s)}return i},getStickyNavHeight:function(e){var t=this;e="number"!=typeof e?0:e;var i=$("#header"),n=$(".InPageNavigation"),o=0,s=t.getBreakpointSize(),r=i.length>0?"fixed"===i.css("position"):!1,a=n.length>0?n.offset().top:null;return null!==a&&e>=a&&"large"===s&&"none"!==n.css("display")?o=n.outerHeight():r&&($headerClone=i.clone(),$headerClone.css("position","fixed"),$headerClone.css("left","-99999px"),e>site.stickyNavigationTransitionPoint?$headerClone.addClass("reducedStickyNavigation"):$headerClone.removeClass("reducedStickyNavigation"),$headerClone.appendTo("body"),o=$headerClone.outerHeight(),$headerClone.remove()),o},getHeaderHeight:function(e){var t=this;e="number"!=typeof e?0:e;var i=0,n=$("#header"),o=t.getBreakpointSize(),s=site.stickyNavigationEnabled;return n&&("large"===o&&s?($headerClone=n.clone(),$headerClone.css("position","fixed"),$headerClone.css("left","-99999px"),e>site.stickyNavigationTransitionPoint?$headerClone.addClass("reducedStickyNavigation"):$headerClone.removeClass("reducedStickyNavigation"),$headerClone.appendTo("body"),i=$headerClone.outerHeight(),$headerClone.remove()):i=n.height()),i},isPageInIframe:function(){return self!==top},getDeviceOrientation:function(){var e=$(window),t="portrait";return e.width()>e.height()&&(t="landscape"),t},getBreakpointSize:function(){var e=$(window).width();return e<=site.breakpoints.small?"small":e<=site.breakpoints.medium?"medium":"large"},isBreakpointSmall:function(){var e=this;return"small"==e.getBreakpointSize()?!0:!1},isBreakpointMedium:function(){var e=this;return"medium"==e.getBreakpointSize()?!0:!1},isMobileDevice:function(){var e;return e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints?!0:!1},isIOS:function(){return/(ipad|iphone|ipod)/i.test(navigator.userAgent.toLowerCase())},isWindowsPhone:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("windows phone")},getAndroidVersion:function(){var e=navigator.userAgent;return e.indexOf("Android")>=0?parseFloat(e.slice(e.indexOf("Android")+8)):void 0},insideTabbedContainer:function(e){var t=!!e.parents(".TabbedContainer").not('[data-total="1"]').length;return t?e.parents(".TabbedContainer"):!1},removeHTMLTags:function(e){var t=e.toString().replace(/[<>=;]/g,"");return t},getUrlParameter:function(e){for(var t=window.location.search.substring(1),i=t.split("&"),n=0;n<i.length;n++){var o,s=i[n].split("=");if(s[0]===e){o=s[1];break}o=!1}return o},addParameterToURL:function(e,t){return""!=t&&(e+=(e.split("?")[1]?"&":"?")+t),e},campaignTrackingPersistance:{setTracking:function(e,t){for(var i={},n=0;n<t.length;n++){var o=t[n],s=site.utils.getUrlParameter(o);s&&(i[o]=s)}if(site.utils.getObjectKeys(i).length>0){var r="JLR_Campaign_Tracking_"+e;site.utils.cookieManager.deleteCookie(r),site.utils.cookieManager.createCookie(r,JSON.stringify(i))}},getTracking:function(e){var t="JLR_Campaign_Tracking_"+e,i="";return site.utils.cookieManager.readCookie(t)&&(i=$.param($.parseJSON(site.utils.cookieManager.readCookie(t)))),i}},getObjectKeys:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t},canvasDrawBgCover:function(e,t,i,n,o,s,r,a){2===arguments.length&&(i=n=0,o=e.canvas.width,s=e.canvas.height),r="number"==typeof r?r:.5,a="number"==typeof a?a:.5,0>r&&(r=0),0>a&&(a=0),r>1&&(r=1),a>1&&(a=1);var l,c,u,d,h=t.width,p=t.height,f=Math.min(o/h,s/p),m=h*f,g=p*f,_=1;o>m&&(_=o/m),s>g&&(_=s/g),m*=_,g*=_,u=h/(m/o),d=p/(g/s),l=(h-u)*r,c=(p-d)*a,0>l&&(l=0),0>c&&(c=0),u>h&&(u=h),d>p&&(d=p),e.drawImage(t,l,c,u,d,i,n,o,s)},isIe:function(){return $("html").hasClass("ie")},isMsEdge:function(){return site.utils.detectBrowsers().isMsEdge},isIe11:function(){return!window.ActiveXObject&&"ActiveXObject"in window},isIe9:function(){return-1!==navigator.appVersion.indexOf("MSIE 9.")?!0:!1},isPageInXPMFrame:function(){return"undefined"!=typeof window.Tridion&&"undefined"!=typeof window.Tridion.Web.UI.SiteEdit?(site.inXPM=!0,!0):!1},elementInViewport:function(e,t,i){if(!e.length)return!1;var n,o,s=$(window),r=s.scrollTop(),a=s.height(),l=e.offset(),c=l.top,u=c+e.height(),d=0,h="small"===this.getBreakpointSize()?20:50;return"undefined"!=typeof i&&i&&(a=window.innerHeight?window.innerHeight:a),d=r+a,"object"==typeof t?(n=t.top,o=t.bottom):(n=t||h,o=t||h),!(c+n>d||r>u-o)},detectBrowsers:function(){var e=navigator.userAgent,t={isChrome:e.indexOf("Chrome")>-1,isMsEdge:e.indexOf("Edge")>-1,isExplorer:e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1,isFirefox:e.indexOf("Firefox")>-1,isSafari:e.indexOf("Safari")>-1,isOpera:e.toLowerCase().indexOf("op")>-1};return t.isChrome&&t.isSafari&&(t.isSafari=!1),t.isChrome&&t.isOpera&&(t.isChrome=!1),t},getRandomString:function(e){e=parseInt(e,10)||0,e=0>e?0:e;for(var t="abcdefghijklmnopqrstuvwxyz0123456789",i=[],n=0;e>n;n++)i.push(t.charAt(Math.floor(Math.random()*t.length)));var o=i.join("");return o},getViewportSize:function(){var e=document.createElement("div");e.style.cssText="position: fixed;top: 0;left: 0;bottom: 0;right: 0;",document.documentElement.insertBefore(e,document.documentElement.firstChild);var t={width:e.offsetWidth,height:e.offsetHeight};return document.documentElement.removeChild(e),t},getEasingValue:function(e){e=0>e?0:e,e=e>1?1:e;var t=e*(2*Math.PI)-Math.PI,i=(Math.cos(t)+1)/2;return i},disableScroll:function(){var e=$(window),t=e.scrollTop();e.on("scroll.disableScroll mousewheel.disableScroll DOMMouseScroll.disableScroll touchmove.disableScroll",function(i){i.preventDefault(),e.scrollTop(t)})},enableScroll:function(){var e=$(window);e.off("scroll.disableScroll mousewheel.disableScroll DOMMouseScroll.disableScroll touchmove.disableScroll")},limitNumber:function(e,t,i){if(t>i){var n=t;t=i,i=n}return Math.max(t,Math.min(i,e))},loadIgnoredResponsiveImages:function(e){e.removeAttr("data-picture-ignore"),window.richsponsiveImage()},throttle:function(e,t,i){t||(t=250);var n,o;return function(){var s=i||this,r=+new Date,a=arguments;n&&n+t>r?(clearTimeout(o),o=setTimeout(function(){n=r,e.apply(s,a)},t)):(n=r,e.apply(s,a))}},measureTextWidth:function(e,t){if(!e)return 0;var t=t||document.body,i=document.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.height="auto",i.style.width="auto",i.style.padding="0",i.style.whiteSpace="nowrap",i.textContent=e,t.appendChild(i);var n=i.clientWidth;return t.removeChild(i),n},getTransitionEndEvent:function(){var e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:" oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var i in t)if(void 0!==e.style[i])return t[i]},template:function(e,t){var i=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"	").split("'").join("\\'").split("	").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');"):site.utils._templateCache[e]=site.utils._templateCache[e]||site.utils.template(document.getElementById(e).innerHTML);return t?i(t):i}};
